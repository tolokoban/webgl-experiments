{"version":3,"sources":["tfw.view.checkbox.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","CODE_BEHIND","init","on","onKeyUp","PM","Touchable","action","evt","indexOf","code","toLowerCase","value","$","Tag","Link","View","Converters","ensureCodeBehind","defVal","args","attName","attValue","undefined","addClassIfTrue","element","className","addClass","removeClass","addClassIfFalse","conv_boolean","get","conv_string","ViewClass","$elements","that","pm","create","cast","e_","e_0","e_bar","bar","e_btn","btn","add","e_3","Object","defineProperty","writable","enumerable","configurable","events","v","bind","A","obj","name","B","clear","class","set","fire","call","ex","console","error","Error","prototype"],"mappings":"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","sourcesContent":["/** @module tfw.view.checkbox */require( 'tfw.view.checkbox', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\n\nvar CODE_BEHIND = {\n  init: init,\n  on: on,\n  onKeyUp: onKeyUp\n};\n\nvar PM = require(\"tfw.binding.property-manager\");\nvar Touchable = require(\"tfw.touchable\");\n\nfunction on( action ) {\n  PM( this ).on( \"value\", action );\n}\n\nfunction onKeyUp( evt ) {\n  if( [\"enter\", \"space\"].indexOf( evt.code.toLowerCase() ) > -1 ) {\n    this.value = !this.value;\n  }\n}\n\nfunction init() {\n  new Touchable( this.$ );\n}\n\n\n\n//===============================\n// XJS:View autogenerated code.\ntry {\n  module.exports = function() {\n    //--------------------\n    // Dependent modules.\n    const $ = require('dom');\n    const PM = require('tfw.binding.property-manager');\n    const Tag = require('tfw.view').Tag;\n    const Link = require('tfw.binding.link');\n    const View = require('tfw.view');;\n    const Converters = require('tfw.binding.converters');\n    //-------------------------------------------------------\n    // Check if needed functions are defined in code behind.\n    View.ensureCodeBehind( CODE_BEHIND, \"on\", \"init\", \"onKeyUp\" );\n    //-------------------\n    // Global functions.\n    function defVal(args, attName, attValue) { return args[attName] === undefined ? attValue : args[attName]; };\n    function addClassIfTrue(element, className, value) {\n    if( value ) $.addClass(element, className);\n    else $.removeClass(element, className); };;\n    function addClassIfFalse(element, className, value) {\n    if( value ) $.removeClass(element, className);\n    else $.addClass(element, className); };;\n    //-------------------\n    // Global variables.\n    const conv_boolean = Converters.get('boolean');\n    const conv_string = Converters.get('string');\n    //-------------------\n    // Class definition.\n    const ViewClass = function( args ) {\n      try {\n        if( typeof args === 'undefined' ) args = {};\n        this.$elements = {};\n                const that = this;\n        const pm = PM(this);\n        //--------------------\n        // Create attributes.\n        pm.create(\"value\", { cast: conv_boolean });\n        pm.create(\"inverted\", { cast: conv_boolean });\n        pm.create(\"visible\", { cast: conv_boolean });\n        pm.create(\"wide\", { cast: conv_boolean });\n        pm.create(\"content\", { cast: conv_string });\n        //------------------\n        // Create elements.\n        const e_ = new Tag('BUTTON', [\"class\"]);\n        const e_0 = new Tag('DIV', [\"class\"]);\n        const e_bar = new Tag('DIV', [\"class\"]);\n        this.$elements.bar = e_bar;\n        const e_btn = new Tag('DIV', [\"class\"]);\n        this.$elements.btn = e_btn;\n        $.add( e_0, e_bar, e_btn );\n        const e_3 = new Tag('DIV', [\"class\"]);\n        $.add( e_, e_0, e_3 );\n        //-----------------------\n        // Declare root element.\n        Object.defineProperty( this, '$', {\n          value: e_.$,\n          writable: false, \n          enumerable: false, \n          configurable: false\n        });\n        //---------\n        // Events.\n        View.events(e_, {\n          \"tap\": function(v) {\n            that.value = that.value ? false : true;\n          },\n          \"keyup\": CODE_BEHIND.onKeyUp.bind( this )\n        });\n        //-------\n        // Links\n        new Link({\n          A:{obj: that,\n              name: 'value'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"ok\", v );}},\n          name:\"value > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'inverted'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"inverted\", v );}},\n          name:\"inverted > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'wide'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"wide\", v );}},\n          name:\"wide > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'visible'},\n          B:{action: function(v) {\n          addClassIfFalse( e_, \"hide\", v );}},\n          name:\"visible > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'value'},\n          B:{action: function(v) {\n          addClassIfTrue( e_bar, \"thm-bgSL\", v );\n          addClassIfFalse( e_bar, \"thm-bg0\", v );}},\n          name:\"value > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'value'},\n          B:{action: function(v) {\n          addClassIfTrue( e_btn, \"thm-bgS\", v );\n          addClassIfFalse( e_btn, \"thm-bg0\", v );}},\n          name:\"value > undefined\"\n        });\n        //-----------------------\n        // On attribute changed.\n        pm.on('content', function(v) { $.clear(e_3, v); });\n        //----------------------\n        // Initialize elements.\n        e_.class = \"tfw-view-checkbox\";\n        e_0.class = \"pin\";\n        e_bar.class = \"bar thm-ele2\";\n        e_btn.class = \"btn thm-ele2\";\n        e_3.class = \"txt\";\n        //------------------------\n        // Initialize attributes.\n        pm.set(\"value\", defVal(args, \"value\", false));\n        pm.set(\"inverted\", defVal(args, \"inverted\", false));\n        pm.set(\"visible\", defVal(args, \"visible\", true));\n        pm.set(\"wide\", defVal(args, \"wide\", true));\n        pm.set(\"content\", defVal(args, \"content\", \"Checkbox\"));\n        pm.fire(\"value\");\n        pm.fire(\"inverted\");\n        pm.fire(\"visible\");\n        pm.fire(\"wide\");\n        pm.fire(\"content\");\n        // Initialization.\n        CODE_BEHIND.init.call( this );\n        $.addClass(this, 'view', 'custom');\n\n      }\n      catch( ex ) {\n        console.error('mod/tfw.view.checkbox.js', ex);\n        throw Error('Instantiation error in XJS of \"mod/tfw.view.checkbox.js\":\\n' + ex)\n      }\n    };\n    //------------------\n    // Static members..\n    ViewClass.prototype.on = CODE_BEHIND.on;\n    return ViewClass;\n  }();\n}\ncatch( ex ) {\n  throw Error('Definition error in XJS of \"mod/tfw.view.checkbox.js\"\\n' + ex);\n}\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}