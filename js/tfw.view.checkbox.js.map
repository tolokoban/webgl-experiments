{"version":3,"sources":["tfw.view.checkbox.js"],"names":["require","module","_","X","D","arguments","intl","all","CODE_BEHIND","init","Touchable","$","on","action","PM","onKeyUp","evt","indexOf","code","toLowerCase","value","exports","defVal","args","attName","attValue","addClassIfTrue","element","className","addClass","removeClass","addClassIfFalse","Tag","Link","View","Converters","ensureCodeBehind","conv_boolean","get","conv_string","ViewClass","$elements","that","pm","create","cast","e_","e_0","e_bar","bar","e_btn","btn","add","e_3","Object","defineProperty","writable","enumerable","configurable","events","bind","A","obj","name","B","v","clear","class","set","fire","call","ex","console","error","Error","prototype"],"mappings":"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","sourcesContent":["/** @module tfw.view.checkbox */require( 'tfw.view.checkbox', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\n\nvar CODE_BEHIND = {\n  init: init,\n  on: on,\n  onKeyUp: onKeyUp\n};\n\nvar PM = require(\"tfw.binding.property-manager\");\nvar Touchable = require(\"tfw.touchable\");\n\nfunction on( action ) {\n  PM( this ).on( \"value\", action );\n}\n\nfunction onKeyUp( evt ) {\n  if( [\"enter\", \"space\"].indexOf( evt.code.toLowerCase() ) > -1 ) {\n    this.value = !this.value;\n  }\n}\n\nfunction init() {\n  new Touchable( this.$ );\n}\n\n\n\n//===============================\n// XJS:View autogenerated code.\ntry {\n  module.exports = function() {\n    //--------------------\n    // Dependent modules.\n    const $ = require('dom');\n    const PM = require('tfw.binding.property-manager');\n    const Tag = require('tfw.view').Tag;\n    const Link = require('tfw.binding.link');\n    const View = require('tfw.view');;\n    const Converters = require('tfw.binding.converters');\n    //-------------------------------------------------------\n    // Check if needed functions are defined in code behind.\n    View.ensureCodeBehind( CODE_BEHIND, \"on\", \"init\", \"onKeyUp\" );\n    //-------------------\n    // Global functions.\n    function defVal(args, attName, attValue) { return args[attName] === undefined ? attValue : args[attName]; };\n    function addClassIfTrue(element, className, value) {\n    if( value ) $.addClass(element, className);\n    else $.removeClass(element, className); };;\n    function addClassIfFalse(element, className, value) {\n    if( value ) $.removeClass(element, className);\n    else $.addClass(element, className); };;\n    //-------------------\n    // Global variables.\n    const conv_boolean = Converters.get('boolean');\n    const conv_string = Converters.get('string');\n    //-------------------\n    // Class definition.\n    const ViewClass = function( args ) {\n      try {\n        if( typeof args === 'undefined' ) args = {};\n        this.$elements = {};\n                const that = this;\n        const pm = PM(this);\n        //--------------------\n        // Create attributes.\n        pm.create(\"value\", { cast: conv_boolean });\n        pm.create(\"inverted\", { cast: conv_boolean });\n        pm.create(\"visible\", { cast: conv_boolean });\n        pm.create(\"wide\", { cast: conv_boolean });\n        pm.create(\"content\", { cast: conv_string });\n        //------------------\n        // Create elements.\n        const e_ = new Tag('BUTTON', [\"class\"]);\n        const e_0 = new Tag('DIV', [\"class\"]);\n        const e_bar = new Tag('DIV', [\"class\"]);\n        this.$elements.bar = e_bar;\n        const e_btn = new Tag('DIV', [\"class\"]);\n        this.$elements.btn = e_btn;\n        $.add( e_0, e_bar, e_btn );\n        const e_3 = new Tag('DIV', [\"class\"]);\n        $.add( e_, e_0, e_3 );\n        //-----------------------\n        // Declare root element.\n        Object.defineProperty( this, '$', {\n          value: e_.$,\n          writable: false, \n          enumerable: false, \n          configurable: false\n        });\n        //---------\n        // Events.\n        View.events(e_, {\n          \"tap\": function(v) {\n            that.value = that.value ? false : true;\n          },\n          \"keyup\": CODE_BEHIND.onKeyUp.bind( this )\n        });\n        //-------\n        // Links\n        new Link({\n          A:{obj: that,\n              name: 'value'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"ok\", v );}},\n          name:\"value > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'inverted'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"inverted\", v );}},\n          name:\"inverted > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'wide'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"wide\", v );}},\n          name:\"wide > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'visible'},\n          B:{action: function(v) {\n          addClassIfFalse( e_, \"hide\", v );}},\n          name:\"visible > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'value'},\n          B:{action: function(v) {\n          addClassIfTrue( e_bar, \"thm-bgSL\", v );\n          addClassIfFalse( e_bar, \"thm-bg0\", v );}},\n          name:\"value > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'value'},\n          B:{action: function(v) {\n          addClassIfTrue( e_btn, \"thm-bgS\", v );\n          addClassIfFalse( e_btn, \"thm-bg0\", v );}},\n          name:\"value > undefined\"\n        });\n        //-----------------------\n        // On attribute changed.\n        pm.on('content', function(v) { $.clear(e_3, v); });\n        //----------------------\n        // Initialize elements.\n        e_.class = \"tfw-view-checkbox\";\n        e_0.class = \"pin\";\n        e_bar.class = \"bar thm-ele2\";\n        e_btn.class = \"btn thm-ele2\";\n        e_3.class = \"txt\";\n        //------------------------\n        // Initialize attributes.\n        pm.set(\"value\", defVal(args, \"value\", false));\n        pm.set(\"inverted\", defVal(args, \"inverted\", false));\n        pm.set(\"visible\", defVal(args, \"visible\", true));\n        pm.set(\"wide\", defVal(args, \"wide\", true));\n        pm.set(\"content\", defVal(args, \"content\", \"Checkbox\"));\n        pm.fire(\"value\");\n        pm.fire(\"inverted\");\n        pm.fire(\"visible\");\n        pm.fire(\"wide\");\n        pm.fire(\"content\");\n        // Initialization.\n        CODE_BEHIND.init.call( this );\n        $.addClass(this, 'view', 'custom');\n\n      }\n      catch( ex ) {\n        console.error('mod/tfw.view.checkbox.js', ex);\n        throw Error('Instantiation error in XJS of \"mod/tfw.view.checkbox.js\":\\n' + ex)\n      }\n    };\n    //------------------\n    // Static members..\n    ViewClass.prototype.on = CODE_BEHIND.on;\n    return ViewClass;\n  }();\n}\ncatch( ex ) {\n  throw Error('Definition error in XJS of \"mod/tfw.view.checkbox.js\"\\n' + ex);\n}\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}