"use strict";function _typeof(obj){return _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(obj){return typeof obj}:function(obj){return obj&&"function"==typeof Symbol&&obj.constructor===Symbol&&obj!==Symbol.prototype?"symbol":typeof obj},_typeof(obj)}require("polyfill.promise",function(require,module){var _=function(){function _(){return X(D,arguments)}var D={en:{},fr:{}},X=require("$").intl;return _.all=D,_}();window.Promise||function(){"use strict";function $$utils$$objectOrFunction(x){return"function"==typeof x||"object"===_typeof(x)&&null!==x}function $$utils$$isFunction(x){return"function"==typeof x}function $$utils$$isMaybeThenable(x){return"object"===_typeof(x)&&null!==x}function $$utils$$F(){}function $$asap$$flush(){for(var i=0;i<$$asap$$len;i+=2){var callback=$$asap$$queue[i],arg=$$asap$$queue[i+1];callback(arg),$$asap$$queue[i]=void 0,$$asap$$queue[i+1]=void 0}$$asap$$len=0}function $$$internal$$noop(){}function $$$internal$$selfFullfillment(){return new TypeError("You cannot resolve a promise with itself")}function $$$internal$$cannotReturnOwn(){return new TypeError("A promises callback cannot return that same promise.")}function $$$internal$$getThen(promise){try{return promise.then}catch(error){return $$$internal$$GET_THEN_ERROR.error=error,$$$internal$$GET_THEN_ERROR}}function $$$internal$$tryThen(then,value,fulfillmentHandler,rejectionHandler){try{then.call(value,fulfillmentHandler,rejectionHandler)}catch(e){return e}}function $$$internal$$handleForeignThenable(promise,thenable,then){$$asap$$default(function(promise){var sealed=!1,error=$$$internal$$tryThen(then,thenable,function(value){sealed||(sealed=!0,thenable===value?$$$internal$$fulfill(promise,value):$$$internal$$resolve(promise,value))},function(reason){sealed||(sealed=!0,$$$internal$$reject(promise,reason))},"Settle: "+(promise._label||" unknown promise"));!sealed&&error&&(sealed=!0,$$$internal$$reject(promise,error))},promise)}function $$$internal$$handleOwnThenable(promise,thenable){thenable._state===1?$$$internal$$fulfill(promise,thenable._result):promise._state===2?$$$internal$$reject(promise,thenable._result):$$$internal$$subscribe(thenable,void 0,function(value){$$$internal$$resolve(promise,value)},function(reason){$$$internal$$reject(promise,reason)})}function $$$internal$$handleMaybeThenable(promise,maybeThenable){if(maybeThenable.constructor===promise.constructor)$$$internal$$handleOwnThenable(promise,maybeThenable);else{var then=$$$internal$$getThen(maybeThenable);then===$$$internal$$GET_THEN_ERROR?$$$internal$$reject(promise,$$$internal$$GET_THEN_ERROR.error):then===void 0?$$$internal$$fulfill(promise,maybeThenable):$$utils$$isFunction(then)?$$$internal$$handleForeignThenable(promise,maybeThenable,then):$$$internal$$fulfill(promise,maybeThenable)}}function $$$internal$$resolve(promise,value){promise===value?$$$internal$$reject(promise,$$$internal$$selfFullfillment()):$$utils$$objectOrFunction(value)?$$$internal$$handleMaybeThenable(promise,value):$$$internal$$fulfill(promise,value)}function $$$internal$$publishRejection(promise){promise._onerror&&promise._onerror(promise._result),$$$internal$$publish(promise)}function $$$internal$$fulfill(promise,value){void 0!==promise._state||(promise._result=value,promise._state=1,0===promise._subscribers.length||$$asap$$default($$$internal$$publish,promise))}function $$$internal$$reject(promise,reason){void 0!==promise._state||(promise._state=2,promise._result=reason,$$asap$$default($$$internal$$publishRejection,promise))}function $$$internal$$subscribe(parent,child,onFulfillment,onRejection){var subscribers=parent._subscribers,length=subscribers.length;parent._onerror=null,subscribers[length]=child,subscribers[length+1]=onFulfillment,subscribers[length+2]=onRejection,0===length&&parent._state&&$$asap$$default($$$internal$$publish,parent)}function $$$internal$$publish(promise){var subscribers=promise._subscribers,settled=promise._state;if(0!==subscribers.length){for(var child,callback,detail=promise._result,i=0;i<subscribers.length;i+=3)child=subscribers[i],callback=subscribers[i+settled],child?$$$internal$$invokeCallback(settled,child,callback,detail):callback(detail);promise._subscribers.length=0}}function $$$internal$$ErrorObject(){this.error=null}function $$$internal$$tryCatch(callback,detail){try{return callback(detail)}catch(e){return $$$internal$$TRY_CATCH_ERROR.error=e,$$$internal$$TRY_CATCH_ERROR}}function $$$internal$$invokeCallback(settled,promise,callback,detail){var value,error,succeeded,failed,hasCallback=$$utils$$isFunction(callback);if(!hasCallback)value=detail,succeeded=!0;else if(value=$$$internal$$tryCatch(callback,detail),value===$$$internal$$TRY_CATCH_ERROR?(failed=!0,error=value.error,value=null):succeeded=!0,promise===value)return void $$$internal$$reject(promise,$$$internal$$cannotReturnOwn());promise._state!==void 0||(hasCallback&&succeeded?$$$internal$$resolve(promise,value):failed?$$$internal$$reject(promise,error):settled===1?$$$internal$$fulfill(promise,value):settled===2&&$$$internal$$reject(promise,value))}function $$$internal$$initializePromise(promise,resolver){try{resolver(function(value){$$$internal$$resolve(promise,value)},function(reason){$$$internal$$reject(promise,reason)})}catch(e){$$$internal$$reject(promise,e)}}function $$$enumerator$$Enumerator(Constructor,input,abortOnReject,label){this._instanceConstructor=Constructor,this.promise=new Constructor($$$internal$$noop,label),this._abortOnReject=abortOnReject,this._validateInput(input)?(this._input=input,this.length=input.length,this._remaining=input.length,this._init(),0===this.length?$$$internal$$fulfill(this.promise,this._result):(this.length=this.length||0,this._enumerate(),0===this._remaining&&$$$internal$$fulfill(this.promise,this._result))):$$$internal$$reject(this.promise,this._validationError())}function $$es6$promise$promise$$needsResolver(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function $$es6$promise$promise$$needsNew(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function $$es6$promise$promise$$Promise(resolver,label){this._id=$$es6$promise$promise$$counter++,this._label=label,this._state=void 0,this._result=void 0,this._subscribers=[],$$$internal$$noop!==resolver&&(!$$utils$$isFunction(resolver)&&$$es6$promise$promise$$needsResolver(),!(this instanceof $$es6$promise$promise$$Promise)&&$$es6$promise$promise$$needsNew(),$$$internal$$initializePromise(this,resolver))}var $$utils$$_isArray=Array.isArray?Array.isArray:function(x){return"[object Array]"===Object.prototype.toString.call(x)};var $$asap$$scheduleFlush,$$utils$$isArray=$$utils$$_isArray,$$utils$$now=Date.now||function(){return new Date().getTime()},$$utils$$o_create=Object.create||function(o){if(1<arguments.length)throw new Error("Second argument not supported");if("object"!==_typeof(o))throw new TypeError("Argument must be an object");return $$utils$$F.prototype=o,new $$utils$$F},$$asap$$len=0,$$asap$$default=function(callback,arg){$$asap$$queue[$$asap$$len]=callback,$$asap$$queue[$$asap$$len+1]=arg,$$asap$$len+=2,2===$$asap$$len&&$$asap$$scheduleFlush()},$$asap$$browserGlobal="undefined"==typeof window?{}:window,$$asap$$BrowserMutationObserver=$$asap$$browserGlobal.MutationObserver||$$asap$$browserGlobal.WebKitMutationObserver,$$asap$$isWorker="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,$$asap$$queue=Array(1e3);$$asap$$scheduleFlush="undefined"!=typeof process&&"[object process]"==={}.toString.call(process)?function(){return function(){process.nextTick($$asap$$flush)}}():$$asap$$BrowserMutationObserver?function(){var iterations=0,observer=new $$asap$$BrowserMutationObserver($$asap$$flush),node=document.createTextNode("");return observer.observe(node,{characterData:!0}),function(){node.data=iterations=++iterations%2}}():$$asap$$isWorker?function(){var channel=new MessageChannel;return channel.port1.onmessage=$$asap$$flush,function(){channel.port2.postMessage(0)}}():function(){return function(){setTimeout($$asap$$flush,1)}}();var $$$internal$$FULFILLED=1,$$$internal$$REJECTED=2,$$$internal$$GET_THEN_ERROR=new $$$internal$$ErrorObject,$$$internal$$TRY_CATCH_ERROR=new $$$internal$$ErrorObject;$$$enumerator$$Enumerator.prototype._validateInput=function(input){return $$utils$$isArray(input)},$$$enumerator$$Enumerator.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},$$$enumerator$$Enumerator.prototype._init=function(){this._result=Array(this.length)};$$$enumerator$$Enumerator.prototype._enumerate=function(){for(var length=this.length,promise=this.promise,input=this._input,i=0;promise._state===void 0&&i<length;i++)this._eachEntry(input[i],i)},$$$enumerator$$Enumerator.prototype._eachEntry=function(entry,i){var c=this._instanceConstructor;$$utils$$isMaybeThenable(entry)?entry.constructor===c&&entry._state!==void 0?(entry._onerror=null,this._settledAt(entry._state,i,entry._result)):this._willSettleAt(c.resolve(entry),i):(this._remaining--,this._result[i]=this._makeResult($$$internal$$FULFILLED,i,entry))},$$$enumerator$$Enumerator.prototype._settledAt=function(state,i,value){var promise=this.promise;promise._state===void 0&&(this._remaining--,this._abortOnReject&&state===$$$internal$$REJECTED?$$$internal$$reject(promise,value):this._result[i]=this._makeResult(state,i,value)),0===this._remaining&&$$$internal$$fulfill(promise,this._result)},$$$enumerator$$Enumerator.prototype._makeResult=function(state,i,value){return value},$$$enumerator$$Enumerator.prototype._willSettleAt=function(promise,i){var enumerator=this;$$$internal$$subscribe(promise,void 0,function(value){enumerator._settledAt($$$internal$$FULFILLED,i,value)},function(reason){enumerator._settledAt($$$internal$$REJECTED,i,reason)})};var $$promise$resolve$$default=function(object,label){var Constructor=this;if(object&&"object"===_typeof(object)&&object.constructor===Constructor)return object;var promise=new Constructor($$$internal$$noop,label);return $$$internal$$resolve(promise,object),promise},$$es6$promise$promise$$counter=0,$$es6$promise$promise$$default=$$es6$promise$promise$$Promise;$$es6$promise$promise$$Promise.all=function(entries,label){return new $$$enumerator$$Enumerator(this,entries,!0,label).promise},$$es6$promise$promise$$Promise.race=function(entries,label){function onFulfillment(value){$$$internal$$resolve(promise,value)}function onRejection(reason){$$$internal$$reject(promise,reason)}var Constructor=this,promise=new Constructor($$$internal$$noop,label);if(!$$utils$$isArray(entries))return $$$internal$$reject(promise,new TypeError("You must pass an array to race.")),promise;for(var length=entries.length,i=0;promise._state===void 0&&i<length;i++)$$$internal$$subscribe(Constructor.resolve(entries[i]),void 0,onFulfillment,onRejection);return promise},$$es6$promise$promise$$Promise.resolve=$$promise$resolve$$default,$$es6$promise$promise$$Promise.reject=function(reason,label){var Constructor=this,promise=new Constructor($$$internal$$noop,label);return $$$internal$$reject(promise,reason),promise},$$es6$promise$promise$$Promise.prototype={constructor:$$es6$promise$promise$$Promise,then:function then(onFulfillment,onRejection,label){var parent=this,state=parent._state;if(state===$$$internal$$FULFILLED&&!onFulfillment||state===$$$internal$$REJECTED&&!onRejection)return this;parent._onerror=null;var child=new this.constructor($$$internal$$noop,label),result=parent._result;if(state){var callback=arguments[state-1];$$asap$$default(function(){$$$internal$$invokeCallback(state,child,callback,result)})}else $$$internal$$subscribe(parent,child,onFulfillment,onRejection);return child},catch:function _catch(onRejection,label){return this.then(null,onRejection,label)}};var $$es6$promise$polyfill$$default=function(){var local="undefined"==typeof global?"undefined"!=typeof window&&window.document?window:self:global;var es6PromiseSupport="Promise"in local&&"resolve"in local.Promise&&"reject"in local.Promise&&"all"in local.Promise&&"race"in local.Promise&&function(){var resolve;return new local.Promise(function(r){resolve=r}),$$utils$$isFunction(resolve)}();es6PromiseSupport||(local.Promise=$$es6$promise$promise$$default)};$$es6$promise$polyfill$$default()}.call(this),module.exports._=_});
//# sourceMappingURL=polyfill.promise.js.map