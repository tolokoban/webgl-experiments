{"version":3,"sources":["tfw.view.textbox.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","$","CODE_BEHIND","onKeyUp","onValueChanged","MAX_AUTOCOMPLETION_SUGGESTIONS","evt","key","value","$elements","input","action","v","manageValidator","call","manageAutoCompletion","valid","validator","that","list","Array","isArray","length","elemCompletion","completion","clear","textToSearch","trim","toLowerCase","elementsCount","forEach","completionText","pos","indexOf","addCompletionItem","begin","elem","div","add","tag","substr","on","PM","Tag","Link","View","Converters","ensureCodeBehind","defVal","args","attName","attValue","undefined","addClassIfTrue","element","className","addClass","removeClass","addClassIfFalse","addAttribIfFalse","attribName","removeAtt","att","conv_string","get","conv_boolean","conv_unit","conv_strings","conv_validator","conv_integer","conv_isEmpty","ViewClass","pm","create","cast","createAction","e_","e_head","head","e_body","e_input","body","e_foot","foot","e_bottom","bottom","e_5","e_completion","Object","defineProperty","writable","enumerable","configurable","events","bind","A","obj","name","B","open","converter","delay","ex","console","error","style","class","set","fire","Error"],"mappings":"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","sourcesContent":["/** @module tfw.view.textbox */require( 'tfw.view.textbox', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\nconst $ = require( \"dom\" );\r\n\r\n/* exported CODE_BEHIND */\r\nconst CODE_BEHIND = { onKeyUp, onValueChanged };\r\n\r\nconst MAX_AUTOCOMPLETION_SUGGESTIONS = 99;\r\n\r\n\r\nfunction onKeyUp( evt ) {\r\n    if ( evt.key === 'Enter' ) {\r\n        this.value = this.$elements.input.value;\r\n        this.action = this.value;\r\n    }\r\n}\r\n\r\nfunction onValueChanged( v ) {\r\n    manageValidator.call( this, v );\r\n    manageAutoCompletion.call( this, v );\r\n}\r\n\r\nfunction manageValidator( v ) {\r\n    this.valid = this.validator( v );\r\n}\r\n\r\nfunction manageAutoCompletion( v ) {\r\n    var that = this;\r\n    var list = this.list;\r\n    if ( !Array.isArray( list ) || list.length === 0 ) return;\r\n\r\n    var elemCompletion = this.$elements.completion;\r\n    $.clear( elemCompletion );\r\n    var textToSearch = v.trim().toLowerCase();\r\n    var elementsCount = 0;\r\n    list.forEach( function ( completionText ) {\r\n        var pos = completionText.toLowerCase().indexOf( textToSearch );\r\n        if ( pos !== 0 ) return;\r\n        elementsCount++;\r\n        if ( elementsCount > MAX_AUTOCOMPLETION_SUGGESTIONS ) return;\r\n        addCompletionItem.call( that, elemCompletion, completionText, pos, textToSearch.length );\r\n    } );\r\n    if ( elementsCount < MAX_AUTOCOMPLETION_SUGGESTIONS ) {\r\n        list.forEach( function ( completionText ) {\r\n            var pos = completionText.toLowerCase().indexOf( textToSearch );\r\n            if ( pos < 1 ) return;\r\n            elementsCount++;\r\n            if ( elementsCount > MAX_AUTOCOMPLETION_SUGGESTIONS ) return;\r\n            addCompletionItem.call( that, elemCompletion, completionText, pos, textToSearch.length );\r\n        } );\r\n    }\r\n}\r\n\r\n\r\nfunction addCompletionItem( elemCompletion, completionText, begin, length ) {\r\n    var that = this;\r\n    var elem = $.div();\r\n    if ( begin > 0 ) {\r\n        $.add( elem, $.tag( 'span', [ completionText.substr( 0, begin ) ] ) );\r\n    }\r\n    $.add( elem, $.tag( 'b', [ completionText.substr( begin, length ) ] ) );\r\n    if ( begin + length < completionText.length ) {\r\n        $.add( elem, $.tag( 'span', [ completionText.substr( begin + length ) ] ) );\r\n    }\r\n    $.on( elem, function ( v ) {\r\n        that.value = completionText;\r\n    } );\r\n    $.add( elemCompletion, elem );\r\n}\n\n\n//===============================\n// XJS:View autogenerated code.\ntry {\n  module.exports = function() {\n    //--------------------\n    // Dependent modules.\n    const $ = require('dom');\n    const PM = require('tfw.binding.property-manager');\n    const Tag = require('tfw.view').Tag;\n    const Link = require('tfw.binding.link');\n    const View = require('tfw.view');;\n    const Converters = require('tfw.binding.converters');\n    //-------------------------------------------------------\n    // Check if needed functions are defined in code behind.\n    View.ensureCodeBehind( CODE_BEHIND, \"onValueChanged\", \"onKeyUp\" );\n    //-------------------\n    // Global functions.\n    function defVal(args, attName, attValue) { return args[attName] === undefined ? attValue : args[attName]; };\n    function addClassIfTrue(element, className, value) {\n    if( value ) $.addClass(element, className);\n    else $.removeClass(element, className); };;\n    function addClassIfFalse(element, className, value) {\n    if( value ) $.removeClass(element, className);\n    else $.addClass(element, className); };;\n    function addAttribIfFalse(element, attribName, value) {\n    if( value ) $.removeAtt(element, attribName);\n    else $.att(element, attribName); };;\n    //-------------------\n    // Global variables.\n    const conv_string = Converters.get('string');\n    const conv_boolean = Converters.get('boolean');\n    const conv_unit = Converters.get('unit');\n    const conv_strings = Converters.get('strings');\n    const conv_validator = Converters.get('validator');\n    const conv_integer = Converters.get('integer');\n    const conv_isEmpty = Converters.get('isEmpty');\n    //-------------------\n    // Class definition.\n    const ViewClass = function( args ) {\n      try {\n        if( typeof args === 'undefined' ) args = {};\n        this.$elements = {};\n                const that = this;\n        const pm = PM(this);\n        //--------------------\n        // Create attributes.\n        pm.create(\"label\", { cast: conv_string });\n        pm.create(\"type\", { cast: conv_string });\n        pm.create(\"wide\", { cast: conv_boolean });\n        pm.create(\"focus\", { cast: conv_boolean });\n        pm.create(\"enabled\", { cast: conv_boolean });\n        pm.create(\"visible\", { cast: conv_boolean });\n        pm.create(\"width\", { cast: conv_unit });\n        pm.createAction(\"action\")\n        pm.create(\"list\", { cast: conv_strings });\n        pm.create(\"validator\", { cast: conv_validator });\n        pm.create(\"valid\", { cast: conv_boolean });\n        pm.create(\"value\", { cast: conv_string });\n        pm.create(\"maxLength\", { cast: conv_integer(0) });\n        //------------------\n        // Create elements.\n        const e_ = new Tag('DIV', [\"class\"]);\n        const e_head = new Tag('DIV', [\"class\",\"textcontent\"]);\n        this.$elements.head = e_head;\n        const e_body = new Tag('DIV', [\"class\"]);\n        const e_input = new Tag('INPUT', [\"class\",\"type\",\"maxLength\",\"value\",\"focus\"]);\n        this.$elements.input = e_input;\n        $.add( e_body, e_input );\n        this.$elements.body = e_body;\n        const e_foot = new Tag('DIV', [\"class\"]);\n        this.$elements.foot = e_foot;\n        const e_bottom = new Tag('DIV', [\"class\"]);\n        this.$elements.bottom = e_bottom;\n        const e_5 = new Tag('FOOTER');\n        const e_completion = new Tag('DIV', [\"class\"]);\n        this.$elements.completion = e_completion;\n        $.add( e_5, e_completion );\n        $.add( e_, e_head, e_body, e_foot, e_bottom, e_5 );\n        //-----------------------\n        // Declare root element.\n        Object.defineProperty( this, '$', {\n          value: e_.$,\n          writable: false, \n          enumerable: false, \n          configurable: false\n        });\n        //---------\n        // Events.\n        View.events(e_input, {\n          \"keyup\": CODE_BEHIND.onKeyUp.bind( this )\n        });\n        //-------\n        // Links\n        new Link({\n          A:{obj: that,\n              name: 'wide'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"wide\", v );}},\n          name:\"wide > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'focus',\n              open: false},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"thm-bgSL\", v );\n          addClassIfFalse( e_, \"thm-bg3\", v );}},\n          name:\"focus > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'focus'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"focus\", v );}},\n          name:\"focus > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'label'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"no-label\", v );},\n              converter: conv_isEmpty},\n          name:\"label > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'enabled'},\n          B:{action: function(v) {\n          addClassIfFalse( e_, \"disabled\", v );}},\n          name:\"enabled > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'visible'},\n          B:{action: function(v) {\n          addClassIfFalse( e_, \"hide\", v );}},\n          name:\"visible > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'valid'},\n          B:{action: function(v) {\n          addClassIfFalse( e_, \"invalid\", v );}},\n          name:\"valid > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'label'},\n          B:{obj: e_head,\n              name: 'textcontent'},\n          name:\"label > e_head/textcontent\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'type'},\n          B:{obj: e_input,\n              name: 'type'},\n          name:\"type > e_input/type\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'maxLength'},\n          B:{obj: e_input,\n              name: 'maxLength'},\n          name:\"max-length > e_input/maxLength\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'value',\n              delay: 350},\n          B:{obj: e_input,\n              name: 'value'},\n          name:\"value > e_input/value\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'focus'},\n          B:{obj: e_input,\n              name: 'focus'},\n          name:\"focus > e_input/focus\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'enabled'},\n          B:{action: function(v) {\n          addAttribIfFalse( e_input, \"disabled\", v );}},\n          name:\"enabled > undefined\"\n        });\n        //-----------------------\n        // On attribute changed.\n        pm.on(\"value\", function(v) {\n          try {\n            CODE_BEHIND.onValueChanged.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onValueChanged\" of module \"mod/tfw.view.textbox.js\" for attribute \"value\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"width\", function(v) {\n          e_body.$.style[\"width\"] = v;\n        });\n        //----------------------\n        // Initialize elements.\n        e_.class = \"tfw-view-textbox\";\n        e_head.class = \"head thm-fg thm-bgPL\";\n        e_body.class = \"body\";\n        e_input.class = \"thm-fg\";\n        e_foot.class = \"foot\";\n        e_bottom.class = \"bottom thm-bgSD\";\n        e_completion.class = \"completion thm-fg thm-bg2 thm-ele4\";\n        //------------------------\n        // Initialize attributes.\n        pm.set(\"label\", defVal(args, \"label\", \"\"));\n        pm.set(\"type\", defVal(args, \"type\", \"text\"));\n        pm.set(\"wide\", defVal(args, \"wide\", false));\n        pm.set(\"focus\", defVal(args, \"focus\", false));\n        pm.set(\"enabled\", defVal(args, \"enabled\", true));\n        pm.set(\"visible\", defVal(args, \"visible\", true));\n        pm.set(\"width\", defVal(args, \"width\", \"auto\"));\n        pm.set(\"list\", args[\"list\"]);\n        pm.set(\"validator\", defVal(args, \"validator\", \"\"));\n        pm.set(\"valid\", defVal(args, \"valid\", false));\n        pm.set(\"value\", defVal(args, \"value\", \"\"));\n        pm.set(\"maxLength\", defVal(args, \"maxLength\", 999));\n        pm.fire(\"label\");\n        pm.fire(\"type\");\n        pm.fire(\"wide\");\n        pm.fire(\"focus\");\n        pm.fire(\"enabled\");\n        pm.fire(\"visible\");\n        pm.fire(\"width\");\n        pm.fire(\"list\");\n        pm.fire(\"validator\");\n        pm.fire(\"valid\");\n        pm.fire(\"value\");\n        pm.fire(\"maxLength\");\n        $.addClass(this, 'view', 'custom');\n\n      }\n      catch( ex ) {\n        console.error('mod/tfw.view.textbox.js', ex);\n        throw Error('Instantiation error in XJS of \"mod/tfw.view.textbox.js\":\\n' + ex)\n      }\n    };\n    return ViewClass;\n  }();\n}\ncatch( ex ) {\n  throw Error('Definition error in XJS of \"mod/tfw.view.textbox.js\"\\n' + ex);\n}\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}