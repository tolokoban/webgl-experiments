"use strict";function addListener(t,e){window.addEventListener?window.addEventListener(t,e,!1):window.attachEvent("on"+t,e)}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n,r=0;r<e.length;r++)n=e[r],n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(t,n.key,n)}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function _typeof(t){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}!function(t){const e="node://".length,n={},r={},i="function"==typeof window.require?window.require:null,o=function(s,a){if("node://"===s.substr(0,e)){if(!i)throw Error("[require] NodeJS is not available to load module "+s.substr(e));return i(s.substr(e))}if("function"==typeof a)return r[s]=a,a;const u=r[s];if(void 0===u){const c=new Error("Required module is missing: "+s);throw console.error(c.stack),c}var l=n[s];if(void 0===l){l={exports:{}};const h=l.exports;u.call(t,o,l,h),n[s]=l.exports,l=l.exports}return l};t.APP={},t.require=o}(this),addListener("DOMContentLoaded",function(){document.body.parentNode.$data={},APP=require("test"),setTimeout(function(){"function"==typeof APP.start&&APP.start()})}),require("$",function(t,e,n){function r(t,e){var n=t;if(1<e.length){for(var r,i="",o=0,s=0;s<t.length;s++)if("$"===(r=t.charAt(s))){i+=t.substring(o,s),s++;var a=t.charCodeAt(s)-48;i+=0>a||a>=e.length?"$".concat(t.charAt(s)):e[a],o=s+1}else"\\"===r&&(i+=t.substring(o,s),s++,i+=t.charAt(s),o=s+1);i+=t.substr(o),n=i}return n}n.config={name:'"webgl-experiments"',description:'"WebGL study by tutorials"',author:'"tolokoban"',version:'"0.0.124"',major:"0",minor:"0",revision:"124",date:"2019-01-27T17:55:22.412Z",consts:{}},n.lang=function(t){var e=t;return void 0===e&&(window.localStorage&&(e=window.localStorage.getItem("Language")),!e&&!(e=window.navigator.language)&&!(e=window.navigator.browserLanguage)&&(e="fr"),e=e.substr(0,2).toLowerCase()),window.localStorage&&window.localStorage.setItem("Language",e),e},n.intl=function(t,e){var i=t[n.lang()],o=e[0],s=Object.keys(t)[0];if(!s)return o;if(!i&&!(i=t[s]))return o;var a=i[o];return a||(i=t[s],a=i[o]),a?r(a,e):o}}),require("test",function(t,e,n){var r=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}();n.start=function(){var t=i.tag("canvas",{width:400,height:900}),e=t.getContext("2d");i.addClass(t,"thm-ele8"),i.css(t,{margin:"48px"}),i.add(document.body,t);var n=o(t);n.on("wheel",function(t){console.info("[test] evt=",t),t.preventDefault()}),n.on("tap",function(t){var n=t.x,r=t.y;e.strokeStyle="#37f",e.beginPath(),e.moveTo(n,r-10),e.lineTo(n,r+10),e.moveTo(n-10,r),e.lineTo(n+10,r),e.stroke()}),n.on("doubletap",function(t){var n=t.x,r=t.y;e.fillStyle="#eee",e.beginPath(),e.moveTo(n-100,r-100),e.lineTo(n+100,r-100),e.lineTo(n+100,r+100),e.lineTo(n-100,r+100),e.closePath(),e.fill()}),n.on("drag",function(t){console.info("[test] evt=",t),t.preventDefault();var n=t.x,r=t.y,i=t.x0,o=t.y0,s=n-t.vx,a=r-t.vy;e.strokeStyle="#f80",e.beginPath(),e.moveTo(n,r),e.lineTo(s,a),e.stroke(),e.strokeStyle="#f801",e.beginPath(),e.moveTo(n,r),e.lineTo(i,o),e.stroke()}),n.on("down",function(t){console.info("[test] DOWN",t);var n=t.x,r=t.y;e.strokeStyle="#333",e.beginPath(),e.moveTo(n-8,r-8),e.lineTo(n+8,r+8),e.moveTo(n-8,r+8),e.lineTo(n+8,r-8),e.stroke()}),n.on("up",function(t){console.info("[test] UP",t);var n=t.x,r=t.y;e.strokeStyle="#f00",e.beginPath(),e.moveTo(n-12,r-12),e.lineTo(n+12,r-12),e.lineTo(n+12,r+12),e.lineTo(n-12,r+12),e.closePath(),e.stroke()})};var i=t("dom"),o=t("tfw.gestures");e.exports._=r}),require("tfw.gestures",function(t,e){function n(t,e){for(var n=this._events[t].chain,r=0;r<n.length;r++)if(!0===(0,n[r])(e))return}function r(t,e){var r=l(t,"hammer.");r&&!this._hammer&&(this._hammer=new g(this.$,{domEvents:!0}),this._hammer.domEvents=!0);var i=this._events[t];if(!i){var o=n.bind(this,t);i={chain:[],handler:o},r?this._hammer.on(r,o):this.$.addEventListener(t,o),this._events[t]=i}i.chain.push(e)}function i(t,e){if("string"!=typeof t)throw Error("[Gestures.on] `name` must be a string: "+JSON(t)+"!");if(-1===v.indexOf(t))throw Error("Unknown gesture's name `"+t+"`!\nAvailable names are: "+v.join(", ")+".");if("function"!=typeof e)throw Error("Gesture `"+t+"` must have a function as slot!")}function o(t){if(t instanceof Node)return t;if(void 0===t||null===t)throw Error("Not a valid DOM element!",t);if(t.$ instanceof Node)return t.$;if(t.element instanceof Node)return t.element;if("string"==typeof t){var e=document.getElementById(t);return e||console.error("There is no DOM element with this ID: `"+t+"`"),e}return"function"==typeof t.element?t.element():t}function s(t,e){var n,r;n=e.center.x,r=e.center.y;var i=t.getBoundingClientRect();e.x=n-i.left,e.y=r-i.top}function a(t,e){var n,r;n=e.clientX,r=e.clientY;var i=t.getBoundingClientRect();return{x:n-i.left,y:r-i.top}}function u(t,e){e.vx=e.x-this._dragX,e.vy=e.y-this._dragY,e.x0=e.x-e.deltaX,e.y0=e.y-e.deltaY,this._dragX=e.x,this._dragY=e.y}function c(t){if(!t||!t.srcEvent)return 0;var e=t.srcEvent.buttons;return"number"==typeof e?e:0}function l(t,e){return t.substr(0,e.length)==e?t.substr(e.length):null}var h=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}();e.exports=function(t){var e=o(t);return e[p]||(e[p]=new m(e)),e[p]};var f={tap:function(t,e){var n=this;t("hammer.tap",function(t){return!(1!==t.tapCount||(s(n.$,t),e({x:t.x,y:t.y,target:t.target,preventDefault:t.preventDefault.bind(t)}),0))})},doubletap:function(t,e){var n=this;t("hammer.tap",function(t){return!(2!==t.tapCount||(s(n.$,t),e({x:t.x,y:t.y,target:t.target,preventDefault:t.preventDefault.bind(t)}),0))})},drag:function(t,e,n){var r=this;t("hammer.pan",function(t){if(t.isFinal)return!1;s(r.$,t),void 0===r._dragX&&(r._dragX=t.x,r._dragY=t.y,r._dragStart=!0),u.call(r,r.$,t);var i=t.srcEvent;return e({x:t.x,y:t.y,x0:t.x0,y0:t.y0,vx:t.vx,vy:t.vy,sx:t.velocityX,sy:t.velocityY,event:t,target:t.target,buttons:c(t),preventDefault:i.preventDefault.bind(i),stopPropagation:i.stopImmediatePropagation.bind(i)},n),!0})},dragstart:function(t,e){var n=this;t("hammer.panstart",function(t){console.log("START"),s.call(n,n.$,t);var r=t.srcEvent;return e({x:t.x,y:t.y,target:t.target,preventDefault:r.preventDefault.bind(r),stopPropagation:r.stopImmediatePropagation.bind(r)}),!0})},dragend:function(t,e){var n=this;t("hammer.panend",function(t){s(n.$,t),u.call(n,n.$,t);var r=t.srcEvent;return e({x:t.x,y:t.y,x0:t.x0,y0:t.y0,target:t.target,preventDefault:r.preventDefault.bind(r),stopPropagation:r.stopImmediatePropagation.bind(r)}),delete n._dragX,delete n._dragY,!0})},move:function(t,e){var n=this;t("mousemove",function(t){var r=a(n.$,t);r.preventDefault=t.preventDefault.bind(t),r.stopPropagation=t.stopPropagation.bind(t),r.event=t,e(r)})},down:function(t,e){var n=this;t("touchstart",function(t){if(!t.changedTouches||1>t.changedTouches.length)return!1;var r=t.changedTouches[0],i=n.$.getBoundingClientRect();try{e({x:r.clientX-i.left,y:r.clientY-i.top,preventDefault:t.preventDefault.bind(t),stopPropagation:t.stopPropagation.bind(t)})}catch(t){console.error(t)}return!0}),t("mousedown",function(t){if(350>Date.now()-n._touchstart)return t.preventDefault(),t.stopPropagation(),!1;var r=n.$.getBoundingClientRect();try{e({x:t.clientX-r.left,y:t.clientY-r.top,preventDefault:t.preventDefault.bind(t),stopPropagation:t.stopPropagation.bind(t)})}catch(t){console.error(t)}return n._touchstart=0,!0})},up:function(t,e){var n=this;t("touchend",function(t){if(!t.changedTouches||1>t.changedTouches.length)return!1;var r=t.changedTouches[0],i=n.$.getBoundingClientRect();try{e({x:r.clientX-i.left,y:r.clientY-i.top,preventDefault:t.preventDefault.bind(t),stopPropagation:t.stopPropagation.bind(t)})}catch(t){console.error(t)}return n._touchstart=Date.now(),!0}),t("mouseup",function(t){if(0<n._touchstart)return t.preventDefault(),t.stopPropagation(),!1;var r=n.$.getBoundingClientRect();try{e({x:t.clientX-r.left,y:t.clientY-r.top,preventDefault:t.preventDefault.bind(t),stopPropagation:t.stopPropagation.bind(t)})}catch(t){console.error(t)}return n._touchstart=0,!0})},wheel:function(t,e){var n=this;t(d,function(t){var r=a(n.$,t);r.delta=t.deltaY,"number"!=typeof r.delta&&(r.delta=-t.wheelDelta),r.preventDefault=t.preventDefault.bind(t),r.stopPropagation=t.stopPropagation.bind(t),e(r)})}},p=Symbol("__tfw.gestures__"),d=function(){return"onwheel"in document.createElement("div")?"wheel":void 0===document.onmousewheel?"DOMMouseScroll":"mousewheel"}(),v=Object.keys(f),g=t("external.hammer"),m=function(){function t(e){_classCallCheck(this,t),Object.defineProperty(this,"$",{writable:!1,value:e,configurable:!1}),this._events={},this._touchstart=0}return _createClass(t,[{key:"on",value:function(t,e,n){var o="function"==typeof t,s=o?"tap":t,a=o?t:e,u=o?e:n;try{return i(s,a),f[s].call(this,r.bind(this),a,u),this}catch(t){throw console.error("[Gesture.on( name, slot, args )]"),console.error("   name",s),console.error("   slot",a),console.error("   args",u),console.error("   ERROR",t),Error(t)}}}]),t}();e.exports._=h}),require("external.hammer",function(t,e){var n=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}();(function(t,n,r){function i(t,e,n){return setTimeout(c(t,n),e)}function o(t,e,n){return!!Array.isArray(t)&&(s(t,n[e],n),!0)}function s(t,e,n){if(t)if(t.forEach)t.forEach(e,n);else if(void 0!==t.length)for(r=0;r<t.length;)e.call(n,t[r],r,t),r++;else for(var r in t)t.hasOwnProperty(r)&&e.call(n,t[r],r,t)}function a(e,n,r){return function(){var i=new Error("get-stack-trace"),o=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",s=t.console&&(t.console.warn||t.console.log);return s&&s.call(t.console,"DEPRECATED METHOD: "+n+"\n"+r+" AT \n",o),e.apply(this,arguments)}}function u(t,e,n){var r=e.prototype,i=t.prototype=Object.create(r);i.constructor=t,i._super=r,n&&lt(i,n)}function c(t,e){return function(){return t.apply(e,arguments)}}function l(t,e){return"function"==_typeof(t)?t.apply(e?e[0]||void 0:void 0,e):t}function h(t,e){return void 0===t?e:t}function f(t,e,n){s(g(e),function(e){t.addEventListener(e,n,!1)})}function p(t,e,n){s(g(e),function(e){t.removeEventListener(e,n,!1)})}function d(t,e){for(;t;){if(t==e)return!0;t=t.parentNode}return!1}function v(t,e){return-1<t.indexOf(e)}function g(t){return t.trim().split(/\s+/g)}function m(t,e,n){if(t.indexOf&&!n)return t.indexOf(e);for(var r=0;r<t.length;){if(n&&t[r][n]==e||!n&&t[r]===e)return r;r++}return-1}function y(t){return Array.prototype.slice.call(t,0)}function b(t,e,n){for(var r,i=[],o=[],s=0;s<t.length;)r=e?t[s][e]:t[s],0>m(o,r)&&i.push(t[s]),o[s]=r,s++;return n&&(i=e?i.sort(function(t,n){return t[e]>n[e]}):i.sort()),i}function T(t,e){for(var n=e[0].toUpperCase()+e.slice(1),r=0;r<ht.length;){var i=ht[r],o=i?i+n:e;if(o in t)return o;r++}}function w(){return yt++}function E(e){var n=e.ownerDocument||e;return n.defaultView||n.parentWindow||t}function x(t,e){var n=this;this.manager=t,this.callback=e,this.element=t.element,this.target=t.options.inputTarget,this.domHandler=function(e){l(t.options.enable,[t])&&n.handler(e)},this.init()}function A(t){var e=t.options.inputClass;return new(e||(wt?Y:Et?q:Tt?H:X))(t,_)}function _(t,e,n){var r=n.pointers.length,i=n.changedPointers.length,o=1&e&&0==r-i;n.isFirst=!!o,n.isFinal=!!(12&e&&0==r-i),o&&(t.session={}),n.eventType=e,S(t,n),t.emit("hammer.input",n),t.recognize(n),t.session.prevInput=n}function S(t,e){var n=t.session,r=e.pointers,i=r.length;n.firstInput||(n.firstInput=D(e)),1<i&&!n.firstMultiple?n.firstMultiple=D(e):1===i&&(n.firstMultiple=!1);var o=n.firstInput,s=n.firstMultiple,a=s?s.center:o.center,u=e.center=I(r);e.timeStamp=vt(),e.deltaTime=e.timeStamp-o.timeStamp,e.angle=k(a,u),e.distance=R(a,u),P(n,e),e.offsetDirection=N(e.deltaX,e.deltaY);var c=L(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=dt(c.x)>dt(c.y)?c.x:c.y,e.scale=s?M(s.pointers,r):1,e.rotation=s?O(s.pointers,r):0,e.maxPointers=n.prevInput?e.pointers.length>n.prevInput.maxPointers?e.pointers.length:n.prevInput.maxPointers:e.pointers.length,C(n,e);var l=t.element;d(e.srcEvent.target,l)&&(l=e.srcEvent.target),e.target=l}function P(t,e){var n=e.center,r=t.offsetDelta||{},i=t.prevDelta||{},o=t.prevInput||{};(1===e.eventType||4===o.eventType)&&(i=t.prevDelta={x:o.deltaX||0,y:o.deltaY||0},r=t.offsetDelta={x:n.x,y:n.y}),e.deltaX=i.x+(n.x-r.x),e.deltaY=i.y+(n.y-r.y)}function C(t,e){var n,r,i,o,s=t.lastInterval||e,a=e.timeStamp-s.timeStamp;if(8!==e.eventType&&(a>25||void 0===s.velocity)){var u=e.deltaX-s.deltaX,c=e.deltaY-s.deltaY,l=L(a,u,c);r=l.x,i=l.y,n=dt(l.x)>dt(l.y)?l.x:l.y,o=N(u,c),t.lastInterval=e}else n=s.velocity,r=s.velocityX,i=s.velocityY,o=s.direction;e.velocity=n,e.velocityX=r,e.velocityY=i,e.direction=o}function D(t){for(var e=[],n=0;n<t.pointers.length;)e[n]={clientX:pt(t.pointers[n].clientX),clientY:pt(t.pointers[n].clientY)},n++;return{timeStamp:vt(),pointers:e,center:I(e),deltaX:t.deltaX,deltaY:t.deltaY}}function I(t){var e=t.length;if(1===e)return{x:pt(t[0].clientX),y:pt(t[0].clientY)};for(var n=0,r=0,i=0;i<e;)n+=t[i].clientX,r+=t[i].clientY,i++;return{x:pt(n/e),y:pt(r/e)}}function L(t,e,n){return{x:e/t||0,y:n/t||0}}function N(t,e){return t===e?1:dt(t)>=dt(e)?0>t?2:4:0>e?8:16}function R(t,e,n){n||(n=xt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return Math.sqrt(r*r+i*i)}function k(t,e,n){n||(n=xt);var r=e[n[0]]-t[n[0]],i=e[n[1]]-t[n[1]];return 180*Math.atan2(i,r)/Math.PI}function O(t,e){return k(e[1],e[0],At)+k(t[1],t[0],At)}function M(t,e){return R(e[0],e[1],At)/R(t[0],t[1],At)}function X(){this.evEl="mousedown",this.evWin="mousemove mouseup",this.pressed=!1,x.apply(this,arguments)}function Y(){this.evEl=Ct,this.evWin=Dt,x.apply(this,arguments),this.store=this.manager.session.pointerEvents=[]}function F(){this.evTarget="touchstart",this.evWin="touchstart touchmove touchend touchcancel",this.started=!1,x.apply(this,arguments)}function $(t,e){var n=y(t.touches),r=y(t.changedTouches);return 12&e&&(n=b(n.concat(r),"identifier",!0)),[n,r]}function q(){this.evTarget="touchstart touchmove touchend touchcancel",this.targetIds={},x.apply(this,arguments)}function B(t,e){var n=y(t.touches),r=this.targetIds;if(3&e&&1===n.length)return r[n[0].identifier]=!0,[n,n];var i,o,s=y(t.changedTouches),a=[],u=this.target;if(o=n.filter(function(t){return d(t.target,u)}),1===e)for(i=0;i<o.length;)r[o[i].identifier]=!0,i++;for(i=0;i<s.length;)r[s[i].identifier]&&a.push(s[i]),12&e&&delete r[s[i].identifier],i++;return a.length?[b(o.concat(a),"identifier",!0),a]:void 0}function H(){x.apply(this,arguments);var t=c(this.handler,this);this.touch=new q(this.manager,t),this.mouse=new X(this.manager,t),this.primaryTouch=null,this.lastTouches=[]}function z(t,e){1&t?(this.primaryTouch=e.changedPointers[0].identifier,G.call(this,e)):12&t&&G.call(this,e)}function G(t){var e=t.changedPointers[0];if(e.identifier===this.primaryTouch){var n={x:e.clientX,y:e.clientY};this.lastTouches.push(n);var r=this.lastTouches,i=function(){var t=r.indexOf(n);-1<t&&r.splice(t,1)};setTimeout(i,2500)}}function j(t){for(var e=t.srcEvent.clientX,n=t.srcEvent.clientY,r=0;r<this.lastTouches.length;r++){var i=this.lastTouches[r],o=Math.abs(e-i.x),s=Math.abs(n-i.y);if(o<=25&&s<=25)return!0}return!1}function W(t,e){this.manager=t,this.set(e)}function U(t){if(v(t,"none"))return"none";var e=v(t,"pan-x"),n=v(t,"pan-y");return e&&n?"none":e||n?e?"pan-x":"pan-y":v(t,"manipulation")?"manipulation":"auto"}function V(t){this.options=lt({},this.defaults,t||{}),this.id=w(),this.manager=null,this.options.enable=h(this.options.enable,!0),this.state=1,this.simultaneous={},this.requireFail=[]}function J(t){return 16&t?"cancel":8&t?"end":4&t?"move":2&t?"start":""}function Z(t){return 16==t?"down":8==t?"up":2==t?"left":4==t?"right":""}function K(t,e){var n=e.manager;return n?n.get(t):t}function Q(){V.apply(this,arguments)}function tt(){Q.apply(this,arguments),this.pX=null,this.pY=null}function et(){Q.apply(this,arguments)}function nt(){V.apply(this,arguments),this._timer=null,this._input=null}function rt(){Q.apply(this,arguments)}function it(){Q.apply(this,arguments)}function ot(){V.apply(this,arguments),this.pTime=!1,this.pCenter=!1,this._timer=null,this._input=null,this.count=0}function st(t,e){return e=e||{},e.recognizers=h(e.recognizers,st.defaults.preset),new at(t,e)}function at(t,e){this.options=lt({},st.defaults,e||{}),this.options.inputTarget=this.options.inputTarget||t,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=t,this.input=A(this),this.touchAction=new W(this,this.options.touchAction),ut(this,!0),s(this.options.recognizers,function(t){var e=this.add(new t[0](t[1]));t[2]&&e.recognizeWith(t[2]),t[3]&&e.requireFailure(t[3])},this)}function ut(t,e){var n=t.element;if(n.style){var r;s(t.options.cssProps,function(i,o){r=T(n.style,o),e?(t.oldCssProps[r]=n.style[r],n.style[r]=i):n.style[r]=t.oldCssProps[r]||""}),e||(t.oldCssProps={})}}function ct(t,e){var r=n.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var lt,ht=["","webkit","Moz","MS","ms","o"],ft=n.createElement("div"),pt=Math.round,dt=Math.abs,vt=Date.now;lt="function"==typeof Object.assign?Object.assign:function(t){if(void 0===t||null===t)throw new TypeError("Cannot convert undefined or null to object");for(var e,n=Object(t),r=1;r<arguments.length;r++)if(void 0!==(e=arguments[r])&&null!==e)for(var i in e)e.hasOwnProperty(i)&&(n[i]=e[i]);return n};var gt=a(function(t,e,n){for(var r=Object.keys(e),i=0;i<r.length;)(!n||n&&void 0===t[r[i]])&&(t[r[i]]=e[r[i]]),i++;return t},"extend","Use `assign`."),mt=a(function(t,e){return gt(t,e,!0)},"merge","Use `assign`."),yt=1,bt=/mobile|tablet|ip(ad|hone|od)|android/i,Tt="ontouchstart"in t,wt=void 0!==T(t,"PointerEvent"),Et=Tt&&bt.test(navigator.userAgent),xt=["x","y"],At=["clientX","clientY"];x.prototype={handler:function(){},init:function(){this.evEl&&f(this.element,this.evEl,this.domHandler),this.evTarget&&f(this.target,this.evTarget,this.domHandler),this.evWin&&f(E(this.element),this.evWin,this.domHandler)},destroy:function(){this.evEl&&p(this.element,this.evEl,this.domHandler),this.evTarget&&p(this.target,this.evTarget,this.domHandler),this.evWin&&p(E(this.element),this.evWin,this.domHandler)}};var _t={mousedown:1,mousemove:2,mouseup:4};u(X,x,{handler:function(t){var e=_t[t.type];1&e&&2!==t.button&&(this.pressed=!0),2&e&&1!==t.which&&(e=4),this.pressed&&(4&e&&(this.pressed=!1),this.callback(this.manager,e,{pointers:[t],changedPointers:[t],pointerType:"mouse",srcEvent:t}))}});var St={pointerdown:1,pointermove:2,pointerup:4,pointercancel:8,pointerout:8},Pt={2:"touch",3:"pen",4:"mouse",5:"kinect"},Ct="pointerdown",Dt="pointermove pointerup pointercancel";t.MSPointerEvent&&!t.PointerEvent&&(Ct="MSPointerDown",Dt="MSPointerMove MSPointerUp MSPointerCancel"),u(Y,x,{handler:function(t){var e=this.store,n=!1,r=t.type.toLowerCase().replace("ms",""),i=St[r],o=Pt[t.pointerType]||t.pointerType,s=m(e,t.pointerId,"pointerId");1&i&&(2!==t.button||"touch"==o)?0>s&&(e.push(t),s=e.length-1):12&i&&(n=!0),0>s||(e[s]=t,this.callback(this.manager,i,{pointers:e,changedPointers:[t],pointerType:o,srcEvent:t}),n&&e.splice(s,1))}});var It={touchstart:1,touchmove:2,touchend:4,touchcancel:8};u(F,x,{handler:function(t){var e=It[t.type];if(1===e&&(this.started=!0),!!this.started){var n=$.call(this,t,e);12&e&&0==n[0].length-n[1].length&&(this.started=!1),this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}});var Lt={touchstart:1,touchmove:2,touchend:4,touchcancel:8};u(q,x,{handler:function(t){var e=Lt[t.type],n=B.call(this,t,e);n&&this.callback(this.manager,e,{pointers:n[0],changedPointers:n[1],pointerType:"touch",srcEvent:t})}}),u(H,x,{handler:function(t,e,n){var r="touch"==n.pointerType,i="mouse"==n.pointerType;if(!(i&&n.sourceCapabilities&&n.sourceCapabilities.firesTouchEvents)){if(r)z.call(this,e,n);else if(i&&j.call(this,n))return;this.callback(t,e,n)}},destroy:function(){this.touch.destroy(),this.mouse.destroy()}});var Nt=T(ft.style,"touchAction"),Rt=void 0!==Nt,kt=function(){if(!Rt)return!1;var e={},n=t.CSS&&t.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){e[r]=!n||t.CSS.supports("touch-action",r)}),e}();W.prototype={set:function(t){"compute"==t&&(t=this.compute()),Rt&&this.manager.element.style&&kt[t]&&(this.manager.element.style[Nt]=t),this.actions=t.toLowerCase().trim()},update:function(){this.set(this.manager.options.touchAction)},compute:function(){var t=[];return s(this.manager.recognizers,function(e){l(e.options.enable,[e])&&(t=t.concat(e.getTouchAction()))}),U(t.join(" "))},preventDefaults:function(t){var e=t.srcEvent,n=t.offsetDirection;if(this.manager.session.prevented)return void e.preventDefault();var r=this.actions,i=v(r,"none")&&!kt.none,o=v(r,"pan-y")&&!kt["pan-y"],s=v(r,"pan-x")&&!kt["pan-x"];if(i){var a=1===t.pointers.length,u=2>t.distance,c=250>t.deltaTime;if(a&&u&&c)return}return s&&o?void 0:i||o&&6&n||s&&24&n?this.preventSrc(e):void 0},preventSrc:function(t){this.manager.session.prevented=!0,t.preventDefault()}};V.prototype={defaults:{},set:function(t){return lt(this.options,t),this.manager&&this.manager.touchAction.update(),this},recognizeWith:function(t){if(o(t,"recognizeWith",this))return this;var e=this.simultaneous;return t=K(t,this),e[t.id]||(e[t.id]=t,t.recognizeWith(this)),this},dropRecognizeWith:function(t){return o(t,"dropRecognizeWith",this)?this:(t=K(t,this),delete this.simultaneous[t.id],this)},requireFailure:function(t){if(o(t,"requireFailure",this))return this;var e=this.requireFail;return t=K(t,this),-1===m(e,t)&&(e.push(t),t.requireFailure(this)),this},dropRequireFailure:function(t){if(o(t,"dropRequireFailure",this))return this;t=K(t,this);var e=m(this.requireFail,t);return-1<e&&this.requireFail.splice(e,1),this},hasRequireFailures:function(){return 0<this.requireFail.length},canRecognizeWith:function(t){return!!this.simultaneous[t.id]},emit:function(t){function e(e){n.manager.emit(e,t)}var n=this,r=this.state;r<8&&e(n.options.event+J(r)),e(n.options.event),t.additionalEvent&&e(t.additionalEvent),r>=8&&e(n.options.event+J(r))},tryEmit:function(t){return this.canEmit()?this.emit(t):void(this.state=32)},canEmit:function(){for(var t=0;t<this.requireFail.length;){if(!(33&this.requireFail[t].state))return!1;t++}return!0},recognize:function(t){var e=lt({},t);return l(this.options.enable,[this,e])?(56&this.state&&(this.state=1),this.state=this.process(e),void(30&this.state&&this.tryEmit(e))):(this.reset(),void(this.state=32))},process:function(){},getTouchAction:function(){},reset:function(){}},u(Q,V,{defaults:{pointers:1},attrTest:function(t){var e=this.options.pointers;return 0===e||t.pointers.length===e},process:function(t){var e=this.state,n=t.eventType,r=6&e,i=this.attrTest(t);return r&&(8&n||!i)?16|e:r||i?4&n?8|e:2&e?4|e:2:32}}),u(tt,Q,{defaults:{event:"pan",threshold:10,pointers:1,direction:30},getTouchAction:function(){var t=this.options.direction,e=[];return 6&t&&e.push("pan-y"),24&t&&e.push("pan-x"),e},directionTest:function(t){var e=this.options,n=!0,r=t.distance,i=t.direction,o=t.deltaX,s=t.deltaY;return i&e.direction||(6&e.direction?(i=0===o?1:0>o?2:4,n=o!=this.pX,r=Math.abs(t.deltaX)):(i=0===s?1:0>s?8:16,n=s!=this.pY,r=Math.abs(t.deltaY))),t.direction=i,n&&r>e.threshold&&i&e.direction},attrTest:function(t){return Q.prototype.attrTest.call(this,t)&&(2&this.state||!(2&this.state)&&this.directionTest(t))},emit:function(t){this.pX=t.deltaX,this.pY=t.deltaY;var e=Z(t.direction);e&&(t.additionalEvent=this.options.event+e),this._super.emit.call(this,t)}}),u(et,Q,{defaults:{event:"pinch",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.scale-1)>this.options.threshold||2&this.state)},emit:function(t){if(1!==t.scale){var e=1>t.scale?"in":"out";t.additionalEvent=this.options.event+e}this._super.emit.call(this,t)}}),u(nt,V,{defaults:{event:"press",pointers:1,time:251,threshold:9},getTouchAction:function(){return["auto"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime>e.time;if(this._input=t,!r||!n||12&t.eventType&&!o)this.reset();else if(1&t.eventType)this.reset(),this._timer=i(function(){this.state=8,this.tryEmit()},e.time,this);else if(4&t.eventType)return 8;return 32},reset:function(){clearTimeout(this._timer)},emit:function(t){8!==this.state||(t&&4&t.eventType?this.manager.emit(this.options.event+"up",t):(this._input.timeStamp=vt(),this.manager.emit(this.options.event,this._input)))}}),u(rt,Q,{defaults:{event:"rotate",threshold:0,pointers:2},getTouchAction:function(){return["none"]},attrTest:function(t){return this._super.attrTest.call(this,t)&&(Math.abs(t.rotation)>this.options.threshold||2&this.state)}}),u(it,Q,{defaults:{event:"swipe",threshold:10,velocity:.3,direction:30,pointers:1},getTouchAction:function(){return tt.prototype.getTouchAction.call(this)},attrTest:function(t){var e,n=this.options.direction;return 30&n?e=t.overallVelocity:6&n?e=t.overallVelocityX:24&n&&(e=t.overallVelocityY),this._super.attrTest.call(this,t)&&n&t.offsetDirection&&t.distance>this.options.threshold&&t.maxPointers==this.options.pointers&&dt(e)>this.options.velocity&&4&t.eventType},emit:function(t){var e=Z(t.offsetDirection);e&&this.manager.emit(this.options.event+e,t),this.manager.emit(this.options.event,t)}}),u(ot,V,{defaults:{event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},getTouchAction:function(){return["manipulation"]},process:function(t){var e=this.options,n=t.pointers.length===e.pointers,r=t.distance<e.threshold,o=t.deltaTime<e.time;if(this.reset(),1&t.eventType&&0===this.count)return this.failTimeout();if(r&&o&&n){if(4!=t.eventType)return this.failTimeout();var s=!this.pTime||t.timeStamp-this.pTime<e.interval,a=!this.pCenter||R(this.pCenter,t.center)<e.posThreshold;this.pTime=t.timeStamp,this.pCenter=t.center,a&&s?this.count+=1:this.count=1,this._input=t;if(0==this.count%e.taps)return this.hasRequireFailures()?(this._timer=i(function(){this.state=8,this.tryEmit()},e.interval,this),2):8}return 32},failTimeout:function(){return this._timer=i(function(){this.state=32},this.options.interval,this),32},reset:function(){clearTimeout(this._timer)},emit:function(){8==this.state&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))}}),st.VERSION="2.0.8",st.defaults={domEvents:!1,touchAction:"compute",enable:!0,inputTarget:null,inputClass:null,preset:[[rt,{enable:!1}],[et,{enable:!1},["rotate"]],[it,{direction:6}],[tt,{direction:6},["swipe"]],[ot],[ot,{event:"doubletap",taps:2},["tap"]],[nt]],cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}};at.prototype={set:function(t){return lt(this.options,t),t.touchAction&&this.touchAction.update(),t.inputTarget&&(this.input.destroy(),this.input.target=t.inputTarget,this.input.init()),this},stop:function(t){this.session.stopped=t?2:1},recognize:function(t){var e=this.session;if(!e.stopped){this.touchAction.preventDefaults(t);var n,r=this.recognizers,i=e.curRecognizer;(!i||i&&8&i.state)&&(i=e.curRecognizer=null);for(var o=0;o<r.length;)n=r[o],2===e.stopped||i&&n!=i&&!n.canRecognizeWith(i)?n.reset():n.recognize(t),!i&&14&n.state&&(i=e.curRecognizer=n),o++}},get:function(t){if(t instanceof V)return t;for(var e=this.recognizers,n=0;n<e.length;n++)if(e[n].options.event==t)return e[n];return null},add:function(t){if(o(t,"add",this))return this;var e=this.get(t.options.event);return e&&this.remove(e),this.recognizers.push(t),t.manager=this,this.touchAction.update(),t},remove:function(t){if(o(t,"remove",this))return this;if(t=this.get(t)){var e=this.recognizers,n=m(e,t);-1!==n&&(e.splice(n,1),this.touchAction.update())}return this},on:function(t,e){if(void 0!==t&&void 0!==e){var n=this.handlers;return s(g(t),function(t){n[t]=n[t]||[],n[t].push(e)}),this}},off:function(t,e){if(void 0!==t){var n=this.handlers;return s(g(t),function(t){e?n[t]&&n[t].splice(m(n[t],e),1):delete n[t]}),this}},emit:function(t,e){this.options.domEvents&&ct(t,e);var n=this.handlers[t]&&this.handlers[t].slice();if(n&&n.length){e.type=t,e.preventDefault=function(){e.srcEvent.preventDefault()};for(var r=0;r<n.length;)n[r](e),r++}},destroy:function(){this.element&&ut(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null}},lt(st,{INPUT_START:1,INPUT_MOVE:2,INPUT_END:4,INPUT_CANCEL:8,STATE_POSSIBLE:1,STATE_BEGAN:2,STATE_CHANGED:4,STATE_ENDED:8,STATE_RECOGNIZED:8,STATE_CANCELLED:16,STATE_FAILED:32,DIRECTION_NONE:1,DIRECTION_LEFT:2,DIRECTION_RIGHT:4,DIRECTION_UP:8,DIRECTION_DOWN:16,DIRECTION_HORIZONTAL:6,DIRECTION_VERTICAL:24,DIRECTION_ALL:30,Manager:at,Input:x,TouchAction:W,TouchInput:q,MouseInput:X,PointerEventInput:Y,TouchMouseInput:H,SingleTouchInput:F,Recognizer:V,AttrRecognizer:Q,Tap:ot,Pan:tt,Swipe:it,Pinch:et,Rotate:rt,Press:nt,on:f,off:p,each:s,merge:mt,extend:gt,assign:lt,inherit:u,bindFn:c,prefixed:T}),(void 0===t?"undefined"==typeof self?{}:self:t).Hammer=st,"function"==typeof define&&define.amd?define(function(){return st}):void 0!==e&&e.exports?e.exports=st:t.Hammer=st})(window,document),e.exports=Hammer,e.exports._=n}),require("dom",function(t,e){function n(t){if(t instanceof Node)return t;if(void 0===t||null===t)throw Error("`dom` is not a valid element!",t);if(t.$ instanceof Node)return t.$;if(t.element instanceof Node)return t.element;if("string"==typeof t){var e=document.getElementById(t);return e||console.error("[dom] There is no DOM element with this ID: `"+t+"`"),e}return"function"==typeof t.element?t.element():t}function r(t,e){t=n(t);var r,i;for(r in e)i=e[r],t.style[r]=i;return t}function i(t,e,r){t=n(t);var i,o;for(i in"string"==typeof e&&(void 0===r&&(r=""),i=e,e={},e[i]=r),e)o=e[i],t.setAttribute(i,o);return t}function o(t){t=n(t);try{var e,r;for(e=1;e<arguments.length;e++)r=arguments[e],u(t,r)||a(t,r)||s(t,r)||console.error("Argument #"+e+" of dom.add() is invalid!",arguments);return t}catch(t){console.error("[DOM.add] arguments=",[].slice.call(arguments)),console.error("[DOM.add] exception=",t)}}function s(t,e){return!!((e=n(e))instanceof Node)&&(t.appendChild(e),!0)}function a(t,e){if("number"==typeof e&&(e=""+e),"string"!=typeof e)return!1;if("<html>"==e.substr(0,6).toLowerCase()){var r=e.substr(6);e=n.tag("span"),e.innerHTML=r}else if(E.test(e)){var i=e;e=n.tag("span"),e.innerHTML=i}else e=document.createTextNode(e);return t.appendChild(e),!0}function u(t,e){return!!Array.isArray(e)&&(e.forEach(function(e){o(t,e)}),!0)}function c(t){if(Array.isArray(t))return t.forEach(function(t){c(t)}),t;if(void 0===t[w])return t;var e=t[w].events;return void 0===e?t:(e.off(),void delete t[w].events)}function l(t,e,r){if("function"==typeof e||null===e)e={tap:e};else if("string"==typeof e&&"function"==typeof r){var i={};i[e]=r,e=i}if(Array.isArray(t))return t.forEach(function(t){l(t,e)}),t;t=n(t),void 0===t[w]&&(t[w]={}),void 0===t[w].events&&(t[w].events=T(t));var o,s,a;for(o in e)s=e[o],"!"==o.charAt(0)?(o=o.substr(1),a=!0):a=!1,-1<x.indexOf(o.toLowerCase())?t.addEventListener(o,s,a):t[w].events.on(o,s,a);return t}
function h(t,e){try{var r,i,s,a,u=document.createElementNS(t,e.trim().toLowerCase());for(r=2;r<arguments.length;r++)if(i=arguments[r],Array.isArray(i))i.forEach(function(t){switch(_typeof(t)){case"string":case"number":case"boolean":if(t=""+t,"<html>"==t.substr(0,6)){var e=t.substr(6);t=n.tag("span"),t.innerHTML=e}else t=document.createTextNode(t)}o(u,t)});else switch(_typeof(i)){case"string":i.split(" ").forEach(function(t){0<t.length&&f(u,t)});break;case"object":for(s in i)a=i[s],u.setAttribute(s,a);break;default:throw Error("[dom.tag] Error creating <"+e+">: Invalid argument #"+r+"!")}return u}catch(n){console.error("[dom.tagNS] Error with `ns` = ",t," and `name` = ",e),console.error(n)}}function f(t){var e=[].slice.call(arguments,1);return Array.isArray(t)?(e.unshift(null),t.forEach(function(t){e[0]=t,f.apply(void 0,e)}),t):(t=n(t),e.forEach(function(e){if("string"==typeof e&&(e=e.trim(),0!=e.length))try{t.classList&&t.classList.add(e)}catch(t){console.error("[dom.addClass] Invalid class name: ",e),console.error(t)}}),t)}function p(t,e){return t=n(t),!!t.classList&&t.classList.contains(e)}function d(t){var e=[].slice.call(arguments,1);return Array.isArray(t)?(e.unshift(null),t.forEach(function(t){e[0]=t,d.apply(void 0,e)}),t):(t=n(t),e.forEach(function(e){if("string"==typeof e)try{t.classList&&t.classList.remove(e)}catch(t){console.error("[dom.removeClass] Invalid class name: ",e),console.error(t)}}),t)}function v(t){return[].slice.call(arguments,1).forEach(function(e){p(t,e)?d(t,e):f(t,e)}),t}function g(t){return Array.isArray(t)?void t.forEach(function(t){t=n(t),void 0===t[w]&&(t[w]={}),Array.isArray(t[w].style)||(t[w].style=[]),t[w].style.push(JSON.stringify(t.style))}):g(Array.prototype.slice.call(arguments))}function m(t){return Array.isArray(t)?void t.forEach(function(t){if(t=n(t),void 0===t[w]||!Array.isArray(t[w].style))throw Error("[dom.restoreStyle] `saveStyle()` has never been used on this element!");if(0==t[w].style.length)throw Error("[dom.restoreStyle] more `restore` than `save`!");var e,r,i=JSON.parse(t[w].style.pop());for(e in i)void 0!==(r=i[e])&&(t.style[e]=r)}):m(Array.prototype.slice.call(arguments))}var y=function(){function e(){return r(n,arguments)}var n={en:{}},r=t("$").intl;return e.all=n,e}();t("polyfill.classList");var b=t("dom.theme"),T=t("tfw.gestures"),w="@dom"+Date.now(),E=/^&(#[0-9]+|[a-zA-Z0-9]+);$/;e.exports=n,n.tagNS=h,n.svgRoot=h.bind(void 0,"http://www.w3.org/2000/svg","svg",{version:"1.1","xmlns:svg":"http://www.w3.org/2000/svg",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink"}),n.svg=h.bind(void 0,"http://www.w3.org/2000/svg"),n.tag=h.bind(void 0,"http://www.w3.org/1999/xhtml"),n.div=h.bind(void 0,"http://www.w3.org/1999/xhtml","div"),n.txt=window.document.createTextNode.bind(window.document),n.textOrHtml=function(t,e){return void 0===e&&(e=""),null===e&&(e=""),"string"!=typeof e&&(e=JSON.stringify(e)),"<html>"==e.substr(0,6)?t.innerHTML=e.substr(6):t.textContent=e,t},n.get=function(t,e){return t=n(t),void 0===e&&(e=t,t=window.document),t.querySelector(e)},n.elem=function(t){var e=[].slice.call(arguments);e.shift(),0==e.length&&(e=["div"]),e.push("dom","custom");var r;return void 0===e[0].element?"function"==typeof e[0].appendChild?(r=e[0],f(r,"dom","custom")):r=n.tag.apply(n,e):(r=e[0].element,f(r,"dom","custom")),Object.defineProperty(t,"element",{value:r,writable:!1,configurable:!1,enumerable:!0}),r},n.css=r,n.att=i,n.removeAtt=function(t,e){return t=n(t),t.removeAttribute(e),t},n.addClass=f,n.hasClass=p,n.removeClass=d,n.toggleClass=v,n.saveStyle=g,n.restoreStyle=m,n.registerTheme=b.register.bind(n),n.applyTheme=b.apply.bind(n),n.registerAndApplyTheme=function(t,e){b.register.call(this,t,e),b.apply.call(this,t)},n.replace=function(t,e){return t=n(t),e=n(e),e.parentNode.replaceChild(t,e),t},n.detach=function(t){t=n(t);var e=t.parentElement;return e?(e.removeChild(t),e):e},n.on=l,n.off=c,n.add=o,n.wrap=function(t,e,n){return Object.defineProperty(t,"element",{value:e,writable:!1,configurable:!1,enumerable:!0}),n?t:(t.on=l.bind(t,e),t.css=r.bind(t,e),t.add=o.bind(t,e),t.att=i.bind(t,e),t.addClass=f.bind(t,e),t.hasClass=p.bind(t,e),t.removeClass=d.bind(t,e),t.toggleClass=v.bind(t,e),t)},n.clear=function(t){t=n(t);for(var e=t;e.firstChild;)e.removeChild(e.firstChild);var r=[].slice.call(arguments);return 1<r.length&&o.apply(this,r),t};var x=["keyup","keydown","scroll","load","error"];e.exports._=y}),require("dom.theme",function(t,e,n){function r(t,e){for(var n="",r=1;10>=r;r++)p.forEach(function(i){for(var o=".thm-bg"+i,s=".thm-fg"+i,a=1;a<=r;a++){for(var u=[],c=[],l=[],h=1;h<=r;h++)l.push(a==h?o:"*"),c.push(a==h?o:"*"),u.push(a==h?s:"*"),h==r&&(l.push(l.pop()+".thm-fg"),u.push(u.pop()+s));n+="body.dom-theme-"+t+" "+l.join(" > ")+" { color: "+e["fg"+i]+" }\n",n+="body.dom-theme-"+t+" "+u.join(" > ")+" { color: "+e["bg"+i]+" }\n",n+="body.dom-theme-"+t+" "+c.join(" > ")+" .thm-svg-fill0 { fill: "+e["fg"+i]+" }\n",n+="body.dom-theme-"+t+" "+c.join(" > ")+" .thm-svg-stroke0 { stroke: "+e["fg"+i]+" }\n"}});return n}function i(t,e){var n="body.dom-theme-"+t+"{\n";return p.forEach(function(t){n+="  --thm-bg"+t+": "+e["bg"+t]+";\n"}),n+="}\n"}function o(t,e){var n="";return p.forEach(function(r){n+="body.dom-theme-"+t+".thm-bg"+r+" { background-color: "+e["bg"+r]+" }\n",n+="body.dom-theme-"+t+" .thm-fg"+r+" { color: "+e["fg"+r]+" }\n",n+="body.dom-theme-"+t+" .thm-bg"+r+" { background-color: "+e["bg"+r]+" }\n",n+="body.dom-theme-"+t+" .thm-bg"+r+"-bottom { background: linear-gradient(to top,"+e["bg"+r]+",transparent) }\n",n+="body.dom-theme-"+t+" .thm-bg"+r+"-top { background: linear-gradient(to bottom,"+e["bg"+r]+",transparent) }\n",n+="body.dom-theme-"+t+" .thm-bg"+r+"-left { background: linear-gradient(to right,"+e["bg"+r]+",transparent) }\n",n+="body.dom-theme-"+t+" .thm-bg"+r+"-right { background: linear-gradient(to left,"+e["bg"+r]+",transparent) }\n",isNaN(parseInt(r))&&(n+="body.dom-theme-"+t+" .thm-svg-fill"+r+" { fill: "+e["bg"+r]+" }\n",n+="body.dom-theme-"+t+" .thm-svg-stroke"+r+" { stroke: "+e["bg"+r]+" }\n")}),n}function s(t,e){var n=f.luminance(e.bg2),r=.6>n?l(e.white,Math.ceil(10*n)):l(e.black,"6"),i="";return[0,1,2,3,4,6,8,9,12,16,24].forEach(function(e){i+="body.dom-theme-"+t+" .thm-ele"+e+" {\n  box-shadow: 0 "+e+"px "+2*e+"px "+r+"\n}\n"}),i}function a(t){return void 0===t&&(t={}),"string"!=typeof t.bg0&&(t.bg0="#E0E0E0"),"string"!=typeof t.bg1&&(t.bg1="#F5F5F5"),"string"!=typeof t.bg2&&(t.bg2="#FAFAFA"),"string"!=typeof t.bg3&&(t.bg3="#FFF"),"string"!=typeof t.bgP&&(t.bgP="#3E50B4"),"string"!=typeof t.bgPD&&(t.bgPD=u(t.bgP)),"string"!=typeof t.bgPL&&(t.bgPL=c(t.bgP)),"string"!=typeof t.bgS&&(t.bgS="#FF3F80"),"string"!=typeof t.bgSD&&(t.bgSD=u(t.bgS)),"string"!=typeof t.bgSL&&(t.bgSL=c(t.bgS)),void 0===t.white&&(t.white="#fff"),void 0===t.black&&(t.black="#000"),p.forEach(function(e){var n=t["bg"+e],r=f.luminance(n);t["fg"+e]=.6>r?t.white:t.black}),t}function u(t){var e=new f(t);return e.rgb2hsl(),e.L*=.75,e.hsl2rgb(),e.stringify()}function c(t){var e=new f(t);return e.rgb2hsl(),e.L=.4+.6*e.L,e.hsl2rgb(),e.stringify()}function l(t,e){return 5>t.length?t+e:t+e+e}var h=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}();n.register=function(t,e){e=a(e);var n=i(t,e);n+=o(t,e),n+=s(t,e),n+=r(t,e);var u=d.css[t];return u||(u=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(u),d.css[t]=u),u.textContent=n,this},n.apply=function(t,e){if(void 0===e&&(e=document.body),!d.css[t])return void console.error("This theme has not been registered: ",t);var n=document.body;"string"==typeof d.current&&this.removeClass(n,"dom-theme-"+d.current),d.current=t,this.addClass(n,"dom-theme-"+d.current)};var f=t("tfw.color"),p=["0","1","2","3","P","PD","PL","S","SD","SL"],d={css:{},current:null};e.exports._=h}),require("tfw.color",function(t,e){function n(t){this.R=0,this.G=0,this.B=0,this.A=0,this.H=0,this.S=0,this.L=0,"string"==typeof t&&this.parse(t)}function r(t){if("#"!==t.charAt(0))return!1;var e=0,n=0,r=0,i=1;switch(t.length){case 4:e=parseInt(t.charAt(1),16)*p,n=parseInt(t.charAt(2),16)*p,r=parseInt(t.charAt(3),16)*p;break;case 5:e=parseInt(t.charAt(1),16)*p,n=parseInt(t.charAt(2),16)*p,r=parseInt(t.charAt(3),16)*p,i=parseInt(t.charAt(4),16)*p;break;case 7:e=parseInt(t.substr(1,2),16)*v,n=parseInt(t.substr(3,2),16)*v,r=parseInt(t.substr(5,2),16)*v;break;case 9:e=parseInt(t.substr(1,2),16)*v,n=parseInt(t.substr(3,2),16)*v,r=parseInt(t.substr(5,2),16)*v,i=parseInt(t.substr(7,2),16)*v}return isNaN(e)||isNaN(n)||isNaN(r)||isNaN(i)?this.R=this.G=this.B=this.A=0:(this.R=e,this.G=n,this.B=r,this.A=i),!0}function i(t){var e=m.exec(t);return!!e&&(this.R=u(parseInt(e[1],10)*v),this.G=u(parseInt(e[2],10)*v),this.B=u(parseInt(e[3],10)*v),this.A=1,!0)}function o(t){var e=y.exec(t);return!!e&&(this.R=u(parseInt(e[1],10)*v),this.G=u(parseInt(e[2],10)*v),this.B=u(parseInt(e[3],10)*v),this.A=u(parseFloat(e[4])),!0)}function s(t){var e=b.exec(t);return!!e&&(this.H=u(parseInt(e[1],10)*g),this.S=u(parseInt(e[2],10)*d),this.L=u(parseInt(e[3],10)*d),this.A=1,this.hsl2rgb(),!0)}function a(t){var e=Math.floor(t).toString(16);return 2>e.length&&(e="0"+e),e}function u(t){return 0>t?0:1<t?1:t}function c(t){var e=new n;return e.parse(t),e}var l=function(){function e(){return r(n,arguments)}var n={en:{},fr:{}},r=t("$").intl;return e.all=n,e}();e.exports=n,n.prototype.luminance=function(){return.2126*this.R+.7152*this.G+.0722*this.B},n.prototype.stringify=function(){var t=a(255*this.R)+a(255*this.G)+a(255*this.B);return 1>this.A&&(t+=a(255*this.A)),"#".concat(t)},n.prototype.parse=function(t){var e=void 0===t?"#000000":t,n=e.trim().toUpperCase();return!!(r.call(this,n)||i.call(this,n)||o.call(this,n)||s.call(this,n))},n.prototype.copy=function(){var t=new n;return t.R=this.R,t.G=this.G,t.B=this.B,t.A=this.A,t.H=this.H,t.S=this.S,t.L=this.L,t},n.prototype.hsl2rgb=function(){var t=6*this.H,e=this.S,n=this.L,r=(1-Math.abs(2*n-1))*e,i=r*(1-Math.abs(t%2-1)),o=0,s=0,a=0;3>t?1>t?(o=r,s=i,a=0):2>t?(o=i,s=r,a=0):(o=0,s=r,a=i):4>t?(o=0,s=i,a=r):5>t?(o=i,s=0,a=r):(o=r,s=0,a=i);var u=n-.5*r;this.R=o+u,this.G=s+u,this.B=a+u},n.prototype.rgb2hsl=function(){var t=this.R,e=this.G,n=this.B,r=Math.min(t,e,n),i=Math.max(t,e,n),o=i-r;this.L=.5*(i+r),1e-6>o?(this.H=0,this.S=0):(this.S=o/(1-Math.abs(2*this.L-1)),this.H=i===t?e>=n?f*((e-n)/o):1-f*((n-e)/o):i===e?f*(2+(n-t)/o):f*(4+(t-e)/o))};var h=new n;n.instance=h,n.parse=c,n.luminance=function(t){return c(t).luminance()},n.newRGB=function(t){var e=new n;return e.R=t,e.G=t,e.B=t,e},n.newRGBA=function(t){var e=new n;return e.R=t,e.G=t,e.B=t,e.A=t,e};var f=1/6,p=1/15,d=1/99,v=1/255,g=1/359,m=/^RGB[\s\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/,y=/^RGBA[\s\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)[^0-9\.]+([0-9\.]+)/,b=/^HSL[\s\(]+([0-9]+)[^0-9]+([0-9]+)[^0-9]+([0-9]+)/;e.exports._=l}),require("polyfill.classList",function(t,e){var n=function(){function e(){return r(n,arguments)}var n={en:{}},r=t("$").intl;return e.all=n,e}();"document"in self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))?function(){var t=document.createElement("_");if(t.classList.add("c1","c2"),!t.classList.contains("c2")){var e=function(t){var e=DOMTokenList.prototype[t];DOMTokenList.prototype[t]=function(t){var n,r=arguments.length;for(n=0;n<r;n++)t=arguments[n],e.call(this,t)}};e("add"),e("remove")}if(t.classList.toggle("c3",!1),t.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(t,e){return 1 in arguments&&!this.contains(t)==!e?e:n.call(this,t)}}t=null}():function(t){if("Element"in t){var e=t.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(t){for(var e=0,n=this.length;e<n;e++)if(e in this&&this[e]===t)return e;return-1},o=function(t,e){this.name=t,this.code=DOMException[t],this.message=e},s=function(t,e){if(""===e)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(e))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(t,e)},a=function(t){for(var e=r.call(t.getAttribute("class")||""),n=e?e.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){t.setAttribute("class",this.toString())}},u=a.prototype=[],c=function(){return new a(this)};if(o.prototype=Error.prototype,u.item=function(t){return this[t]||null},u.contains=function(t){return t+="",-1!==s(this,t)},u.add=function(){var t,e=arguments,n=0,r=e.length,i=!1;do{t=e[n]+"",-1===s(this,t)&&(this.push(t),i=!0)}while(++n<r);i&&this._updateClassName()},u.remove=function(){var t,e,n=arguments,r=0,i=n.length,o=!1;do{for(t=n[r]+"",e=s(this,t);-1!==e;)this.splice(e,1),o=!0,e=s(this,t)}while(++r<i);o&&this._updateClassName()},u.toggle=function(t,e){t+="";var n=this.contains(t),r=n?!0!==e&&"remove":!1!==e&&"add";return r&&this[r](t),!0===e||!1===e?e:!n},u.toString=function(){return this.join(" ")},n.defineProperty){var l={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(e,"classList",l)}catch(t){-2146823252===t.number&&(l.enumerable=!1,n.defineProperty(e,"classList",l))}}else n.prototype.__defineGetter__&&e.__defineGetter__("classList",c)}}(self)),e.exports._=n});
//# sourceMappingURL=test.html.map