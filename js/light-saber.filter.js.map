{"version":3,"sources":["filter.js"],"names":["require","module","GLOBAL","Colors","ImageProcessor","Blur","gl","framebuffers","sourceName","imageProcessor","frag","prg","color","PLASMA","time","delta","fb","use","$uniTexture","$uniColor","activeTexture","TEXTURE0","bindTexture","TEXTURE_2D","texture","paint","exports","_"],"mappings":"ynBAAiCA,OAAO,CAAE,oBAAF,CAAwB,SAASA,OAAT,CAAkBC,MAAlB,CAAmC,IAAqCC,CAAAA,MAAM,CAAG,CAC/I,KAAQ,2VADuI,CAA9C,IAK/FC,CAAAA,MAAM,CAAGH,OAAO,CAAE,oBAAF,CAL+E,CAM/FI,cAAc,CAAGJ,OAAO,CAAE,6BAAF,CANuE,CAQ7FK,IAR6F,YAS/F,cAAaC,EAAb,CAAiBC,YAAjB,CAA+BC,UAA/B,CAA4C,4BACxC,KAAKF,EAAL,CAAUA,EAD8B,CAExC,KAAKC,YAAL,CAAoBA,YAFoB,CAGxC,KAAKC,UAAL,CAAkBA,UAHsB,CAIxC,KAAKC,cAAL,CAAsB,GAAIL,CAAAA,cAAJ,CAAoBE,EAApB,CAAwBJ,MAAM,CAACQ,IAA/B,CAJkB,CAKxC,KAAKC,GAAL,CAAW,KAAKF,cAAL,CAAoBE,GALS,CAMxC,KAAKC,KAAL,CAAaT,MAAM,CAACU,MACvB,CAhB8F,4DAkBxFC,IAlBwF,CAkBlFC,KAlBkF,CAkB1E,IACTT,CAAAA,EADS,CAC6C,IAD7C,CACTA,EADS,CACLK,GADK,CAC6C,IAD7C,CACLA,GADK,CACAF,cADA,CAC6C,IAD7C,CACAA,cADA,CACgBF,YADhB,CAC6C,IAD7C,CACgBA,YADhB,CAC8BC,UAD9B,CAC6C,IAD7C,CAC8BA,UAD9B,CAEXQ,EAAE,CAAGT,YAAY,CAAEC,UAAF,CAFN,CAIjBG,GAAG,CAACM,GAAJ,EAJiB,CAKjBN,GAAG,CAACO,WAAJ,CAAkB,CALD,CAMjBP,GAAG,CAACQ,SAAJ,CAAgB,KAAKP,KANJ,CAOjBN,EAAE,CAACc,aAAH,CAAkBd,EAAE,CAACe,QAArB,CAPiB,CAQjBf,EAAE,CAACgB,WAAH,CAAgBhB,EAAE,CAACiB,UAAnB,CAA+BP,EAAE,CAACQ,OAAlC,CARiB,CAUjBf,cAAc,CAACgB,KAAf,CAAsBX,IAAtB,CAA4BC,KAA5B,CACH,CA7B8F,YAiCnGd,MAAM,CAACyB,OAAP,CAAiBrB,IAjCkF,CAoCnGJ,MAAM,CAACyB,OAAP,CAAeC,CAAf,CApC2G,QAAFA,CAAAA,CAAE,EAAU,CAAC,MAAO,EAAG,CAqC/H,CArCuC,C","sourcesContent":["/** @module light-saber.filter */require( 'light-saber.filter', function(require, module, exports) { var _=function(){return ''}; const GLOBAL = {\n  \"frag\": \"precision mediump float;\\r\\n\\r\\nuniform sampler2D uniTexture;\\r\\nuniform vec4 uniColor;\\r\\n\\r\\nvarying vec2 varUV;\\r\\n\\r\\nconst vec4 BLACK = vec4( 0, 0, 0, 0 );\\r\\n\\r\\nvoid main() {\\r\\n    vec4 color = texture2D( uniTexture, varUV );\\r\\n    if( distance( color, uniColor ) < 0.1 ) gl_FragColor = color;\\r\\n    else gl_FragColor = BLACK;\\r\\n}\\r\\n\"};\n  \"use strict\";\r\n\r\nconst\r\n    Colors = require( \"light-saber.colors\" ),\r\n    ImageProcessor = require( \"light-saber.image-processor\" );\r\n\r\nclass Blur {\r\n    constructor( gl, framebuffers, sourceName ) {\r\n        this.gl = gl;\r\n        this.framebuffers = framebuffers;\r\n        this.sourceName = sourceName;\r\n        this.imageProcessor = new ImageProcessor( gl, GLOBAL.frag );\r\n        this.prg = this.imageProcessor.prg;\r\n        this.color = Colors.PLASMA;\r\n    }\r\n\r\n    paint( time, delta ) {\r\n        const { gl, prg, imageProcessor, framebuffers, sourceName } = this;\r\n        const fb = framebuffers[ sourceName ];\r\n\r\n        prg.use();\r\n        prg.$uniTexture = 0;\r\n        prg.$uniColor = this.color;\r\n        gl.activeTexture( gl.TEXTURE0 );\r\n        gl.bindTexture( gl.TEXTURE_2D, fb.texture );\r\n\r\n        imageProcessor.paint( time, delta );\r\n    }\r\n}\r\n\r\n\r\nmodule.exports = Blur;\r\n\r\n\r\nmodule.exports._ = _;\n})"]}