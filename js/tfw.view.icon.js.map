{"version":3,"sources":["tfw.view.icon.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","$","Icons","CODE_BEHIND","onContentChanged","onPen0Changed","v","updatePen","call","onPen1Changed","onPen2Changed","onPen3Changed","onPen4Changed","onPen5Changed","onPen6Changed","onPen7Changed","contentStringOrObject","isString","content","iconsBook","_content","createSvgFromDefinition","clear","svgRootGroup","penIndex","style","display","ex","FILL_COLORS_TO_CLASSES","P","PL","PD","S","SL","SD","STROKE_COLORS_TO_CLASSES","def","svgParent","svg","fill","elementsToFillPerColor","elementsToStrokePerColor","addChild","att","parent","add","checkDefinitionSyntax","elementName","element","forEach","childItem","index","Array","isArray","bind","setAttributesAndRegisterElementsWithSpecialColors","node","attribs","attName","attValue","valueAsIndex","elementsPerColor","parseInt","isNaN","clamp","length","push","JSON","stringify","svgElementTagName","penColor","elementsToFill","elementsToStroke","updateColor","color","updateColorForType","elements","classes","className","Object","values","classNameToRemove","removeClass","addClass","removeAtt","value","min","max","PM","Tag","Link","View","Converters","ensureCodeBehind","defVal","args","undefined","addClassIfFalse","addClassIfTrue","conv_boolean","get","conv_unit","conv_string","ViewClass","$elements","that","pm","create","cast","e_","defineProperty","writable","enumerable","configurable","A","obj","name","B","action","on","console","error","class","width","height","viewBox","preserveAspectRatio","set","fire","Error"],"mappings":"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","sourcesContent":["/** @module tfw.view.icon */require( 'tfw.view.icon', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\nrequire( \"polyfill.object.values\" );\r\n\r\nconst\r\n    $ = require( \"dom\" ),\r\n    Icons = require( \"tfw.icons\" );\r\n\r\n\r\n// Code behind to use in the XJS.\r\nconst CODE_BEHIND = {\r\n    onContentChanged,\r\n    onPen0Changed: function( v ) { updatePen.call( this, 0, v ); },\r\n    onPen1Changed: function( v ) { updatePen.call( this, 1, v ); },\r\n    onPen2Changed: function( v ) { updatePen.call( this, 2, v ); },\r\n    onPen3Changed: function( v ) { updatePen.call( this, 3, v ); },\r\n    onPen4Changed: function( v ) { updatePen.call( this, 4, v ); },\r\n    onPen5Changed: function( v ) { updatePen.call( this, 5, v ); },\r\n    onPen6Changed: function( v ) { updatePen.call( this, 6, v ); },\r\n    onPen7Changed: function( v ) { updatePen.call( this, 7, v ); }\r\n};\r\n\r\n/**\r\n * Create SVG icon from `content`\r\n *\r\n * @this ViewXJS\r\n * @param   {object|string} contentStringOrObject - Can be an icon name or a SVG description.\r\n * @returns {undefined}\r\n */\r\nfunction onContentChanged( contentStringOrObject ) {\r\n    try {\r\n        const\r\n            isString = typeof contentStringOrObject === 'string',\r\n            content = isString ? Icons.iconsBook[ contentStringOrObject ] : contentStringOrObject;\r\n\r\n        this._content = createSvgFromDefinition.call( this, content );\r\n        if ( !this._content ) return;\r\n        $.clear( this, this._content.svgRootGroup );\r\n\r\n        // Update pens' colors.\r\n        for ( const penIndex of [ 0, 1, 2, 3, 4, 5, 6, 7 ] ) {\r\n            updatePen.call( this, penIndex, this[ `pen${penIndex}` ] );\r\n        }\r\n\r\n        this.$.style.display = \"\";\r\n    } catch ( ex ) {\r\n        this.$.style.display = \"none\";\r\n        if ( this.content !== '' ) this.content = '';\r\n    }\r\n}\r\n\r\n// Special colors.\r\n// 0 is black,  1 is white, P  is primary, S is secondary,  L is light\r\n// and D is dark.\r\nconst FILL_COLORS_TO_CLASSES = {\r\n        '0': \"thm-svg-fill0\",\r\n        '1': \"thm-svg-fill1\",\r\n        P: \"thm-svg-fill-P\",\r\n        PL: \"thm-svg-fill-PL\",\r\n        PD: \"thm-svg-fill-PD\",\r\n        S: \"thm-svg-fill-S\",\r\n        SL: \"thm-svg-fill-SL\",\r\n        SD: \"thm-svg-fill-SD\"\r\n    },\r\n    STROKE_COLORS_TO_CLASSES = {\r\n        '0': \"thm-svg-stroke0\",\r\n        '1': \"thm-svg-stroke1\",\r\n        P: \"thm-svg-stroke-P\",\r\n        PL: \"thm-svg-stroke-PL\",\r\n        PD: \"thm-svg-stroke-PD\",\r\n        S: \"thm-svg-stroke-S\",\r\n        SL: \"thm-svg-stroke-SL\",\r\n        SD: \"thm-svg-stroke-SD\"\r\n    };\r\n\r\n\r\nfunction createSvgFromDefinition( def ) {\r\n    var svgParent = $.svg( 'g', {\r\n        'stroke-width': 6,\r\n        fill: \"none\",\r\n        'stroke-linecap': 'round',\r\n        'stroke-linejoin': 'round'\r\n    } );\r\n\r\n    // Store elements with special colors  in order to update them later\r\n    // if needed. We can have up to 8 colors numbered from 0 to 7.\r\n    var elementsToFillPerColor = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n    var elementsToStrokePerColor = [\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        [],\r\n        []\r\n    ];\r\n\r\n    var svgRootGroup = addChild( this.$, elementsToFillPerColor, elementsToStrokePerColor, def );\r\n    if ( !svgRootGroup ) return null;\r\n\r\n    $.att( svgRootGroup, {\r\n        'stroke-width': 6,\r\n        fill: \"none\",\r\n        'stroke-linecap': 'round',\r\n        'stroke-linejoin': 'round'\r\n    } );\r\n\r\n    return {\r\n        svgRootGroup: svgRootGroup,\r\n        elementsToFillPerColor: elementsToFillPerColor,\r\n        elementsToStrokePerColor: elementsToStrokePerColor\r\n    };\r\n}\r\n\r\n/**\r\n * @param {Node} parent - SVG element into append elements created from `def`.\r\n * @param {string} def - Text to add to the `parent`.\r\n * @param {array} def - SVG node to add to `parent`.\r\n * @param {string} def[0] - Tag name of then SVG node to add to `parent`.\r\n * @param {array} def[>0] - Definition of the children.\r\n * @param {object} def[>0] - Attributes of the element.\r\n */\r\nfunction addChild( parent, elementsToFillPerColor, elementsToStrokePerColor, def ) {\r\n    if ( typeof def === 'string' )\r\n        return $.add( parent, def );\r\n    if ( !checkDefinitionSyntax( def ) ) return null;\r\n\r\n    var elementName = def[ 0 ];\r\n    var element = $.svg( elementName );\r\n\r\n    def.forEach( function( childItem, index ) {\r\n        if ( index === 0 ) return;\r\n        if ( Array.isArray( childItem ) ) {\r\n            childItem.forEach( addChild.bind( null, element, elementsToFillPerColor, elementsToStrokePerColor ) );\r\n        } else {\r\n            setAttributesAndRegisterElementsWithSpecialColors(\r\n                element, elementsToFillPerColor, elementsToStrokePerColor, childItem );\r\n        }\r\n    } );\r\n\r\n    $.add( parent, element );\r\n    return element;\r\n}\r\n\r\nfunction setAttributesAndRegisterElementsWithSpecialColors(\r\n    node, elementsToFillPerColor, elementsToStrokePerColor, attribs ) {\r\n    var attName, attValue, valueAsIndex, elementsPerColor;\r\n\r\n    for ( attName in attribs ) {\r\n        attValue = attribs[ attName ];\r\n        if ( attName === 'fill' || attName === 'stroke' ) {\r\n            valueAsIndex = parseInt( attValue );\r\n            if ( isNaN( valueAsIndex ) ) {\r\n                // Straigth attribute.\r\n                $.att( node, attName, attValue );\r\n            } else {\r\n                elementsPerColor = attName === 'fill' ? elementsToFillPerColor : elementsToStrokePerColor;\r\n                valueAsIndex = clamp( valueAsIndex, 0, elementsPerColor.length - 1 );\r\n                elementsPerColor[ valueAsIndex ].push( node );\r\n            }\r\n        } else {\r\n            $.att( node, attName, attValue );\r\n        }\r\n    }\r\n}\r\n\r\nfunction checkDefinitionSyntax( def ) {\r\n    if ( typeof def === 'undefined' ) return false;\r\n\r\n    if ( !Array.isArray( def ) ) {\r\n        throw \"Definition of SVG elements must be arrays!\\n\" +\r\n            JSON.stringify( def );\r\n    }\r\n    var svgElementTagName = def[ 0 ];\r\n    if ( typeof svgElementTagName !== 'string' )\r\n        throw \"The first item of a SVG element must be a string!\\n\" + svgElementTagName;\r\n    return true;\r\n}\r\n\r\n/**\r\n * Update the color of a pen.\r\n *\r\n * @this ViewXJS\r\n * @param   {integer} penIndex - The index of the pen.\r\n * @param   {string} penColor - The new color of this pen.\r\n * @returns {undefined}\r\n */\r\nfunction updatePen( penIndex, penColor = \"0\" ) {\r\n    if ( !this._content ) return;\r\n\r\n    let elementsToFill = this._content.elementsToFillPerColor[ penIndex ];\r\n    if ( !Array.isArray( elementsToFill ) ) elementsToFill = [];\r\n    let elementsToStroke = this._content.elementsToStrokePerColor[ penIndex ];\r\n    if ( !Array.isArray( elementsToStroke ) ) elementsToStroke = [];\r\n\r\n    updateColor( elementsToFill, elementsToStroke, penColor );\r\n}\r\n\r\nfunction updateColor( elementsToFill, elementsToStroke, color ) {\r\n    updateColorForType( \"fill\", elementsToFill, FILL_COLORS_TO_CLASSES, color );\r\n    updateColorForType( \"stroke\", elementsToStroke, STROKE_COLORS_TO_CLASSES, color );\r\n}\r\n\r\nfunction updateColorForType( attName, elements, classes, color ) {\r\n    var className = classes[ color ];\r\n    elements.forEach( function( element ) {\r\n        Object.values( classes ).forEach( function( classNameToRemove ) {\r\n            $.removeClass( element, classNameToRemove );\r\n        } );\r\n    } );\r\n\r\n    if ( typeof className === 'undefined' ) {\r\n        elements.forEach( function( element ) {\r\n            $.att( element, attName, color );\r\n        } );\r\n    } else {\r\n        elements.forEach( function( element ) {\r\n            $.addClass( element, className );\r\n            $.removeAtt( element, attName );\r\n        } );\r\n    }\r\n}\r\n\r\nfunction clamp( value, min, max ) {\r\n    if ( value < min ) return min;\r\n    if ( value > max ) return max;\r\n    return value;\r\n}\n\n\n//===============================\n// XJS:View autogenerated code.\ntry {\n  module.exports = function() {\n    //--------------------\n    // Dependent modules.\n    const $ = require('dom');\n    const PM = require('tfw.binding.property-manager');\n    const Tag = require('tfw.view').Tag;\n    const Link = require('tfw.binding.link');\n    const View = require('tfw.view');;\n    const Converters = require('tfw.binding.converters');\n    //-------------------------------------------------------\n    // Check if needed functions are defined in code behind.\n    View.ensureCodeBehind( CODE_BEHIND, \"onContentChanged\", \"onPen0Changed\", \"onPen1Changed\", \"onPen2Changed\", \"onPen3Changed\", \"onPen4Changed\", \"onPen6Changed\", \"onPen7Changed\" );\n    //-------------------\n    // Global functions.\n    function defVal(args, attName, attValue) { return args[attName] === undefined ? attValue : args[attName]; };\n    function addClassIfFalse(element, className, value) {\n    if( value ) $.removeClass(element, className);\n    else $.addClass(element, className); };;\n    function addClassIfTrue(element, className, value) {\n    if( value ) $.addClass(element, className);\n    else $.removeClass(element, className); };;\n    //-------------------\n    // Global variables.\n    const conv_boolean = Converters.get('boolean');\n    const conv_unit = Converters.get('unit');\n    const conv_string = Converters.get('string');\n    //-------------------\n    // Class definition.\n    const ViewClass = function( args ) {\n      try {\n        if( typeof args === 'undefined' ) args = {};\n        this.$elements = {};\n                const that = this;\n        const pm = PM(this);\n        //--------------------\n        // Create attributes.\n        pm.create(\"visible\", { cast: conv_boolean });\n        pm.create(\"content\");\n        pm.create(\"size\", { cast: conv_unit });\n        pm.create(\"animate\", { cast: conv_boolean });\n        pm.create(\"flipH\", { cast: conv_boolean });\n        pm.create(\"flipV\", { cast: conv_boolean });\n        pm.create(\"pen0\", { cast: conv_string });\n        pm.create(\"pen1\", { cast: conv_string });\n        pm.create(\"pen2\", { cast: conv_string });\n        pm.create(\"pen3\", { cast: conv_string });\n        pm.create(\"pen4\", { cast: conv_string });\n        pm.create(\"pen5\", { cast: conv_string });\n        pm.create(\"pen6\", { cast: conv_string });\n        pm.create(\"pen7\", { cast: conv_string });\n        //------------------\n        // Create elements.\n        const e_ = new Tag('SVG', [\"class\",\"width\",\"height\",\"viewBox\",\"preserveAspectRatio\"]);\n        //-----------------------\n        // Declare root element.\n        Object.defineProperty( this, '$', {\n          value: e_.$,\n          writable: false, \n          enumerable: false, \n          configurable: false\n        });\n        //-------\n        // Links\n        new Link({\n          A:{obj: that,\n              name: 'visible'},\n          B:{action: function(v) {\n          addClassIfFalse( e_, \"hide\", v );}},\n          name:\"visible > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'animate'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"animate\", v );}},\n          name:\"animate > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'flipH'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"flipH\", v );}},\n          name:\"flip-h > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'flipV'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"flipV\", v );}},\n          name:\"flip-v > undefined\"\n        });\n        //-----------------------\n        // On attribute changed.\n        pm.on(\"content\", function(v) {\n          try {\n            CODE_BEHIND.onContentChanged.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onContentChanged\" of module \"mod/tfw.view.icon.js\" for attribute \"content\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen0\", function(v) {\n          try {\n            CODE_BEHIND.onPen0Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen0Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen0\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen1\", function(v) {\n          try {\n            CODE_BEHIND.onPen1Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen1Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen1\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen2\", function(v) {\n          try {\n            CODE_BEHIND.onPen2Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen2Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen2\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen3\", function(v) {\n          try {\n            CODE_BEHIND.onPen3Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen3Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen3\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen4\", function(v) {\n          try {\n            CODE_BEHIND.onPen3Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen3Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen4\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen5\", function(v) {\n          try {\n            CODE_BEHIND.onPen4Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen4Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen5\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen6\", function(v) {\n          try {\n            CODE_BEHIND.onPen6Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen6Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen6\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"pen7\", function(v) {\n          try {\n            CODE_BEHIND.onPen7Changed.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onPen7Changed\" of module \"mod/tfw.view.icon.js\" for attribute \"pen7\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"size\", function(v) {\n          e_.$.style[\"width\"] = v;\n        });\n        pm.on(\"size\", function(v) {\n          e_.$.style[\"height\"] = v;\n        });\n        //----------------------\n        // Initialize elements.\n        e_.class = \"tfw-view-icon\";\n        e_.width = \"100%\";\n        e_.height = \"100%\";\n        e_.viewBox = \"-65 -65 130 130\";\n        e_.preserveAspectRatio = \"xMidYMid meet\";\n        //------------------------\n        // Initialize attributes.\n        pm.set(\"visible\", defVal(args, \"visible\", true));\n        pm.set(\"content\", defVal(args, \"content\", \"\"));\n        pm.set(\"size\", defVal(args, \"size\", 28));\n        pm.set(\"animate\", defVal(args, \"animate\", false));\n        pm.set(\"flipH\", defVal(args, \"flipH\", false));\n        pm.set(\"flipV\", defVal(args, \"flipV\", false));\n        pm.set(\"pen0\", defVal(args, \"pen0\", 0));\n        pm.set(\"pen1\", defVal(args, \"pen1\", 1));\n        pm.set(\"pen2\", defVal(args, \"pen2\", \"P\"));\n        pm.set(\"pen3\", defVal(args, \"pen3\", \"PD\"));\n        pm.set(\"pen4\", defVal(args, \"pen4\", \"PL\"));\n        pm.set(\"pen5\", defVal(args, \"pen5\", \"S\"));\n        pm.set(\"pen6\", defVal(args, \"pen6\", \"SD\"));\n        pm.set(\"pen7\", defVal(args, \"pen7\", \"SL\"));\n        pm.fire(\"visible\");\n        pm.fire(\"content\");\n        pm.fire(\"size\");\n        pm.fire(\"animate\");\n        pm.fire(\"flipH\");\n        pm.fire(\"flipV\");\n        pm.fire(\"pen0\");\n        pm.fire(\"pen1\");\n        pm.fire(\"pen2\");\n        pm.fire(\"pen3\");\n        pm.fire(\"pen4\");\n        pm.fire(\"pen5\");\n        pm.fire(\"pen6\");\n        pm.fire(\"pen7\");\n        $.addClass(this, 'view', 'custom');\n\n      }\n      catch( ex ) {\n        console.error('mod/tfw.view.icon.js', ex);\n        throw Error('Instantiation error in XJS of \"mod/tfw.view.icon.js\":\\n' + ex)\n      }\n    };\n    return ViewClass;\n  }();\n}\ncatch( ex ) {\n  throw Error('Definition error in XJS of \"mod/tfw.view.icon.js\"\\n' + ex);\n}\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}