{"version":3,"sources":["tfw.view.combo.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","CODE_BEHIND","onIndexChange","onKeysChange","onItemsChange","onValueChange","onExpandedChange","onKeyDown","Dom","PM","Touchable","ITEM_HEIGHT","items","that","list","$elements","clear","_listHeight","_itemsDivs","forEach","val","item","div","push","add","index","manageIfFewItems","itemsCount","getLength","call","expanded","hasKeys","value","keys","keysCount","arr","Array","isArray","length","indexOf","set","parseInt","isNaN","css","transform","left","top","height","expand","collapse","saveCurrentValue","screen","addScreen","expandedList","copyContentOf","moveList","$","_valueWhenExpanded","collapsedList","rect","getBoundingClientRect","clonedItem","textContent","innerHTML","touchable","tap","removeScreen","_screen","detach","document","body","on","evt","key","preventDefault","action","selectNext","selectPrev","Tag","Link","View","Converters","TfwViewIcon","ensureCodeBehind","defVal","args","attName","attValue","undefined","addClassIfTrue","element","className","addClass","removeClass","conv_boolean","get","conv_string","conv_array","conv_integer","conv_isEmpty","ViewClass","pm","create","cast","createAction","e_","e_0","e_button","e_listContainer","e_list","listContainer","e_4","e_5","content","size","button","Object","defineProperty","writable","enumerable","configurable","events","v","bind","A","obj","name","B","converter","ex","console","error","class","fire","Error"],"mappings":"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","sourcesContent":["/** @module tfw.view.combo */require( 'tfw.view.combo', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\n/* exported CODE_BEHIND */\r\nconst CODE_BEHIND = {\r\n    onIndexChange,\r\n    onKeysChange,\r\n    onItemsChange,\r\n    onValueChange,\r\n    onExpandedChange,\r\n    onKeyDown\r\n};\r\n\r\nconst\r\n    Dom = require( \"dom\" ),\r\n    PM = require( \"tfw.binding.property-manager\" ),\r\n    Touchable = require( \"tfw.touchable\" );\r\n\r\nconst\r\n    ITEM_HEIGHT = 32;\r\n\r\n/**\r\n * @this XJS\r\n * @param {Array} items - Array of items to display in the Combo\r\n * @return {undefined}\r\n */\r\nfunction onItemsChange( items ) {\r\n    const\r\n        that = this,\r\n        list = Dom( this.$elements.list );\r\n    // button = Dom( this.$elements.button );\r\n    Dom.clear( list );\r\n    this._listHeight = 0;\r\n    this._itemsDivs = [];\r\n\r\n    items.forEach( function ( val ) {\r\n        that._listHeight += ITEM_HEIGHT;\r\n        const item = Dom.div( [ val ] );\r\n        that._itemsDivs.push( item );\r\n        Dom.add( list, item );\r\n    } );\r\n\r\n    if ( !this.index ) this.index = 0;\r\n}\r\n\r\n/**\r\n * For two items, we never show the whole list, but we just change the selection on click.\r\n * @this ViewXJS\r\n * @returns {boolean} `true` if there are at most 2 items.\r\n */\r\nfunction manageIfFewItems() {\r\n    const itemsCount = getLength.call( this, this.items );\r\n    if ( itemsCount < 2 ) return true;\r\n    if ( itemsCount === 2 ) {\r\n        this.index = 1 - this.index;\r\n        this.expanded = false;\r\n        return true;\r\n    }\r\n    // More than 2 items to manage.\r\n    return false;\r\n}\r\n\r\n/**\r\n * Current item can be set by key (string) or by index (number)-\r\n * @this ViewXJS\r\n * @param {integer} index - Index of the item to select.\r\n * @returns {undefined}\r\n */\r\nfunction onIndexChange( index ) {\r\n    if ( hasKeys.call( this ) ) {\r\n        this.value = this.keys[ index ];\r\n    } else {\r\n        this.value = index;\r\n    }\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @returns {boolean} Have keys been defined?\r\n */\r\nfunction hasKeys() {\r\n    const keysCount = getLength.call( this, this.keys );\r\n    if ( keysCount < 1 ) return false;\r\n    return keysCount === getLength.call( this, this.items );\r\n}\r\n\r\n/**\r\n * @param {Array} arr - Array from which you want the length.\r\n * @returns {integer} The array's length or 0 if it is not an array.\r\n */\r\nfunction getLength( arr ) {\r\n    if ( !arr ) return 0;\r\n    if ( !Array.isArray( arr ) ) return 0;\r\n    return arr.length;\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @param {Array} keys - The keys are not displayed. Thay are use to map a key to each item.\r\n * Without `keys`, we map the index for each item.\r\n * @returns {undefined}\r\n */\r\nfunction onKeysChange() {\r\n    if ( typeof this.index !== 'number' ) return;\r\n    onIndexChange.call( this, this.index );\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @param {string} value - What keys is currently selected.\r\n * @returns {undefined}\r\n */\r\nfunction onValueChange( value ) {\r\n    let index = 0;\r\n    if ( hasKeys.call( this ) ) {\r\n        index = this.keys.indexOf( value );\r\n        if ( index < 0 ) index = 0;\r\n        PM( this ).set( \"index\", index );\r\n    } else {\r\n        index = parseInt( value, 10 );\r\n        if ( !isNaN( index ) && index >= 0 && index < getLength.call( this, this.items ) ) {\r\n            PM( this ).set( \"index\", index );\r\n        }\r\n    }\r\n    const list = Dom( this.$elements.list );\r\n    Dom.css( list, {\r\n        transform: `translateY(-${ITEM_HEIGHT * this.index}px)`,\r\n        left: 0,\r\n        top: 0,\r\n        height: \"auto\"\r\n    } );\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @param {boolean} expanded - An expanded combo is when you see all the items at once for selection.\r\n * @returns {undefined}\r\n */\r\nfunction onExpandedChange( expanded ) {\r\n    if ( expanded ) expand.call( this );\r\n    else collapse.call( this );\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @param {boolean} saveCurrentValue - When the combo expands, we may want to save the current\r\n * value in order to go back to this value if the user press ESCAPE key.\r\n * @returns {undefined}\r\n */\r\nfunction expand( saveCurrentValue = true ) {\r\n    if ( manageIfFewItems.call( this ) ) return;\r\n\r\n    const\r\n        screen = addScreen.call( this ),\r\n        expandedList = copyContentOf.call( this );\r\n    moveList( this.$elements.list.$, expandedList );\r\n    Dom.add( screen, expandedList );\r\n    if ( saveCurrentValue ) {\r\n        this._valueWhenExpanded = this.value;\r\n    }\r\n}\r\n\r\n/**\r\n * Try to move `expandedList` to make the selected item be exactly above the same item in\r\n * `collapsedItem`. If it is not possible, a scroll bar will appear.\r\n * @param {DOMElement} collapsedList - DIV showing only one item bcause the rest is hidden.\r\n * @param {DOMElement} expandedList - DIV showing the most items as it can.\r\n * @returns {undefined}\r\n */\r\nfunction moveList( collapsedList, expandedList ) {\r\n    const\r\n        rect = collapsedList.getBoundingClientRect(),\r\n        left = rect.left;\r\n    let top = rect.top;\r\n    while ( top <= 0 ) top += ITEM_HEIGHT;\r\n    Dom.css( expandedList, {\r\n        left: `${left}px`,\r\n        top: `${top}px`\r\n    } );\r\n}\r\n\r\n/**\r\n * We sill copy the innerHTML of items and add a Touchable behaviour on each of them.\r\n * @this ViewXJS\r\n * @returns {DOMElement} DIV with all cloned items.\r\n */\r\nfunction copyContentOf() {\r\n    const\r\n        that = this,\r\n        items = this.items,\r\n        div = Dom.div( \"thm-ele8\" );\r\n    items.forEach( function ( item, index ) {\r\n        const clonedItem = Dom.div( that.index === index ? \"thm-bgSL\" : \"thm-bg3\" );\r\n        if ( typeof item === 'string' ) {\r\n            clonedItem.textContent = item;\r\n        } else {\r\n            clonedItem.innerHTML = Dom( item ).innerHTML;\r\n        }\r\n        Dom.add( div, clonedItem );\r\n        const touchable = new Touchable( clonedItem );\r\n        touchable.tap.add( () => {\r\n            that.expanded = false;\r\n            that.index = index;\r\n        } );\r\n    } );\r\n    return div;\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @returns {undefined}\r\n */\r\nfunction collapse() {\r\n    removeScreen.call( this );\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @returns {undefined}\r\n */\r\nfunction removeScreen() {\r\n    const screen = this._screen;\r\n\r\n    if ( screen ) {\r\n        Dom.detach( screen );\r\n        delete this._screen;\r\n    }\r\n}\r\n\r\n/**\r\n * @this ViewXJS\r\n * @returns {DOMElement} The screen DIV.\r\n */\r\nfunction addScreen() {\r\n    removeScreen.call( this );\r\n    const\r\n        that = this,\r\n        screen = Dom.div( \"tfw-view-combo-screen\" );\r\n    this._screen = screen;\r\n    Dom.add( document.body, screen );\r\n    Dom.on( screen, () => {\r\n        that.expanded = false;\r\n    } );\r\n    return screen;\r\n}\r\n\r\n/**\r\n * Space will expand the combo, Escape will collapse it and Enter will trigger an action.\r\n *\r\n * @this ViewXJS\r\n * @param   {[type]} evt [description]\r\n * @returns {[type]}     [description]\r\n */\r\nfunction onKeyDown( evt ) {\r\n    switch ( evt.key ) {\r\n    case 'Space':\r\n        this.expanded = !this.expanded;\r\n        evt.preventDefault();\r\n        break;\r\n    case 'Enter':\r\n        this.action = this.value;\r\n        break;\r\n    case 'ArrowDown':\r\n        selectNext.call( this );\r\n        evt.preventDefault();\r\n        break;\r\n    case 'ArrowUp':\r\n        selectPrev.call( this );\r\n        evt.preventDefault();\r\n        break;\r\n    case 'Escape':\r\n        if ( this.expanded ) {\r\n            this.expanded = false;\r\n            // Set the value as it was when we expanded the combo.\r\n            this.value = this._valueWhenExpanded;\r\n            evt.preventDefault();\r\n        }\r\n        break;\r\n    default:\r\n        // Do nothing.\r\n    }\r\n}\r\n\r\n/**\r\n * Select next item.\r\n *\r\n * @this ViewXJS\r\n * @returns {undefined}\r\n */\r\nfunction selectNext() {\r\n    this.index = ( this.index + 1 ) % this.items.length;\r\n    if ( this.expanded ) {\r\n        collapse.call( this );\r\n        expand.call( this, false );\r\n    }\r\n}\r\n\r\n/**\r\n * Select previous item.\r\n *\r\n * @this ViewXJS\r\n * @returns {undefined}\r\n */\r\nfunction selectPrev() {\r\n    this.index = ( this.index + this.items.length - 1 ) % this.items.length;\r\n    if ( this.expanded ) {\r\n        collapse.call( this );\r\n        expand.call( this, false );\r\n    }\r\n}\n\n\n//===============================\n// XJS:View autogenerated code.\ntry {\n  module.exports = function() {\n    //--------------------\n    // Dependent modules.\n    const $ = require('dom');\n    const PM = require('tfw.binding.property-manager');\n    const Tag = require('tfw.view').Tag;\n    const Link = require('tfw.binding.link');\n    const View = require('tfw.view');;\n    const Converters = require('tfw.binding.converters');\n    const TfwViewIcon = require('tfw.view.icon');\n    //-------------------------------------------------------\n    // Check if needed functions are defined in code behind.\n    View.ensureCodeBehind( CODE_BEHIND, \"onItemsChange\", \"onKeysChange\", \"onExpandedChange\", \"onIndexChange\", \"onValueChange\", \"onKeyDown\" );\n    //-------------------\n    // Global functions.\n    function defVal(args, attName, attValue) { return args[attName] === undefined ? attValue : args[attName]; };\n    function addClassIfTrue(element, className, value) {\n    if( value ) $.addClass(element, className);\n    else $.removeClass(element, className); };;\n    //-------------------\n    // Global variables.\n    const conv_boolean = Converters.get('boolean');\n    const conv_string = Converters.get('string');\n    const conv_array = Converters.get('array');\n    const conv_integer = Converters.get('integer');\n    const conv_isEmpty = Converters.get('isEmpty');\n    //-------------------\n    // Class definition.\n    const ViewClass = function( args ) {\n      try {\n        if( typeof args === 'undefined' ) args = {};\n        this.$elements = {};\n                const that = this;\n        const pm = PM(this);\n        //--------------------\n        // Create attributes.\n        pm.create(\"wide\", { cast: conv_boolean });\n        pm.create(\"label\", { cast: conv_string });\n        pm.create(\"items\", { cast: conv_array });\n        pm.create(\"keys\", { cast: conv_array });\n        pm.create(\"expanded\", { cast: conv_boolean });\n        pm.create(\"index\", { cast: conv_integer(0) });\n        pm.create(\"value\", { cast: conv_string });\n        pm.create(\"tabindex\", { cast: conv_integer(0) });\n        pm.createAction(\"action\")\n        //------------------\n        // Create elements.\n        const e_ = new Tag('DIV', [\"class\",\"tabindex\"]);\n        const e_0 = new Tag('HEADER', [\"textcontent\",\"class\"]);\n        const e_button = new Tag('DIV', [\"class\"]);\n        const e_listContainer = new Tag('DIV', [\"class\"]);\n        const e_list = new Tag('DIV', [\"class\"]);\n        this.$elements.list = e_list;\n        $.add( e_listContainer, e_list );\n        this.$elements.listContainer = e_listContainer;\n        const e_4 = new Tag('DIV', [\"class\"]);\n        const e_5 = new TfwViewIcon({\n          content: \"down\",\n          size: 24\n        });\n        $.add( e_4, e_5 );\n        $.add( e_button, e_listContainer, e_4 );\n        this.$elements.button = e_button;\n        $.add( e_, e_0, e_button );\n        //-----------------------\n        // Declare root element.\n        Object.defineProperty( this, '$', {\n          value: e_.$,\n          writable: false, \n          enumerable: false, \n          configurable: false\n        });\n        //---------\n        // Events.\n        View.events(e_, {\n          \"tap\": function(v) {\n            that.expanded = true;\n          },\n          \"keydown\": CODE_BEHIND.onKeyDown.bind( this )\n        });\n        //-------\n        // Links\n        new Link({\n          A:{obj: that,\n              name: 'tabindex'},\n          B:{obj: e_,\n              name: 'tabindex'},\n          name:\"tabindex > e_/tabindex\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'wide'},\n          B:{action: function(v) {\n          addClassIfTrue( e_, \"wide\", v );}},\n          name:\"wide > undefined\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'label'},\n          B:{obj: e_0,\n              name: 'textcontent'},\n          name:\"label > e_0/textcontent\"\n        });\n        new Link({\n          A:{obj: that,\n              name: 'label'},\n          B:{action: function(v) {\n          addClassIfTrue( e_0, \"hide\", v );},\n              converter: conv_isEmpty},\n          name:\"label > undefined\"\n        });\n        //-----------------------\n        // On attribute changed.\n        pm.on(\"items\", function(v) {\n          try {\n            CODE_BEHIND.onItemsChange.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onItemsChange\" of module \"mod/tfw.view.combo.js\" for attribute \"items\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"keys\", function(v) {\n          try {\n            CODE_BEHIND.onKeysChange.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onKeysChange\" of module \"mod/tfw.view.combo.js\" for attribute \"keys\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"expanded\", function(v) {\n          try {\n            CODE_BEHIND.onExpandedChange.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onExpandedChange\" of module \"mod/tfw.view.combo.js\" for attribute \"expanded\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"index\", function(v) {\n          try {\n            CODE_BEHIND.onIndexChange.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onIndexChange\" of module \"mod/tfw.view.combo.js\" for attribute \"index\"!'\n            );\n            console.error( ex );\n          }\n        });\n        pm.on(\"value\", function(v) {\n          try {\n            CODE_BEHIND.onValueChange.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"onValueChange\" of module \"mod/tfw.view.combo.js\" for attribute \"value\"!'\n            );\n            console.error( ex );\n          }\n        });\n        //----------------------\n        // Initialize elements.\n        e_.class = \"tfw-view-combo thm-bg2\";\n        e_0.class = \"thm-bgPL\";\n        e_button.class = \"button\";\n        e_listContainer.class = \"list-container\";\n        e_list.class = \"tfw-view-combo-list\";\n        e_4.class = \"icon\";\n        //------------------------\n        // Initialize attributes.\n        pm.set(\"wide\", defVal(args, \"wide\", false));\n        pm.set(\"label\", defVal(args, \"label\", \"\"));\n        pm.set(\"items\", defVal(args, \"items\", []));\n        pm.set(\"keys\", defVal(args, \"keys\", []));\n        pm.set(\"expanded\", defVal(args, \"expanded\", false));\n        pm.set(\"index\", defVal(args, \"index\", 0));\n        pm.set(\"value\", defVal(args, \"value\", \"\"));\n        pm.set(\"tabindex\", defVal(args, \"tabindex\", 0));\n        pm.fire(\"wide\");\n        pm.fire(\"label\");\n        pm.fire(\"items\");\n        pm.fire(\"keys\");\n        pm.fire(\"expanded\");\n        pm.fire(\"index\");\n        pm.fire(\"value\");\n        pm.fire(\"tabindex\");\n        $.addClass(this, 'view', 'custom');\n\n      }\n      catch( ex ) {\n        console.error('mod/tfw.view.combo.js', ex);\n        throw Error('Instantiation error in XJS of \"mod/tfw.view.combo.js\":\\n' + ex)\n      }\n    };\n    return ViewClass;\n  }();\n}\ncatch( ex ) {\n  throw Error('Definition error in XJS of \"mod/tfw.view.combo.js\"\\n' + ex);\n}\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}