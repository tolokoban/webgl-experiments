{"version":3,"sources":["polyfill.promise.js"],"names":["require","module","_","X","D","arguments","intl","all","window","Promise","$$utils$$objectOrFunction","x","$$utils$$isFunction","$$utils$$isMaybeThenable","$$utils$$F","$$asap$$flush","i","$$asap$$len","callback","$$asap$$queue","arg","$$$internal$$noop","$$$internal$$selfFullfillment","TypeError","$$$internal$$cannotReturnOwn","$$$internal$$getThen","promise","then","error","$$$internal$$GET_THEN_ERROR","$$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","call","e","$$$internal$$handleForeignThenable","thenable","$$asap$$default","sealed","$$$internal$$fulfill","$$$internal$$resolve","reason","$$$internal$$reject","_label","$$$internal$$handleOwnThenable","_state","_result","$$$internal$$subscribe","$$$internal$$handleMaybeThenable","maybeThenable","constructor","$$$internal$$publishRejection","_onerror","$$$internal$$publish","_subscribers","length","parent","child","onFulfillment","onRejection","subscribers","settled","detail","$$$internal$$invokeCallback","$$$internal$$ErrorObject","$$$internal$$tryCatch","$$$internal$$TRY_CATCH_ERROR","succeeded","failed","hasCallback","$$$internal$$initializePromise","resolver","$$$enumerator$$Enumerator","Constructor","input","abortOnReject","label","_instanceConstructor","_abortOnReject","_validateInput","_input","_remaining","_init","_enumerate","_validationError","$$es6$promise$promise$$needsResolver","$$es6$promise$promise$$needsNew","$$es6$promise$promise$$Promise","_id","$$es6$promise$promise$$counter","$$utils$$_isArray","Array","isArray","Object","prototype","toString","$$asap$$scheduleFlush","$$utils$$isArray","$$utils$$now","Date","now","getTime","$$utils$$o_create","create","o","Error","$$asap$$browserGlobal","$$asap$$BrowserMutationObserver","MutationObserver","WebKitMutationObserver","$$asap$$isWorker","Uint8ClampedArray","importScripts","MessageChannel","process","nextTick","iterations","observer","node","document","createTextNode","observe","characterData","data","channel","port1","onmessage","port2","postMessage","setTimeout","$$$internal$$FULFILLED","$$$internal$$REJECTED","_eachEntry","entry","c","_settledAt","_willSettleAt","resolve","_makeResult","state","enumerator","$$promise$resolve$$default","object","$$es6$promise$promise$$default","entries","race","reject","result","$$es6$promise$polyfill$$default","local","global","self","es6PromiseSupport","r","exports"],"mappings":"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","sourcesContent":["/** @module polyfill.promise */require( 'polyfill.promise', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   /**\r\n * Polyfill for Promise...\r\n */\r\n/*!\r\n * @overview es6-promise - a tiny implementation of Promises/A+.\r\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\r\n * @license   Licensed under MIT license\r\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\r\n * @version   2.0.0\r\n */\r\n\r\nif (!window.Promise) {\r\n    (function() {\r\n        \"use strict\";\r\n\r\n        function $$utils$$objectOrFunction(x) {\r\n            return typeof x === 'function' || (typeof x === 'object' && x !== null);\r\n        }\r\n\r\n        function $$utils$$isFunction(x) {\r\n            return typeof x === 'function';\r\n        }\r\n\r\n        function $$utils$$isMaybeThenable(x) {\r\n            return typeof x === 'object' && x !== null;\r\n        }\r\n\r\n        var $$utils$$_isArray;\r\n\r\n        if (!Array.isArray) {\r\n            $$utils$$_isArray = function (x) {\r\n                return Object.prototype.toString.call(x) === '[object Array]';\r\n            };\r\n        } else {\r\n            $$utils$$_isArray = Array.isArray;\r\n        }\r\n\r\n        var $$utils$$isArray = $$utils$$_isArray;\r\n        var $$utils$$now = Date.now || function() { return new Date().getTime(); };\r\n        function $$utils$$F() { }\r\n\r\n        var $$utils$$o_create = (Object.create || function (o) {\r\n            if (arguments.length > 1) {\r\n                throw new Error('Second argument not supported');\r\n            }\r\n            if (typeof o !== 'object') {\r\n                throw new TypeError('Argument must be an object');\r\n            }\r\n            $$utils$$F.prototype = o;\r\n            return new $$utils$$F();\r\n        });\r\n\r\n        var $$asap$$len = 0;\r\n\r\n        var $$asap$$default = function asap(callback, arg) {\r\n            $$asap$$queue[$$asap$$len] = callback;\r\n            $$asap$$queue[$$asap$$len + 1] = arg;\r\n            $$asap$$len += 2;\r\n            if ($$asap$$len === 2) {\r\n                // If len is 1, that means that we need to schedule an async flush.\r\n                // If additional callbacks are queued before the queue is flushed, they\r\n                // will be processed by this flush that we are scheduling.\r\n                $$asap$$scheduleFlush();\r\n            }\r\n        };\r\n\r\n        var $$asap$$browserGlobal = (typeof window !== 'undefined') ? window : {};\r\n        var $$asap$$BrowserMutationObserver = $$asap$$browserGlobal.MutationObserver || $$asap$$browserGlobal.WebKitMutationObserver;\r\n\r\n        // test for web worker but not in IE10\r\n        var $$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\r\n            typeof importScripts !== 'undefined' &&\r\n            typeof MessageChannel !== 'undefined';\r\n\r\n        // node\r\n        function $$asap$$useNextTick() {\r\n            return function() {\r\n                process.nextTick($$asap$$flush);\r\n            };\r\n        }\r\n\r\n        function $$asap$$useMutationObserver() {\r\n            var iterations = 0;\r\n            var observer = new $$asap$$BrowserMutationObserver($$asap$$flush);\r\n            var node = document.createTextNode('');\r\n            observer.observe(node, { characterData: true });\r\n\r\n            return function() {\r\n                node.data = (iterations = ++iterations % 2);\r\n            };\r\n        }\r\n\r\n        // web worker\r\n        function $$asap$$useMessageChannel() {\r\n            var channel = new MessageChannel();\r\n            channel.port1.onmessage = $$asap$$flush;\r\n            return function () {\r\n                channel.port2.postMessage(0);\r\n            };\r\n        }\r\n\r\n        function $$asap$$useSetTimeout() {\r\n            return function() {\r\n                setTimeout($$asap$$flush, 1);\r\n            };\r\n        }\r\n\r\n        var $$asap$$queue = new Array(1000);\r\n\r\n        function $$asap$$flush() {\r\n            for (var i = 0; i < $$asap$$len; i+=2) {\r\n                var callback = $$asap$$queue[i];\r\n                var arg = $$asap$$queue[i+1];\r\n\r\n                callback(arg);\r\n\r\n                $$asap$$queue[i] = undefined;\r\n                $$asap$$queue[i+1] = undefined;\r\n            }\r\n\r\n            $$asap$$len = 0;\r\n        }\r\n\r\n        var $$asap$$scheduleFlush;\r\n\r\n        // Decide what async method to use to triggering processing of queued callbacks:\r\n        if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\r\n            $$asap$$scheduleFlush = $$asap$$useNextTick();\r\n        } else if ($$asap$$BrowserMutationObserver) {\r\n            $$asap$$scheduleFlush = $$asap$$useMutationObserver();\r\n        } else if ($$asap$$isWorker) {\r\n            $$asap$$scheduleFlush = $$asap$$useMessageChannel();\r\n        } else {\r\n            $$asap$$scheduleFlush = $$asap$$useSetTimeout();\r\n        }\r\n\r\n        function $$$internal$$noop() {}\r\n        var $$$internal$$PENDING   = void 0;\r\n        var $$$internal$$FULFILLED = 1;\r\n        var $$$internal$$REJECTED  = 2;\r\n        var $$$internal$$GET_THEN_ERROR = new $$$internal$$ErrorObject();\r\n\r\n        function $$$internal$$selfFullfillment() {\r\n            return new TypeError(\"You cannot resolve a promise with itself\");\r\n        }\r\n\r\n        function $$$internal$$cannotReturnOwn() {\r\n            return new TypeError('A promises callback cannot return that same promise.')\r\n        }\r\n\r\n        function $$$internal$$getThen(promise) {\r\n            try {\r\n                return promise.then;\r\n            } catch(error) {\r\n                $$$internal$$GET_THEN_ERROR.error = error;\r\n                return $$$internal$$GET_THEN_ERROR;\r\n            }\r\n        }\r\n\r\n        function $$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\r\n            try {\r\n                then.call(value, fulfillmentHandler, rejectionHandler);\r\n            } catch(e) {\r\n                return e;\r\n            }\r\n        }\r\n\r\n        function $$$internal$$handleForeignThenable(promise, thenable, then) {\r\n            $$asap$$default(function(promise) {\r\n                var sealed = false;\r\n                var error = $$$internal$$tryThen(then, thenable, function(value) {\r\n                    if (sealed) { return; }\r\n                    sealed = true;\r\n                    if (thenable !== value) {\r\n                        $$$internal$$resolve(promise, value);\r\n                    } else {\r\n                        $$$internal$$fulfill(promise, value);\r\n                    }\r\n                }, function(reason) {\r\n                    if (sealed) { return; }\r\n                    sealed = true;\r\n\r\n                    $$$internal$$reject(promise, reason);\r\n                }, 'Settle: ' + (promise._label || ' unknown promise'));\r\n\r\n                if (!sealed && error) {\r\n                    sealed = true;\r\n                    $$$internal$$reject(promise, error);\r\n                }\r\n            }, promise);\r\n        }\r\n\r\n        function $$$internal$$handleOwnThenable(promise, thenable) {\r\n            if (thenable._state === $$$internal$$FULFILLED) {\r\n                $$$internal$$fulfill(promise, thenable._result);\r\n            } else if (promise._state === $$$internal$$REJECTED) {\r\n                $$$internal$$reject(promise, thenable._result);\r\n            } else {\r\n                $$$internal$$subscribe(thenable, undefined, function(value) {\r\n                    $$$internal$$resolve(promise, value);\r\n                }, function(reason) {\r\n                    $$$internal$$reject(promise, reason);\r\n                });\r\n            }\r\n        }\r\n\r\n        function $$$internal$$handleMaybeThenable(promise, maybeThenable) {\r\n            if (maybeThenable.constructor === promise.constructor) {\r\n                $$$internal$$handleOwnThenable(promise, maybeThenable);\r\n            } else {\r\n                var then = $$$internal$$getThen(maybeThenable);\r\n\r\n                if (then === $$$internal$$GET_THEN_ERROR) {\r\n                    $$$internal$$reject(promise, $$$internal$$GET_THEN_ERROR.error);\r\n                } else if (then === undefined) {\r\n                    $$$internal$$fulfill(promise, maybeThenable);\r\n                } else if ($$utils$$isFunction(then)) {\r\n                    $$$internal$$handleForeignThenable(promise, maybeThenable, then);\r\n                } else {\r\n                    $$$internal$$fulfill(promise, maybeThenable);\r\n                }\r\n            }\r\n        }\r\n\r\n        function $$$internal$$resolve(promise, value) {\r\n            if (promise === value) {\r\n                $$$internal$$reject(promise, $$$internal$$selfFullfillment());\r\n            } else if ($$utils$$objectOrFunction(value)) {\r\n                $$$internal$$handleMaybeThenable(promise, value);\r\n            } else {\r\n                $$$internal$$fulfill(promise, value);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$publishRejection(promise) {\r\n            if (promise._onerror) {\r\n                promise._onerror(promise._result);\r\n            }\r\n\r\n            $$$internal$$publish(promise);\r\n        }\r\n\r\n        function $$$internal$$fulfill(promise, value) {\r\n            if (promise._state !== $$$internal$$PENDING) { return; }\r\n\r\n            promise._result = value;\r\n            promise._state = $$$internal$$FULFILLED;\r\n\r\n            if (promise._subscribers.length === 0) {\r\n            } else {\r\n                $$asap$$default($$$internal$$publish, promise);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$reject(promise, reason) {\r\n            if (promise._state !== $$$internal$$PENDING) { return; }\r\n            promise._state = $$$internal$$REJECTED;\r\n            promise._result = reason;\r\n\r\n            $$asap$$default($$$internal$$publishRejection, promise);\r\n        }\r\n\r\n        function $$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\r\n            var subscribers = parent._subscribers;\r\n            var length = subscribers.length;\r\n\r\n            parent._onerror = null;\r\n\r\n            subscribers[length] = child;\r\n            subscribers[length + $$$internal$$FULFILLED] = onFulfillment;\r\n            subscribers[length + $$$internal$$REJECTED]  = onRejection;\r\n\r\n            if (length === 0 && parent._state) {\r\n                $$asap$$default($$$internal$$publish, parent);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$publish(promise) {\r\n            var subscribers = promise._subscribers;\r\n            var settled = promise._state;\r\n\r\n            if (subscribers.length === 0) { return; }\r\n\r\n            var child, callback, detail = promise._result;\r\n\r\n            for (var i = 0; i < subscribers.length; i += 3) {\r\n                child = subscribers[i];\r\n                callback = subscribers[i + settled];\r\n\r\n                if (child) {\r\n                    $$$internal$$invokeCallback(settled, child, callback, detail);\r\n                } else {\r\n                    callback(detail);\r\n                }\r\n            }\r\n\r\n            promise._subscribers.length = 0;\r\n        }\r\n\r\n        function $$$internal$$ErrorObject() {\r\n            this.error = null;\r\n        }\r\n\r\n        var $$$internal$$TRY_CATCH_ERROR = new $$$internal$$ErrorObject();\r\n\r\n        function $$$internal$$tryCatch(callback, detail) {\r\n            try {\r\n                return callback(detail);\r\n            } catch(e) {\r\n                $$$internal$$TRY_CATCH_ERROR.error = e;\r\n                return $$$internal$$TRY_CATCH_ERROR;\r\n            }\r\n        }\r\n\r\n        function $$$internal$$invokeCallback(settled, promise, callback, detail) {\r\n            var hasCallback = $$utils$$isFunction(callback),\r\n            value, error, succeeded, failed;\r\n\r\n            if (hasCallback) {\r\n                value = $$$internal$$tryCatch(callback, detail);\r\n\r\n                if (value === $$$internal$$TRY_CATCH_ERROR) {\r\n                    failed = true;\r\n                    error = value.error;\r\n                    value = null;\r\n                } else {\r\n                    succeeded = true;\r\n                }\r\n\r\n                if (promise === value) {\r\n                    $$$internal$$reject(promise, $$$internal$$cannotReturnOwn());\r\n                    return;\r\n                }\r\n\r\n            } else {\r\n                value = detail;\r\n                succeeded = true;\r\n            }\r\n\r\n            if (promise._state !== $$$internal$$PENDING) {\r\n                // noop\r\n            } else if (hasCallback && succeeded) {\r\n                $$$internal$$resolve(promise, value);\r\n            } else if (failed) {\r\n                $$$internal$$reject(promise, error);\r\n            } else if (settled === $$$internal$$FULFILLED) {\r\n                $$$internal$$fulfill(promise, value);\r\n            } else if (settled === $$$internal$$REJECTED) {\r\n                $$$internal$$reject(promise, value);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$initializePromise(promise, resolver) {\r\n            try {\r\n                resolver(function resolvePromise(value){\r\n                    $$$internal$$resolve(promise, value);\r\n                }, function rejectPromise(reason) {\r\n                    $$$internal$$reject(promise, reason);\r\n                });\r\n            } catch(e) {\r\n                $$$internal$$reject(promise, e);\r\n            }\r\n        }\r\n\r\n        function $$$enumerator$$makeSettledResult(state, position, value) {\r\n            if (state === $$$internal$$FULFILLED) {\r\n                return {\r\n                    state: 'fulfilled',\r\n                    value: value\r\n                };\r\n            } else {\r\n                return {\r\n                    state: 'rejected',\r\n                    reason: value\r\n                };\r\n            }\r\n        }\r\n\r\n        function $$$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\r\n            this._instanceConstructor = Constructor;\r\n            this.promise = new Constructor($$$internal$$noop, label);\r\n            this._abortOnReject = abortOnReject;\r\n\r\n            if (this._validateInput(input)) {\r\n                this._input     = input;\r\n                this.length     = input.length;\r\n                this._remaining = input.length;\r\n\r\n                this._init();\r\n\r\n                if (this.length === 0) {\r\n                    $$$internal$$fulfill(this.promise, this._result);\r\n                } else {\r\n                    this.length = this.length || 0;\r\n                    this._enumerate();\r\n                    if (this._remaining === 0) {\r\n                        $$$internal$$fulfill(this.promise, this._result);\r\n                    }\r\n                }\r\n            } else {\r\n                $$$internal$$reject(this.promise, this._validationError());\r\n            }\r\n        }\r\n\r\n        $$$enumerator$$Enumerator.prototype._validateInput = function(input) {\r\n            return $$utils$$isArray(input);\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._validationError = function() {\r\n            return new Error('Array Methods must be provided an Array');\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._init = function() {\r\n            this._result = new Array(this.length);\r\n        };\r\n\r\n        var $$$enumerator$$default = $$$enumerator$$Enumerator;\r\n\r\n        $$$enumerator$$Enumerator.prototype._enumerate = function() {\r\n            var length  = this.length;\r\n            var promise = this.promise;\r\n            var input   = this._input;\r\n\r\n            for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\r\n                this._eachEntry(input[i], i);\r\n            }\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\r\n            var c = this._instanceConstructor;\r\n            if ($$utils$$isMaybeThenable(entry)) {\r\n                if (entry.constructor === c && entry._state !== $$$internal$$PENDING) {\r\n                    entry._onerror = null;\r\n                    this._settledAt(entry._state, i, entry._result);\r\n                } else {\r\n                    this._willSettleAt(c.resolve(entry), i);\r\n                }\r\n            } else {\r\n                this._remaining--;\r\n                this._result[i] = this._makeResult($$$internal$$FULFILLED, i, entry);\r\n            }\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\r\n            var promise = this.promise;\r\n\r\n            if (promise._state === $$$internal$$PENDING) {\r\n                this._remaining--;\r\n\r\n                if (this._abortOnReject && state === $$$internal$$REJECTED) {\r\n                    $$$internal$$reject(promise, value);\r\n                } else {\r\n                    this._result[i] = this._makeResult(state, i, value);\r\n                }\r\n            }\r\n\r\n            if (this._remaining === 0) {\r\n                $$$internal$$fulfill(promise, this._result);\r\n            }\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\r\n            return value;\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\r\n            var enumerator = this;\r\n\r\n            $$$internal$$subscribe(promise, undefined, function(value) {\r\n                enumerator._settledAt($$$internal$$FULFILLED, i, value);\r\n            }, function(reason) {\r\n                enumerator._settledAt($$$internal$$REJECTED, i, reason);\r\n            });\r\n        };\r\n\r\n        var $$promise$all$$default = function all(entries, label) {\r\n            return new $$$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\r\n        };\r\n\r\n        var $$promise$race$$default = function race(entries, label) {\r\n            /*jshint validthis:true */\r\n            var Constructor = this;\r\n\r\n            var promise = new Constructor($$$internal$$noop, label);\r\n\r\n            if (!$$utils$$isArray(entries)) {\r\n                $$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\r\n                return promise;\r\n            }\r\n\r\n            var length = entries.length;\r\n\r\n            function onFulfillment(value) {\r\n                $$$internal$$resolve(promise, value);\r\n            }\r\n\r\n            function onRejection(reason) {\r\n                $$$internal$$reject(promise, reason);\r\n            }\r\n\r\n            for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\r\n                $$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\r\n            }\r\n\r\n            return promise;\r\n        };\r\n\r\n        var $$promise$resolve$$default = function resolve(object, label) {\r\n            /*jshint validthis:true */\r\n            var Constructor = this;\r\n\r\n            if (object && typeof object === 'object' && object.constructor === Constructor) {\r\n                return object;\r\n            }\r\n\r\n            var promise = new Constructor($$$internal$$noop, label);\r\n            $$$internal$$resolve(promise, object);\r\n            return promise;\r\n        };\r\n\r\n        var $$promise$reject$$default = function reject(reason, label) {\r\n            /*jshint validthis:true */\r\n            var Constructor = this;\r\n            var promise = new Constructor($$$internal$$noop, label);\r\n            $$$internal$$reject(promise, reason);\r\n            return promise;\r\n        };\r\n\r\n        var $$es6$promise$promise$$counter = 0;\r\n\r\n        function $$es6$promise$promise$$needsResolver() {\r\n            throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\r\n        }\r\n\r\n        function $$es6$promise$promise$$needsNew() {\r\n            throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\r\n        }\r\n\r\n        var $$es6$promise$promise$$default = $$es6$promise$promise$$Promise;\r\n\r\n        /**\r\n         Promise objects represent the eventual result of an asynchronous operation. The\r\n         primary way of interacting with a promise is through its `then` method, which\r\n         registers callbacks to receive either a promiseâ€™s eventual value or the reason\r\n         why the promise cannot be fulfilled.\r\n\r\n         Terminology\r\n         -----------\r\n\r\n         - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\r\n         - `thenable` is an object or function that defines a `then` method.\r\n         - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\r\n         - `exception` is a value that is thrown using the throw statement.\r\n         - `reason` is a value that indicates why a promise was rejected.\r\n         - `settled` the final resting state of a promise, fulfilled or rejected.\r\n\r\n         A promise can be in one of three states: pending, fulfilled, or rejected.\r\n\r\n         Promises that are fulfilled have a fulfillment value and are in the fulfilled\r\n         state.  Promises that are rejected have a rejection reason and are in the\r\n         rejected state.  A fulfillment value is never a thenable.\r\n\r\n         Promises can also be said to *resolve* a value.  If this value is also a\r\n         promise, then the original promise's settled state will match the value's\r\n         settled state.  So a promise that *resolves* a promise that rejects will\r\n         itself reject, and a promise that *resolves* a promise that fulfills will\r\n         itself fulfill.\r\n\r\n\r\n         Basic Usage:\r\n         ------------\r\n\r\n         ```js\r\n         var promise = new Promise(function(resolve, reject) {\r\n         // on success\r\n         resolve(value);\r\n\r\n         // on failure\r\n         reject(reason);\r\n         });\r\n\r\n         promise.then(function(value) {\r\n         // on fulfillment\r\n         }, function(reason) {\r\n         // on rejection\r\n         });\r\n         ```\r\n\r\n         Advanced Usage:\r\n         ---------------\r\n\r\n         Promises shine when abstracting away asynchronous interactions such as\r\n         `XMLHttpRequest`s.\r\n\r\n         ```js\r\n         function getJSON(url) {\r\n         return new Promise(function(resolve, reject){\r\n         var xhr = new XMLHttpRequest();\r\n\r\n         xhr.open('GET', url);\r\n         xhr.onreadystatechange = handler;\r\n         xhr.responseType = 'json';\r\n         xhr.setRequestHeader('Accept', 'application/json');\r\n         xhr.send();\r\n\r\n         function handler() {\r\n         if (this.readyState === this.DONE) {\r\n         if (this.status === 200) {\r\n         resolve(this.response);\r\n         } else {\r\n         reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\r\n         }\r\n         }\r\n         };\r\n         });\r\n         }\r\n\r\n         getJSON('/posts.json').then(function(json) {\r\n         // on fulfillment\r\n         }, function(reason) {\r\n         // on rejection\r\n         });\r\n         ```\r\n\r\n         Unlike callbacks, promises are great composable primitives.\r\n\r\n         ```js\r\n         Promise.all([\r\n         getJSON('/posts'),\r\n         getJSON('/comments')\r\n         ]).then(function(values){\r\n         values[0] // => postsJSON\r\n         values[1] // => commentsJSON\r\n\r\n         return values;\r\n         });\r\n         ```\r\n\r\n         @class Promise\r\n         @param {function} resolver\r\n         @param {String} label optional string for labeling the promise.\r\n         Useful for tooling.\r\n         @constructor\r\n         */\r\n        function $$es6$promise$promise$$Promise(resolver, label) {\r\n            this._id = $$es6$promise$promise$$counter++;\r\n            this._label = label;\r\n            this._state = undefined;\r\n            this._result = undefined;\r\n            this._subscribers = [];\r\n\r\n            if ($$$internal$$noop !== resolver) {\r\n                if (!$$utils$$isFunction(resolver)) {\r\n                    $$es6$promise$promise$$needsResolver();\r\n                }\r\n\r\n                if (!(this instanceof $$es6$promise$promise$$Promise)) {\r\n                    $$es6$promise$promise$$needsNew();\r\n                }\r\n\r\n                $$$internal$$initializePromise(this, resolver);\r\n            }\r\n        }\r\n\r\n        $$es6$promise$promise$$Promise.all = $$promise$all$$default;\r\n        $$es6$promise$promise$$Promise.race = $$promise$race$$default;\r\n        $$es6$promise$promise$$Promise.resolve = $$promise$resolve$$default;\r\n        $$es6$promise$promise$$Promise.reject = $$promise$reject$$default;\r\n\r\n        $$es6$promise$promise$$Promise.prototype = {\r\n            constructor: $$es6$promise$promise$$Promise,\r\n\r\n            /**\r\n             The primary way of interacting with a promise is through its `then` method,\r\n             which registers callbacks to receive either a promise's eventual value or the\r\n             reason why the promise cannot be fulfilled.\r\n\r\n             ```js\r\n             findUser().then(function(user){\r\n             // user is available\r\n             }, function(reason){\r\n             // user is unavailable, and you are given the reason why\r\n             });\r\n             ```\r\n\r\n             Chaining\r\n             --------\r\n\r\n             The return value of `then` is itself a promise.  This second, 'downstream'\r\n             promise is resolved with the return value of the first promise's fulfillment\r\n             or rejection handler, or rejected if the handler throws an exception.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             return user.name;\r\n             }, function (reason) {\r\n             return 'default name';\r\n             }).then(function (userName) {\r\n             // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\r\n             // will be `'default name'`\r\n             });\r\n\r\n             findUser().then(function (user) {\r\n             throw new Error('Found user, but still unhappy');\r\n             }, function (reason) {\r\n             throw new Error('`findUser` rejected and we're unhappy');\r\n             }).then(function (value) {\r\n             // never reached\r\n             }, function (reason) {\r\n             // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\r\n             // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\r\n             });\r\n             ```\r\n             If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             throw new PedagogicalException('Upstream error');\r\n             }).then(function (value) {\r\n             // never reached\r\n             }).then(function (value) {\r\n             // never reached\r\n             }, function (reason) {\r\n             // The `PedgagocialException` is propagated all the way down to here\r\n             });\r\n             ```\r\n\r\n             Assimilation\r\n             ------------\r\n\r\n             Sometimes the value you want to propagate to a downstream promise can only be\r\n             retrieved asynchronously. This can be achieved by returning a promise in the\r\n             fulfillment or rejection handler. The downstream promise will then be pending\r\n             until the returned promise is settled. This is called *assimilation*.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             return findCommentsByAuthor(user);\r\n             }).then(function (comments) {\r\n             // The user's comments are now available\r\n             });\r\n             ```\r\n\r\n             If the assimliated promise rejects, then the downstream promise will also reject.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             return findCommentsByAuthor(user);\r\n             }).then(function (comments) {\r\n             // If `findCommentsByAuthor` fulfills, we'll have the value here\r\n             }, function (reason) {\r\n             // If `findCommentsByAuthor` rejects, we'll have the reason here\r\n             });\r\n             ```\r\n\r\n             Simple Example\r\n             --------------\r\n\r\n             Synchronous Example\r\n\r\n             ```javascript\r\n             var result;\r\n\r\n             try {\r\n             result = findResult();\r\n             // success\r\n             } catch(reason) {\r\n             // failure\r\n             }\r\n             ```\r\n\r\n             Errback Example\r\n\r\n             ```js\r\n             findResult(function(result, err){\r\n             if (err) {\r\n             // failure\r\n             } else {\r\n             // success\r\n             }\r\n             });\r\n             ```\r\n\r\n             Promise Example;\r\n\r\n             ```javascript\r\n             findResult().then(function(result){\r\n             // success\r\n             }, function(reason){\r\n             // failure\r\n             });\r\n             ```\r\n\r\n             Advanced Example\r\n             --------------\r\n\r\n             Synchronous Example\r\n\r\n             ```javascript\r\n             var author, books;\r\n\r\n             try {\r\n             author = findAuthor();\r\n             books  = findBooksByAuthor(author);\r\n             // success\r\n             } catch(reason) {\r\n             // failure\r\n             }\r\n             ```\r\n\r\n             Errback Example\r\n\r\n             ```js\r\n\r\n             function foundBooks(books) {\r\n\r\n             }\r\n\r\n             function failure(reason) {\r\n\r\n             }\r\n\r\n             findAuthor(function(author, err){\r\n             if (err) {\r\n             failure(err);\r\n             // failure\r\n             } else {\r\n             try {\r\n             findBoooksByAuthor(author, function(books, err) {\r\n             if (err) {\r\n             failure(err);\r\n             } else {\r\n             try {\r\n             foundBooks(books);\r\n             } catch(reason) {\r\n             failure(reason);\r\n             }\r\n             }\r\n             });\r\n             } catch(error) {\r\n             failure(err);\r\n             }\r\n             // success\r\n             }\r\n             });\r\n             ```\r\n\r\n             Promise Example;\r\n\r\n             ```javascript\r\n             findAuthor().\r\n             then(findBooksByAuthor).\r\n             then(function(books){\r\n             // found books\r\n             }).catch(function(reason){\r\n             // something went wrong\r\n             });\r\n             ```\r\n\r\n             @method then\r\n             @param {Function} onFulfilled\r\n             @param {Function} onRejected\r\n             @param {String} label optional string for labeling the promise.\r\n             Useful for tooling.\r\n             @return {Promise}\r\n             */\r\n            then: function(onFulfillment, onRejection, label) {\r\n                var parent = this;\r\n                var state = parent._state;\r\n\r\n                if (state === $$$internal$$FULFILLED && !onFulfillment || state === $$$internal$$REJECTED && !onRejection) {\r\n                    return this;\r\n                }\r\n\r\n                parent._onerror = null;\r\n\r\n                var child = new this.constructor($$$internal$$noop, label);\r\n                var result = parent._result;\r\n\r\n                if (state) {\r\n                    var callback = arguments[state - 1];\r\n                    $$asap$$default(function(){\r\n                        $$$internal$$invokeCallback(state, child, callback, result);\r\n                    });\r\n                } else {\r\n                    $$$internal$$subscribe(parent, child, onFulfillment, onRejection);\r\n                }\r\n\r\n                return child;\r\n            },\r\n\r\n            /**\r\n             `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\r\n             as the catch block of a try/catch statement.\r\n\r\n             ```js\r\n             function findAuthor(){\r\n             throw new Error('couldn't find that author');\r\n             }\r\n\r\n             // synchronous\r\n             try {\r\n             findAuthor();\r\n             } catch(reason) {\r\n             // something went wrong\r\n             }\r\n\r\n             // async with promises\r\n             findAuthor().catch(function(reason){\r\n             // something went wrong\r\n             });\r\n             ```\r\n\r\n             @method catch\r\n             @param {Function} onRejection\r\n             @param {String} label optional string for labeling the promise.\r\n             Useful for tooling.\r\n             @return {Promise}\r\n             */\r\n            'catch': function(onRejection, label) {\r\n                return this.then(null, onRejection, label);\r\n            }\r\n        };\r\n\r\n        var $$es6$promise$polyfill$$default = function polyfill() {\r\n            var local;\r\n\r\n            if (typeof global !== 'undefined') {\r\n                local = global;\r\n            } else if (typeof window !== 'undefined' && window.document) {\r\n                local = window;\r\n            } else {\r\n                local = self;\r\n            }\r\n\r\n            var es6PromiseSupport =\r\n                \"Promise\" in local &&\r\n                // Some of these methods are missing from\r\n                // Firefox/Chrome experimental implementations\r\n                \"resolve\" in local.Promise &&\r\n                \"reject\" in local.Promise &&\r\n                \"all\" in local.Promise &&\r\n                \"race\" in local.Promise &&\r\n                // Older version of the spec had a resolver object\r\n                // as the arg rather than a function\r\n                (function() {\r\n                    var resolve;\r\n                    new local.Promise(function(r) { resolve = r; });\r\n                    return $$utils$$isFunction(resolve);\r\n                }());\r\n\r\n            if (!es6PromiseSupport) {\r\n                local.Promise = $$es6$promise$promise$$default;\r\n            }\r\n        };\r\n\r\n        var es6$promise$umd$$ES6Promise = {\r\n            Promise: $$es6$promise$promise$$default,\r\n            polyfill: $$es6$promise$polyfill$$default\r\n        };\r\n\r\n        // Calling polyfill.\r\n        $$es6$promise$polyfill$$default();\r\n\r\n        /* global define:true module:true window: true */\r\n/*\r\n        if (typeof define === 'function' && define['amd']) {\r\n            define(function() { return es6$promise$umd$$ES6Promise; });\r\n        } else if (typeof module !== 'undefined' && module['exports']) {\r\n            module['exports'] = es6$promise$umd$$ES6Promise;\r\n        } else if (typeof this !== 'undefined') {\r\n            this['ES6Promise'] = es6$promise$umd$$ES6Promise;\r\n        }\r\n*/\r\n    }).call(this);\r\n}\r\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}