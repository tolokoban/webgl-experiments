{"version":3,"sources":["polyfill.promise.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","window","Promise","$$utils$$objectOrFunction","x","$$utils$$isFunction","$$utils$$isMaybeThenable","$$utils$$_isArray","Array","isArray","Object","prototype","toString","call","$$utils$$isArray","$$utils$$now","Date","now","getTime","$$utils$$F","$$utils$$o_create","create","o","length","Error","TypeError","$$asap$$len","$$asap$$default","asap","callback","arg","$$asap$$queue","$$asap$$scheduleFlush","$$asap$$browserGlobal","$$asap$$BrowserMutationObserver","MutationObserver","WebKitMutationObserver","$$asap$$isWorker","Uint8ClampedArray","importScripts","MessageChannel","$$asap$$useNextTick","process","nextTick","$$asap$$flush","$$asap$$useMutationObserver","iterations","observer","node","document","createTextNode","observe","characterData","data","$$asap$$useMessageChannel","channel","port1","onmessage","port2","postMessage","$$asap$$useSetTimeout","setTimeout","i","undefined","$$$internal$$noop","$$$internal$$PENDING","$$$internal$$FULFILLED","$$$internal$$REJECTED","$$$internal$$GET_THEN_ERROR","$$$internal$$ErrorObject","$$$internal$$selfFullfillment","$$$internal$$cannotReturnOwn","$$$internal$$getThen","promise","then","error","$$$internal$$tryThen","value","fulfillmentHandler","rejectionHandler","e","$$$internal$$handleForeignThenable","thenable","sealed","$$$internal$$resolve","$$$internal$$fulfill","reason","$$$internal$$reject","_label","$$$internal$$handleOwnThenable","_state","_result","$$$internal$$subscribe","$$$internal$$handleMaybeThenable","maybeThenable","constructor","$$$internal$$publishRejection","_onerror","$$$internal$$publish","_subscribers","parent","child","onFulfillment","onRejection","subscribers","settled","detail","$$$internal$$invokeCallback","$$$internal$$TRY_CATCH_ERROR","$$$internal$$tryCatch","hasCallback","succeeded","failed","$$$internal$$initializePromise","resolver","resolvePromise","rejectPromise","$$$enumerator$$makeSettledResult","state","position","$$$enumerator$$Enumerator","Constructor","input","abortOnReject","label","_instanceConstructor","_abortOnReject","_validateInput","_input","_remaining","_init","_enumerate","_validationError","$$$enumerator$$default","_eachEntry","entry","c","_settledAt","_willSettleAt","resolve","_makeResult","enumerator","$$promise$all$$default","entries","$$promise$race$$default","race","$$promise$resolve$$default","object","$$promise$reject$$default","reject","$$es6$promise$promise$$counter","$$es6$promise$promise$$needsResolver","$$es6$promise$promise$$needsNew","$$es6$promise$promise$$default","$$es6$promise$promise$$Promise","_id","result","$$es6$promise$polyfill$$default","polyfill","local","global","self","es6PromiseSupport","r","es6$promise$umd$$ES6Promise"],"mappings":"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","sourcesContent":["/** @module polyfill.promise */require( 'polyfill.promise', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   /**\r\n * Polyfill for Promise...\r\n */\r\n/*!\r\n * @overview es6-promise - a tiny implementation of Promises/A+.\r\n * @copyright Copyright (c) 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors (Conversion to ES6 API by Jake Archibald)\r\n * @license   Licensed under MIT license\r\n *            See https://raw.githubusercontent.com/jakearchibald/es6-promise/master/LICENSE\r\n * @version   2.0.0\r\n */\r\n\r\nif (!window.Promise) {\r\n    (function() {\r\n        \"use strict\";\r\n\r\n        function $$utils$$objectOrFunction(x) {\r\n            return typeof x === 'function' || (typeof x === 'object' && x !== null);\r\n        }\r\n\r\n        function $$utils$$isFunction(x) {\r\n            return typeof x === 'function';\r\n        }\r\n\r\n        function $$utils$$isMaybeThenable(x) {\r\n            return typeof x === 'object' && x !== null;\r\n        }\r\n\r\n        var $$utils$$_isArray;\r\n\r\n        if (!Array.isArray) {\r\n            $$utils$$_isArray = function (x) {\r\n                return Object.prototype.toString.call(x) === '[object Array]';\r\n            };\r\n        } else {\r\n            $$utils$$_isArray = Array.isArray;\r\n        }\r\n\r\n        var $$utils$$isArray = $$utils$$_isArray;\r\n        var $$utils$$now = Date.now || function() { return new Date().getTime(); };\r\n        function $$utils$$F() { }\r\n\r\n        var $$utils$$o_create = (Object.create || function (o) {\r\n            if (arguments.length > 1) {\r\n                throw new Error('Second argument not supported');\r\n            }\r\n            if (typeof o !== 'object') {\r\n                throw new TypeError('Argument must be an object');\r\n            }\r\n            $$utils$$F.prototype = o;\r\n            return new $$utils$$F();\r\n        });\r\n\r\n        var $$asap$$len = 0;\r\n\r\n        var $$asap$$default = function asap(callback, arg) {\r\n            $$asap$$queue[$$asap$$len] = callback;\r\n            $$asap$$queue[$$asap$$len + 1] = arg;\r\n            $$asap$$len += 2;\r\n            if ($$asap$$len === 2) {\r\n                // If len is 1, that means that we need to schedule an async flush.\r\n                // If additional callbacks are queued before the queue is flushed, they\r\n                // will be processed by this flush that we are scheduling.\r\n                $$asap$$scheduleFlush();\r\n            }\r\n        };\r\n\r\n        var $$asap$$browserGlobal = (typeof window !== 'undefined') ? window : {};\r\n        var $$asap$$BrowserMutationObserver = $$asap$$browserGlobal.MutationObserver || $$asap$$browserGlobal.WebKitMutationObserver;\r\n\r\n        // test for web worker but not in IE10\r\n        var $$asap$$isWorker = typeof Uint8ClampedArray !== 'undefined' &&\r\n            typeof importScripts !== 'undefined' &&\r\n            typeof MessageChannel !== 'undefined';\r\n\r\n        // node\r\n        function $$asap$$useNextTick() {\r\n            return function() {\r\n                process.nextTick($$asap$$flush);\r\n            };\r\n        }\r\n\r\n        function $$asap$$useMutationObserver() {\r\n            var iterations = 0;\r\n            var observer = new $$asap$$BrowserMutationObserver($$asap$$flush);\r\n            var node = document.createTextNode('');\r\n            observer.observe(node, { characterData: true });\r\n\r\n            return function() {\r\n                node.data = (iterations = ++iterations % 2);\r\n            };\r\n        }\r\n\r\n        // web worker\r\n        function $$asap$$useMessageChannel() {\r\n            var channel = new MessageChannel();\r\n            channel.port1.onmessage = $$asap$$flush;\r\n            return function () {\r\n                channel.port2.postMessage(0);\r\n            };\r\n        }\r\n\r\n        function $$asap$$useSetTimeout() {\r\n            return function() {\r\n                setTimeout($$asap$$flush, 1);\r\n            };\r\n        }\r\n\r\n        var $$asap$$queue = new Array(1000);\r\n\r\n        function $$asap$$flush() {\r\n            for (var i = 0; i < $$asap$$len; i+=2) {\r\n                var callback = $$asap$$queue[i];\r\n                var arg = $$asap$$queue[i+1];\r\n\r\n                callback(arg);\r\n\r\n                $$asap$$queue[i] = undefined;\r\n                $$asap$$queue[i+1] = undefined;\r\n            }\r\n\r\n            $$asap$$len = 0;\r\n        }\r\n\r\n        var $$asap$$scheduleFlush;\r\n\r\n        // Decide what async method to use to triggering processing of queued callbacks:\r\n        if (typeof process !== 'undefined' && {}.toString.call(process) === '[object process]') {\r\n            $$asap$$scheduleFlush = $$asap$$useNextTick();\r\n        } else if ($$asap$$BrowserMutationObserver) {\r\n            $$asap$$scheduleFlush = $$asap$$useMutationObserver();\r\n        } else if ($$asap$$isWorker) {\r\n            $$asap$$scheduleFlush = $$asap$$useMessageChannel();\r\n        } else {\r\n            $$asap$$scheduleFlush = $$asap$$useSetTimeout();\r\n        }\r\n\r\n        function $$$internal$$noop() {}\r\n        var $$$internal$$PENDING   = void 0;\r\n        var $$$internal$$FULFILLED = 1;\r\n        var $$$internal$$REJECTED  = 2;\r\n        var $$$internal$$GET_THEN_ERROR = new $$$internal$$ErrorObject();\r\n\r\n        function $$$internal$$selfFullfillment() {\r\n            return new TypeError(\"You cannot resolve a promise with itself\");\r\n        }\r\n\r\n        function $$$internal$$cannotReturnOwn() {\r\n            return new TypeError('A promises callback cannot return that same promise.')\r\n        }\r\n\r\n        function $$$internal$$getThen(promise) {\r\n            try {\r\n                return promise.then;\r\n            } catch(error) {\r\n                $$$internal$$GET_THEN_ERROR.error = error;\r\n                return $$$internal$$GET_THEN_ERROR;\r\n            }\r\n        }\r\n\r\n        function $$$internal$$tryThen(then, value, fulfillmentHandler, rejectionHandler) {\r\n            try {\r\n                then.call(value, fulfillmentHandler, rejectionHandler);\r\n            } catch(e) {\r\n                return e;\r\n            }\r\n        }\r\n\r\n        function $$$internal$$handleForeignThenable(promise, thenable, then) {\r\n            $$asap$$default(function(promise) {\r\n                var sealed = false;\r\n                var error = $$$internal$$tryThen(then, thenable, function(value) {\r\n                    if (sealed) { return; }\r\n                    sealed = true;\r\n                    if (thenable !== value) {\r\n                        $$$internal$$resolve(promise, value);\r\n                    } else {\r\n                        $$$internal$$fulfill(promise, value);\r\n                    }\r\n                }, function(reason) {\r\n                    if (sealed) { return; }\r\n                    sealed = true;\r\n\r\n                    $$$internal$$reject(promise, reason);\r\n                }, 'Settle: ' + (promise._label || ' unknown promise'));\r\n\r\n                if (!sealed && error) {\r\n                    sealed = true;\r\n                    $$$internal$$reject(promise, error);\r\n                }\r\n            }, promise);\r\n        }\r\n\r\n        function $$$internal$$handleOwnThenable(promise, thenable) {\r\n            if (thenable._state === $$$internal$$FULFILLED) {\r\n                $$$internal$$fulfill(promise, thenable._result);\r\n            } else if (promise._state === $$$internal$$REJECTED) {\r\n                $$$internal$$reject(promise, thenable._result);\r\n            } else {\r\n                $$$internal$$subscribe(thenable, undefined, function(value) {\r\n                    $$$internal$$resolve(promise, value);\r\n                }, function(reason) {\r\n                    $$$internal$$reject(promise, reason);\r\n                });\r\n            }\r\n        }\r\n\r\n        function $$$internal$$handleMaybeThenable(promise, maybeThenable) {\r\n            if (maybeThenable.constructor === promise.constructor) {\r\n                $$$internal$$handleOwnThenable(promise, maybeThenable);\r\n            } else {\r\n                var then = $$$internal$$getThen(maybeThenable);\r\n\r\n                if (then === $$$internal$$GET_THEN_ERROR) {\r\n                    $$$internal$$reject(promise, $$$internal$$GET_THEN_ERROR.error);\r\n                } else if (then === undefined) {\r\n                    $$$internal$$fulfill(promise, maybeThenable);\r\n                } else if ($$utils$$isFunction(then)) {\r\n                    $$$internal$$handleForeignThenable(promise, maybeThenable, then);\r\n                } else {\r\n                    $$$internal$$fulfill(promise, maybeThenable);\r\n                }\r\n            }\r\n        }\r\n\r\n        function $$$internal$$resolve(promise, value) {\r\n            if (promise === value) {\r\n                $$$internal$$reject(promise, $$$internal$$selfFullfillment());\r\n            } else if ($$utils$$objectOrFunction(value)) {\r\n                $$$internal$$handleMaybeThenable(promise, value);\r\n            } else {\r\n                $$$internal$$fulfill(promise, value);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$publishRejection(promise) {\r\n            if (promise._onerror) {\r\n                promise._onerror(promise._result);\r\n            }\r\n\r\n            $$$internal$$publish(promise);\r\n        }\r\n\r\n        function $$$internal$$fulfill(promise, value) {\r\n            if (promise._state !== $$$internal$$PENDING) { return; }\r\n\r\n            promise._result = value;\r\n            promise._state = $$$internal$$FULFILLED;\r\n\r\n            if (promise._subscribers.length === 0) {\r\n            } else {\r\n                $$asap$$default($$$internal$$publish, promise);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$reject(promise, reason) {\r\n            if (promise._state !== $$$internal$$PENDING) { return; }\r\n            promise._state = $$$internal$$REJECTED;\r\n            promise._result = reason;\r\n\r\n            $$asap$$default($$$internal$$publishRejection, promise);\r\n        }\r\n\r\n        function $$$internal$$subscribe(parent, child, onFulfillment, onRejection) {\r\n            var subscribers = parent._subscribers;\r\n            var length = subscribers.length;\r\n\r\n            parent._onerror = null;\r\n\r\n            subscribers[length] = child;\r\n            subscribers[length + $$$internal$$FULFILLED] = onFulfillment;\r\n            subscribers[length + $$$internal$$REJECTED]  = onRejection;\r\n\r\n            if (length === 0 && parent._state) {\r\n                $$asap$$default($$$internal$$publish, parent);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$publish(promise) {\r\n            var subscribers = promise._subscribers;\r\n            var settled = promise._state;\r\n\r\n            if (subscribers.length === 0) { return; }\r\n\r\n            var child, callback, detail = promise._result;\r\n\r\n            for (var i = 0; i < subscribers.length; i += 3) {\r\n                child = subscribers[i];\r\n                callback = subscribers[i + settled];\r\n\r\n                if (child) {\r\n                    $$$internal$$invokeCallback(settled, child, callback, detail);\r\n                } else {\r\n                    callback(detail);\r\n                }\r\n            }\r\n\r\n            promise._subscribers.length = 0;\r\n        }\r\n\r\n        function $$$internal$$ErrorObject() {\r\n            this.error = null;\r\n        }\r\n\r\n        var $$$internal$$TRY_CATCH_ERROR = new $$$internal$$ErrorObject();\r\n\r\n        function $$$internal$$tryCatch(callback, detail) {\r\n            try {\r\n                return callback(detail);\r\n            } catch(e) {\r\n                $$$internal$$TRY_CATCH_ERROR.error = e;\r\n                return $$$internal$$TRY_CATCH_ERROR;\r\n            }\r\n        }\r\n\r\n        function $$$internal$$invokeCallback(settled, promise, callback, detail) {\r\n            var hasCallback = $$utils$$isFunction(callback),\r\n            value, error, succeeded, failed;\r\n\r\n            if (hasCallback) {\r\n                value = $$$internal$$tryCatch(callback, detail);\r\n\r\n                if (value === $$$internal$$TRY_CATCH_ERROR) {\r\n                    failed = true;\r\n                    error = value.error;\r\n                    value = null;\r\n                } else {\r\n                    succeeded = true;\r\n                }\r\n\r\n                if (promise === value) {\r\n                    $$$internal$$reject(promise, $$$internal$$cannotReturnOwn());\r\n                    return;\r\n                }\r\n\r\n            } else {\r\n                value = detail;\r\n                succeeded = true;\r\n            }\r\n\r\n            if (promise._state !== $$$internal$$PENDING) {\r\n                // noop\r\n            } else if (hasCallback && succeeded) {\r\n                $$$internal$$resolve(promise, value);\r\n            } else if (failed) {\r\n                $$$internal$$reject(promise, error);\r\n            } else if (settled === $$$internal$$FULFILLED) {\r\n                $$$internal$$fulfill(promise, value);\r\n            } else if (settled === $$$internal$$REJECTED) {\r\n                $$$internal$$reject(promise, value);\r\n            }\r\n        }\r\n\r\n        function $$$internal$$initializePromise(promise, resolver) {\r\n            try {\r\n                resolver(function resolvePromise(value){\r\n                    $$$internal$$resolve(promise, value);\r\n                }, function rejectPromise(reason) {\r\n                    $$$internal$$reject(promise, reason);\r\n                });\r\n            } catch(e) {\r\n                $$$internal$$reject(promise, e);\r\n            }\r\n        }\r\n\r\n        function $$$enumerator$$makeSettledResult(state, position, value) {\r\n            if (state === $$$internal$$FULFILLED) {\r\n                return {\r\n                    state: 'fulfilled',\r\n                    value: value\r\n                };\r\n            } else {\r\n                return {\r\n                    state: 'rejected',\r\n                    reason: value\r\n                };\r\n            }\r\n        }\r\n\r\n        function $$$enumerator$$Enumerator(Constructor, input, abortOnReject, label) {\r\n            this._instanceConstructor = Constructor;\r\n            this.promise = new Constructor($$$internal$$noop, label);\r\n            this._abortOnReject = abortOnReject;\r\n\r\n            if (this._validateInput(input)) {\r\n                this._input     = input;\r\n                this.length     = input.length;\r\n                this._remaining = input.length;\r\n\r\n                this._init();\r\n\r\n                if (this.length === 0) {\r\n                    $$$internal$$fulfill(this.promise, this._result);\r\n                } else {\r\n                    this.length = this.length || 0;\r\n                    this._enumerate();\r\n                    if (this._remaining === 0) {\r\n                        $$$internal$$fulfill(this.promise, this._result);\r\n                    }\r\n                }\r\n            } else {\r\n                $$$internal$$reject(this.promise, this._validationError());\r\n            }\r\n        }\r\n\r\n        $$$enumerator$$Enumerator.prototype._validateInput = function(input) {\r\n            return $$utils$$isArray(input);\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._validationError = function() {\r\n            return new Error('Array Methods must be provided an Array');\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._init = function() {\r\n            this._result = new Array(this.length);\r\n        };\r\n\r\n        var $$$enumerator$$default = $$$enumerator$$Enumerator;\r\n\r\n        $$$enumerator$$Enumerator.prototype._enumerate = function() {\r\n            var length  = this.length;\r\n            var promise = this.promise;\r\n            var input   = this._input;\r\n\r\n            for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\r\n                this._eachEntry(input[i], i);\r\n            }\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._eachEntry = function(entry, i) {\r\n            var c = this._instanceConstructor;\r\n            if ($$utils$$isMaybeThenable(entry)) {\r\n                if (entry.constructor === c && entry._state !== $$$internal$$PENDING) {\r\n                    entry._onerror = null;\r\n                    this._settledAt(entry._state, i, entry._result);\r\n                } else {\r\n                    this._willSettleAt(c.resolve(entry), i);\r\n                }\r\n            } else {\r\n                this._remaining--;\r\n                this._result[i] = this._makeResult($$$internal$$FULFILLED, i, entry);\r\n            }\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._settledAt = function(state, i, value) {\r\n            var promise = this.promise;\r\n\r\n            if (promise._state === $$$internal$$PENDING) {\r\n                this._remaining--;\r\n\r\n                if (this._abortOnReject && state === $$$internal$$REJECTED) {\r\n                    $$$internal$$reject(promise, value);\r\n                } else {\r\n                    this._result[i] = this._makeResult(state, i, value);\r\n                }\r\n            }\r\n\r\n            if (this._remaining === 0) {\r\n                $$$internal$$fulfill(promise, this._result);\r\n            }\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._makeResult = function(state, i, value) {\r\n            return value;\r\n        };\r\n\r\n        $$$enumerator$$Enumerator.prototype._willSettleAt = function(promise, i) {\r\n            var enumerator = this;\r\n\r\n            $$$internal$$subscribe(promise, undefined, function(value) {\r\n                enumerator._settledAt($$$internal$$FULFILLED, i, value);\r\n            }, function(reason) {\r\n                enumerator._settledAt($$$internal$$REJECTED, i, reason);\r\n            });\r\n        };\r\n\r\n        var $$promise$all$$default = function all(entries, label) {\r\n            return new $$$enumerator$$default(this, entries, true /* abort on reject */, label).promise;\r\n        };\r\n\r\n        var $$promise$race$$default = function race(entries, label) {\r\n            /*jshint validthis:true */\r\n            var Constructor = this;\r\n\r\n            var promise = new Constructor($$$internal$$noop, label);\r\n\r\n            if (!$$utils$$isArray(entries)) {\r\n                $$$internal$$reject(promise, new TypeError('You must pass an array to race.'));\r\n                return promise;\r\n            }\r\n\r\n            var length = entries.length;\r\n\r\n            function onFulfillment(value) {\r\n                $$$internal$$resolve(promise, value);\r\n            }\r\n\r\n            function onRejection(reason) {\r\n                $$$internal$$reject(promise, reason);\r\n            }\r\n\r\n            for (var i = 0; promise._state === $$$internal$$PENDING && i < length; i++) {\r\n                $$$internal$$subscribe(Constructor.resolve(entries[i]), undefined, onFulfillment, onRejection);\r\n            }\r\n\r\n            return promise;\r\n        };\r\n\r\n        var $$promise$resolve$$default = function resolve(object, label) {\r\n            /*jshint validthis:true */\r\n            var Constructor = this;\r\n\r\n            if (object && typeof object === 'object' && object.constructor === Constructor) {\r\n                return object;\r\n            }\r\n\r\n            var promise = new Constructor($$$internal$$noop, label);\r\n            $$$internal$$resolve(promise, object);\r\n            return promise;\r\n        };\r\n\r\n        var $$promise$reject$$default = function reject(reason, label) {\r\n            /*jshint validthis:true */\r\n            var Constructor = this;\r\n            var promise = new Constructor($$$internal$$noop, label);\r\n            $$$internal$$reject(promise, reason);\r\n            return promise;\r\n        };\r\n\r\n        var $$es6$promise$promise$$counter = 0;\r\n\r\n        function $$es6$promise$promise$$needsResolver() {\r\n            throw new TypeError('You must pass a resolver function as the first argument to the promise constructor');\r\n        }\r\n\r\n        function $$es6$promise$promise$$needsNew() {\r\n            throw new TypeError(\"Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.\");\r\n        }\r\n\r\n        var $$es6$promise$promise$$default = $$es6$promise$promise$$Promise;\r\n\r\n        /**\r\n         Promise objects represent the eventual result of an asynchronous operation. The\r\n         primary way of interacting with a promise is through its `then` method, which\r\n         registers callbacks to receive either a promiseâ€™s eventual value or the reason\r\n         why the promise cannot be fulfilled.\r\n\r\n         Terminology\r\n         -----------\r\n\r\n         - `promise` is an object or function with a `then` method whose behavior conforms to this specification.\r\n         - `thenable` is an object or function that defines a `then` method.\r\n         - `value` is any legal JavaScript value (including undefined, a thenable, or a promise).\r\n         - `exception` is a value that is thrown using the throw statement.\r\n         - `reason` is a value that indicates why a promise was rejected.\r\n         - `settled` the final resting state of a promise, fulfilled or rejected.\r\n\r\n         A promise can be in one of three states: pending, fulfilled, or rejected.\r\n\r\n         Promises that are fulfilled have a fulfillment value and are in the fulfilled\r\n         state.  Promises that are rejected have a rejection reason and are in the\r\n         rejected state.  A fulfillment value is never a thenable.\r\n\r\n         Promises can also be said to *resolve* a value.  If this value is also a\r\n         promise, then the original promise's settled state will match the value's\r\n         settled state.  So a promise that *resolves* a promise that rejects will\r\n         itself reject, and a promise that *resolves* a promise that fulfills will\r\n         itself fulfill.\r\n\r\n\r\n         Basic Usage:\r\n         ------------\r\n\r\n         ```js\r\n         var promise = new Promise(function(resolve, reject) {\r\n         // on success\r\n         resolve(value);\r\n\r\n         // on failure\r\n         reject(reason);\r\n         });\r\n\r\n         promise.then(function(value) {\r\n         // on fulfillment\r\n         }, function(reason) {\r\n         // on rejection\r\n         });\r\n         ```\r\n\r\n         Advanced Usage:\r\n         ---------------\r\n\r\n         Promises shine when abstracting away asynchronous interactions such as\r\n         `XMLHttpRequest`s.\r\n\r\n         ```js\r\n         function getJSON(url) {\r\n         return new Promise(function(resolve, reject){\r\n         var xhr = new XMLHttpRequest();\r\n\r\n         xhr.open('GET', url);\r\n         xhr.onreadystatechange = handler;\r\n         xhr.responseType = 'json';\r\n         xhr.setRequestHeader('Accept', 'application/json');\r\n         xhr.send();\r\n\r\n         function handler() {\r\n         if (this.readyState === this.DONE) {\r\n         if (this.status === 200) {\r\n         resolve(this.response);\r\n         } else {\r\n         reject(new Error('getJSON: `' + url + '` failed with status: [' + this.status + ']'));\r\n         }\r\n         }\r\n         };\r\n         });\r\n         }\r\n\r\n         getJSON('/posts.json').then(function(json) {\r\n         // on fulfillment\r\n         }, function(reason) {\r\n         // on rejection\r\n         });\r\n         ```\r\n\r\n         Unlike callbacks, promises are great composable primitives.\r\n\r\n         ```js\r\n         Promise.all([\r\n         getJSON('/posts'),\r\n         getJSON('/comments')\r\n         ]).then(function(values){\r\n         values[0] // => postsJSON\r\n         values[1] // => commentsJSON\r\n\r\n         return values;\r\n         });\r\n         ```\r\n\r\n         @class Promise\r\n         @param {function} resolver\r\n         @param {String} label optional string for labeling the promise.\r\n         Useful for tooling.\r\n         @constructor\r\n         */\r\n        function $$es6$promise$promise$$Promise(resolver, label) {\r\n            this._id = $$es6$promise$promise$$counter++;\r\n            this._label = label;\r\n            this._state = undefined;\r\n            this._result = undefined;\r\n            this._subscribers = [];\r\n\r\n            if ($$$internal$$noop !== resolver) {\r\n                if (!$$utils$$isFunction(resolver)) {\r\n                    $$es6$promise$promise$$needsResolver();\r\n                }\r\n\r\n                if (!(this instanceof $$es6$promise$promise$$Promise)) {\r\n                    $$es6$promise$promise$$needsNew();\r\n                }\r\n\r\n                $$$internal$$initializePromise(this, resolver);\r\n            }\r\n        }\r\n\r\n        $$es6$promise$promise$$Promise.all = $$promise$all$$default;\r\n        $$es6$promise$promise$$Promise.race = $$promise$race$$default;\r\n        $$es6$promise$promise$$Promise.resolve = $$promise$resolve$$default;\r\n        $$es6$promise$promise$$Promise.reject = $$promise$reject$$default;\r\n\r\n        $$es6$promise$promise$$Promise.prototype = {\r\n            constructor: $$es6$promise$promise$$Promise,\r\n\r\n            /**\r\n             The primary way of interacting with a promise is through its `then` method,\r\n             which registers callbacks to receive either a promise's eventual value or the\r\n             reason why the promise cannot be fulfilled.\r\n\r\n             ```js\r\n             findUser().then(function(user){\r\n             // user is available\r\n             }, function(reason){\r\n             // user is unavailable, and you are given the reason why\r\n             });\r\n             ```\r\n\r\n             Chaining\r\n             --------\r\n\r\n             The return value of `then` is itself a promise.  This second, 'downstream'\r\n             promise is resolved with the return value of the first promise's fulfillment\r\n             or rejection handler, or rejected if the handler throws an exception.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             return user.name;\r\n             }, function (reason) {\r\n             return 'default name';\r\n             }).then(function (userName) {\r\n             // If `findUser` fulfilled, `userName` will be the user's name, otherwise it\r\n             // will be `'default name'`\r\n             });\r\n\r\n             findUser().then(function (user) {\r\n             throw new Error('Found user, but still unhappy');\r\n             }, function (reason) {\r\n             throw new Error('`findUser` rejected and we're unhappy');\r\n             }).then(function (value) {\r\n             // never reached\r\n             }, function (reason) {\r\n             // if `findUser` fulfilled, `reason` will be 'Found user, but still unhappy'.\r\n             // If `findUser` rejected, `reason` will be '`findUser` rejected and we're unhappy'.\r\n             });\r\n             ```\r\n             If the downstream promise does not specify a rejection handler, rejection reasons will be propagated further downstream.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             throw new PedagogicalException('Upstream error');\r\n             }).then(function (value) {\r\n             // never reached\r\n             }).then(function (value) {\r\n             // never reached\r\n             }, function (reason) {\r\n             // The `PedgagocialException` is propagated all the way down to here\r\n             });\r\n             ```\r\n\r\n             Assimilation\r\n             ------------\r\n\r\n             Sometimes the value you want to propagate to a downstream promise can only be\r\n             retrieved asynchronously. This can be achieved by returning a promise in the\r\n             fulfillment or rejection handler. The downstream promise will then be pending\r\n             until the returned promise is settled. This is called *assimilation*.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             return findCommentsByAuthor(user);\r\n             }).then(function (comments) {\r\n             // The user's comments are now available\r\n             });\r\n             ```\r\n\r\n             If the assimliated promise rejects, then the downstream promise will also reject.\r\n\r\n             ```js\r\n             findUser().then(function (user) {\r\n             return findCommentsByAuthor(user);\r\n             }).then(function (comments) {\r\n             // If `findCommentsByAuthor` fulfills, we'll have the value here\r\n             }, function (reason) {\r\n             // If `findCommentsByAuthor` rejects, we'll have the reason here\r\n             });\r\n             ```\r\n\r\n             Simple Example\r\n             --------------\r\n\r\n             Synchronous Example\r\n\r\n             ```javascript\r\n             var result;\r\n\r\n             try {\r\n             result = findResult();\r\n             // success\r\n             } catch(reason) {\r\n             // failure\r\n             }\r\n             ```\r\n\r\n             Errback Example\r\n\r\n             ```js\r\n             findResult(function(result, err){\r\n             if (err) {\r\n             // failure\r\n             } else {\r\n             // success\r\n             }\r\n             });\r\n             ```\r\n\r\n             Promise Example;\r\n\r\n             ```javascript\r\n             findResult().then(function(result){\r\n             // success\r\n             }, function(reason){\r\n             // failure\r\n             });\r\n             ```\r\n\r\n             Advanced Example\r\n             --------------\r\n\r\n             Synchronous Example\r\n\r\n             ```javascript\r\n             var author, books;\r\n\r\n             try {\r\n             author = findAuthor();\r\n             books  = findBooksByAuthor(author);\r\n             // success\r\n             } catch(reason) {\r\n             // failure\r\n             }\r\n             ```\r\n\r\n             Errback Example\r\n\r\n             ```js\r\n\r\n             function foundBooks(books) {\r\n\r\n             }\r\n\r\n             function failure(reason) {\r\n\r\n             }\r\n\r\n             findAuthor(function(author, err){\r\n             if (err) {\r\n             failure(err);\r\n             // failure\r\n             } else {\r\n             try {\r\n             findBoooksByAuthor(author, function(books, err) {\r\n             if (err) {\r\n             failure(err);\r\n             } else {\r\n             try {\r\n             foundBooks(books);\r\n             } catch(reason) {\r\n             failure(reason);\r\n             }\r\n             }\r\n             });\r\n             } catch(error) {\r\n             failure(err);\r\n             }\r\n             // success\r\n             }\r\n             });\r\n             ```\r\n\r\n             Promise Example;\r\n\r\n             ```javascript\r\n             findAuthor().\r\n             then(findBooksByAuthor).\r\n             then(function(books){\r\n             // found books\r\n             }).catch(function(reason){\r\n             // something went wrong\r\n             });\r\n             ```\r\n\r\n             @method then\r\n             @param {Function} onFulfilled\r\n             @param {Function} onRejected\r\n             @param {String} label optional string for labeling the promise.\r\n             Useful for tooling.\r\n             @return {Promise}\r\n             */\r\n            then: function(onFulfillment, onRejection, label) {\r\n                var parent = this;\r\n                var state = parent._state;\r\n\r\n                if (state === $$$internal$$FULFILLED && !onFulfillment || state === $$$internal$$REJECTED && !onRejection) {\r\n                    return this;\r\n                }\r\n\r\n                parent._onerror = null;\r\n\r\n                var child = new this.constructor($$$internal$$noop, label);\r\n                var result = parent._result;\r\n\r\n                if (state) {\r\n                    var callback = arguments[state - 1];\r\n                    $$asap$$default(function(){\r\n                        $$$internal$$invokeCallback(state, child, callback, result);\r\n                    });\r\n                } else {\r\n                    $$$internal$$subscribe(parent, child, onFulfillment, onRejection);\r\n                }\r\n\r\n                return child;\r\n            },\r\n\r\n            /**\r\n             `catch` is simply sugar for `then(undefined, onRejection)` which makes it the same\r\n             as the catch block of a try/catch statement.\r\n\r\n             ```js\r\n             function findAuthor(){\r\n             throw new Error('couldn't find that author');\r\n             }\r\n\r\n             // synchronous\r\n             try {\r\n             findAuthor();\r\n             } catch(reason) {\r\n             // something went wrong\r\n             }\r\n\r\n             // async with promises\r\n             findAuthor().catch(function(reason){\r\n             // something went wrong\r\n             });\r\n             ```\r\n\r\n             @method catch\r\n             @param {Function} onRejection\r\n             @param {String} label optional string for labeling the promise.\r\n             Useful for tooling.\r\n             @return {Promise}\r\n             */\r\n            'catch': function(onRejection, label) {\r\n                return this.then(null, onRejection, label);\r\n            }\r\n        };\r\n\r\n        var $$es6$promise$polyfill$$default = function polyfill() {\r\n            var local;\r\n\r\n            if (typeof global !== 'undefined') {\r\n                local = global;\r\n            } else if (typeof window !== 'undefined' && window.document) {\r\n                local = window;\r\n            } else {\r\n                local = self;\r\n            }\r\n\r\n            var es6PromiseSupport =\r\n                \"Promise\" in local &&\r\n                // Some of these methods are missing from\r\n                // Firefox/Chrome experimental implementations\r\n                \"resolve\" in local.Promise &&\r\n                \"reject\" in local.Promise &&\r\n                \"all\" in local.Promise &&\r\n                \"race\" in local.Promise &&\r\n                // Older version of the spec had a resolver object\r\n                // as the arg rather than a function\r\n                (function() {\r\n                    var resolve;\r\n                    new local.Promise(function(r) { resolve = r; });\r\n                    return $$utils$$isFunction(resolve);\r\n                }());\r\n\r\n            if (!es6PromiseSupport) {\r\n                local.Promise = $$es6$promise$promise$$default;\r\n            }\r\n        };\r\n\r\n        var es6$promise$umd$$ES6Promise = {\r\n            Promise: $$es6$promise$promise$$default,\r\n            polyfill: $$es6$promise$polyfill$$default\r\n        };\r\n\r\n        // Calling polyfill.\r\n        $$es6$promise$polyfill$$default();\r\n\r\n        /* global define:true module:true window: true */\r\n/*\r\n        if (typeof define === 'function' && define['amd']) {\r\n            define(function() { return es6$promise$umd$$ES6Promise; });\r\n        } else if (typeof module !== 'undefined' && module['exports']) {\r\n            module['exports'] = es6$promise$umd$$ES6Promise;\r\n        } else if (typeof this !== 'undefined') {\r\n            this['ES6Promise'] = es6$promise$umd$$ES6Promise;\r\n        }\r\n*/\r\n    }).call(this);\r\n}\r\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}