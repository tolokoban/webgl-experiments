{"version":3,"sources":["tfw.view.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","$","PM","Converters","Tag","ensureCodeBehind","events","defVal","addClassIfTrue","addClassIfFalse","addAttribIfTrue","addAttribIfFalse","tagName","attribs","trim","toLowerCase","elem","svgRoot","newTag","Object","defineProperty","value","writable","enumerable","configurable","Array","isArray","that","forEach","attName","defineAttribValue","call","defineAttribFocus","defineAttribTextContent","defineAttribInnerHTML","defineStandardAttrib","prototype","applyClass","newClasses","id","_applyer","oldClasses","removeClass","bind","addClass","SVG_TAGS","name","indexOf","svg","tag","lastSettedValue","create","get","set","v","addEventListener","evt","change","target","cast","delay","on","focus","blur","textContent","substr","innerHTML","getAttribute","setAttribute","code_behind","i","funcName","length","GESTURES","args","defaultValues","key","val","element","className","attribName","att","removeAtt"],"mappings":"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","sourcesContent":["/** @module tfw.view */require( 'tfw.view', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\nconst\r\n    $ = require(\"dom\"),\r\n    PM = require(\"tfw.binding.property-manager\"),\r\n    Converters = require('tfw.binding.converters');\r\n\r\n\r\n/**\r\n * @class Tag\r\n * @param {string} tagName - For instance DIV, SPAN, BUTTON, ...\r\n * @param {object} attribs - Attributes of this HTML element.\r\n */\r\nexports.Tag = Tag;\r\n\r\n/**\r\n * @param {object} CODE_BEHIND\r\n * @param {string...} functionName - Name of a function that must be defined in the code behind.\r\n */\r\nexports.ensureCodeBehind = ensureCodeBehind;\r\n\r\n/**\r\n * @param {object} element\r\n * @param {function} events.tap\r\n * @param {function} events.press\r\n * @param {function} events.pan\r\n * @param {function} events.swipe\r\n *\r\n * @example\r\n * ```\r\n * var View = require(\"tfw.view\");\r\n * View.events( div, {\r\n *   \"tap\": function( evt ) {...},\r\n *   \"press\": function( evt ) {...}\r\n * });\r\n * ```\r\n */\r\nexports.events = events;\r\n\r\n/**\r\n * Assign default values.\r\n * @param {object} target\r\n * @param {object} args - Already defined arguments (with their values) on `target`.\r\n * @param {object} defaultValues - Map of default values to apply if they don't exist in `args`.\r\n */\r\nexports.defVal = defVal;\r\n\r\nexports.addClassIfTrue = addClassIfTrue;\r\nexports.addClassIfFalse = addClassIfFalse;\r\nexports.addAttribIfTrue = addAttribIfTrue;\r\nexports.addAttribIfFalse = addAttribIfFalse;\r\n\r\n\r\nfunction Tag(tagName, attribs) {\r\n    tagName = tagName.trim().toLowerCase();\r\n\r\n    var elem = tagName === 'svg' ? $.svgRoot() : newTag(tagName);\r\n    Object.defineProperty(this, '$', {\r\n        value: elem,\r\n        writable: false,\r\n        enumerable: true,\r\n        configurable: false\r\n    });\r\n\r\n    if (Array.isArray(attribs)) {\r\n        var that = this;\r\n        attribs.forEach(function(attName) {\r\n            switch (attName.toLowerCase()) {\r\n                case 'value':\r\n                    defineAttribValue.call(that, elem);\r\n                    break;\r\n                case 'focus':\r\n                    defineAttribFocus.call(that, elem);\r\n                    break;\r\n                case 'textcontent':\r\n                    defineAttribTextContent.call(that, elem);\r\n                    break;\r\n                case 'innerhtml':\r\n                    defineAttribInnerHTML.call(that, elem);\r\n                    break;\r\n                default:\r\n                    defineStandardAttrib.call(that, elem, attName);\r\n            }\r\n        });\r\n    }\r\n}\r\n\r\n/**\r\n * Apply a  set of CSS  classes after removing the  previously applied\r\n * one for the same `id`.\r\n */\r\nTag.prototype.applyClass = function(newClasses, id) {\r\n    var elem = this.$;\r\n    if (typeof id === 'undefined') id = 0;\r\n    if (typeof this._applyer === 'undefined') this._applyer = {};\r\n    if (!Array.isArray(newClasses)) newClasses = [newClasses];\r\n\r\n    var oldClasses = this._applyer[id];\r\n    if (Array.isArray(oldClasses)) {\r\n        oldClasses.forEach($.removeClass.bind($, elem));\r\n    }\r\n    this._applyer[id] = newClasses;\r\n    newClasses.forEach($.addClass.bind($, elem));\r\n};\r\n\r\n\r\n\r\nconst SVG_TAGS = [\"g\", \"rect\", \"circle\", \"line\", \"path\", \"defs\"];\r\n\r\nfunction newTag(name) {\r\n    if (SVG_TAGS.indexOf(name.toLowerCase()) !== -1) return $.svg(name);\r\n    return $.tag(name);\r\n}\r\n\r\n\r\nfunction defineAttribValue(elem) {\r\n    var that = this;\r\n\r\n    var lastSettedValue = null;\r\n    PM(this).create('value', {\r\n        get: function() { return lastSettedValue; },\r\n        set: function(v) {\r\n            elem.value = v;\r\n            lastSettedValue = v;\r\n        }\r\n    });\r\n    elem.addEventListener(\"input\", function(evt) {\r\n        PM(that).change('value', evt.target.value);\r\n    }, false);\r\n}\r\n\r\nfunction defineAttribFocus(elem) {\r\n    var that = this;\r\n    PM(this).create('focus', {\r\n        cast: Converters.get('boolean')(),\r\n        delay: 1\r\n    });\r\n    PM(this).on(\"focus\", function(v) {\r\n        if (v) elem.focus();\r\n        else elem.blur();\r\n    });\r\n    elem.addEventListener(\"focus\", function() {\r\n        that.focus = true;\r\n    }, false);\r\n    elem.addEventListener(\"blur\", function() {\r\n        that.focus = false;\r\n    }, false);\r\n}\r\n\r\nfunction defineAttribTextContent(elem) {\r\n  [\"textContent\", \"textcontent\"].forEach(function(name) {\r\n        PM(this).create(name, {\r\n            get: function() { return elem.textContent; },\r\n            set: function(v) {\r\n                if (typeof v !== 'string') v = \"\" + v;\r\n\r\n                if (v.substr(0, 6) === '<html>')\r\n                    elem.innerHTML = v.substr(6);\r\n                else\r\n                    elem.textContent = v;\r\n            }\r\n        });\r\n    }, this);\r\n}\r\n\r\nfunction defineAttribInnerHTML(elem) {\r\n  [\"innerHTML\", \"innerhtml\"].forEach(function(name) {\r\n        PM(this).create(name, {\r\n            get: function() { return elem.innerHTML; },\r\n            set: function(v) {\r\n                elem.innerHTML = v;\r\n            }\r\n        });\r\n    }, this);\r\n}\r\n\r\nfunction defineStandardAttrib(elem, attName) {\r\n    PM(this).create(attName, {\r\n        get: function() {\r\n            return elem.getAttribute(attName);\r\n        },\r\n        set: function(v) {\r\n            elem.setAttribute(attName, v);\r\n        }\r\n    });\r\n}\r\n\r\n/**\r\n * Check if all needed function from code behind are defined.\r\n */\r\nfunction ensureCodeBehind(code_behind) {\r\n    if (typeof code_behind === 'undefined')\r\n        throw \"Missing mandatory global variable CODE_BEHIND!\";\r\n\r\n    var i, funcName;\r\n    for (i = 1; i < arguments.length; i++) {\r\n        funcName = arguments[i];\r\n        if (typeof code_behind[funcName] !== 'function')\r\n            throw \"Expected CODE_BEHIND.\" + funcName + \" to be a function!\";\r\n    }\r\n};\r\n\r\n\r\nvar GESTURES = [\r\n  \"tap\", \"doubletap\", \"press\",\r\n  \"pan\", \"panstart\", \"panmove\", \"panup\", \"pandown\", \"panleft\", \"panright\", \"panend\", \"pancancel\",\r\n  \"swipe\", \"swipeleft\", \"swipteright\", \"swipetop\", \"swipebottom\",\r\n  \"pinch\", \"pinchin\", \"pinchout\", \"pinchstart\", \"pinchmove\", \"pinchend\", \"pinchcancel\",\r\n  \"rotate\", \"rotatestart\", \"rotatemove\", \"rotateend\", \"rotatecancel\"\r\n];\r\n\r\n/**\r\n * @param {object} events - Events to register on.\r\n * @param {function} events.tap\r\n * @param {function} events.press\r\n * @param {function} events.pan\r\n * @param {function} events.swipe\r\n *\r\n * @example\r\n * ```\r\n * var View = require(\"tfw.view\");\r\n * View.events( div, {\r\n *   \"tap\": function( evt ) {...},\r\n *   \"press\": function( evt ) {...}\r\n * });\r\n * ```\r\n */\r\nfunction events(target, events) {\r\n    $.on(target, events);\r\n    /*\r\n    var elem = $( target );\r\n    var gestures = {};\r\n    var hasGestures = 0;\r\n\r\n    Object.keys( events ).forEach( function ( eventName ) {\r\n        eventName = eventName.toLowerCase();\r\n        var eventSlot = events[ eventName ];\r\n        if ( GESTURES.indexOf( eventName ) > -1 ) {\r\n            gestures[ eventName ] = eventSlot;\r\n            hasGestures = true;\r\n        } else {\r\n\r\n            elem.addEventListener( eventName, eventSlot, false );\r\n        }\r\n    } );\r\n\r\n    if ( hasGestures ) {\r\n        var gestureHandler = new Hammer( elem );\r\n        Object.keys( gestures ).forEach( function ( eventName ) {\r\n            var eventSlot = events[ eventName ];\r\n            gestureHandler.on( eventName, eventSlot );\r\n        } );\r\n    }*/\r\n};\r\n\r\n/**\r\n * Assign default values.\r\n */\r\nfunction defVal(target, args, defaultValues) {\r\n    var key, val;\r\n    for (key in defaultValues) {\r\n        val = defaultValues[key];\r\n        if (typeof args[key] === 'undefined') {\r\n            target[key] = val;\r\n        } else {\r\n            target[key] = args[key];\r\n        }\r\n    }\r\n};\r\n\r\n\r\nfunction addClassIfTrue(element, className, value) {\r\n    if (value) $.addClass(element, className);\r\n    else $.removeClass(element, className);\r\n}\r\n\r\nfunction addClassIfFalse(element, className, value) {\r\n    if (value) $.removeClass(element, className);\r\n    else $.addClass(element, className);\r\n}\r\n\r\nfunction addAttribIfTrue(element, attribName, value) {\r\n    if (value) $.att(element, attribName);\r\n    else $.removeAtt(element, attribName);\r\n}\r\n\r\nfunction addAttribIfFalse(element, attribName, value) {\r\n    if (value) $.removeAtt(element, attribName);\r\n    else $.att(element, attribName);\r\n}\r\n\r\n\r\nmodule.exports._ = _;\n})"]}