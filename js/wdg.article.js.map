{"version":3,"sources":["wdg.article.js"],"names":["require","module","createNav","currentPage","key","val","nav","$","tag","PAGES","charAt","add","href","_","X","D","arguments","intl","all","$1","intro","index","index2","chap1","chap2","chap3","chap4","chap5","chap6","transparence","chap7","chap8","deform","deform2","$2","interpolation","$666","doc","DB","Icon","exports","Article","opts","args","parse","addClass","document","body","page","window","location","pathname","split","pop","substr","length","title","header","id","size","content","elem","prop","v","clear","Array","isArray","forEach","extend"],"mappings":"aAA0BA,OAAO,CAAE,aAAF,CAAiB,SAASA,OAAT,CAAkBC,MAAlB,CAAmC,CAoFrF,QAASC,CAAAA,SAAT,CAAoBC,WAApB,CAAkC,IAE5BC,CAAAA,GAF4B,CAEvBC,GAFuB,CAC5BC,GAAG,CAAGC,CAAC,CAACC,GAAF,CAAM,KAAN,CAAa,UAAb,CAAyB,UAAzB,CADsB,CAGhC,IAAKJ,GAAL,GAAYK,CAAAA,KAAZ,CACEJ,GAAG,CAAGI,KAAK,CAACL,GAAD,CADb,CAEyB,GAAlB,GAAAA,GAAG,CAACM,MAAJ,CAAW,CAAX,CAFP,CAIIH,CAAC,CAACI,GAAF,CAAOL,GAAP,CAAYC,CAAC,CAACC,GAAF,CAAM,IAAN,CAAY,CAACH,GAAD,CAAZ,CAAZ,CAJJ,CAMYD,GAAG,EAAID,WANnB,CAOII,CAAC,CAACI,GAAF,CAAOL,GAAP,CAAYC,CAAC,CAACC,GAAF,CAAM,KAAN,CAAa,UAAb,CAAyB,CAACH,GAAD,CAAzB,CAAZ,CAPJ,CAUIE,CAAC,CAACI,GAAF,CAAOL,GAAP,CAAYC,CAAC,CAACC,GAAF,CAAM,GAAN,CAAW,CAACH,GAAD,CAAX,CAAkB,CAAEO,IAAI,CAAER,GAAG,CAAG,OAAd,CAAlB,CAAZ,CAVJ,CAaA,MAAOE,CAAAA,GACR,CArGoF,GAAMO,CAAAA,CAAC,CAAC,UAAU,CAA6C,QAASA,CAAAA,CAAT,EAAY,CAAC,MAAOC,CAAAA,CAAC,CAACC,CAAD,CAAGC,SAAH,CAAe,CAAhF,GAAID,CAAAA,CAAC,CAAC,CAAC,GAAK,EAAN,CAAS,GAAK,EAAd,CAAN,CAAwBD,CAAC,CAACd,OAAO,CAAC,GAAD,CAAP,CAAaiB,IAAvC,CAAwF,MAARJ,CAAAA,CAAC,CAACK,GAAF,CAAMH,CAAE,CAAOF,CAAE,CAA5G,EAAR,IAIjFJ,CAAAA,KAAK,CAAG,CACVU,EAAE,CAAE,WADM,CAEVC,KAAK,CAAE,cAFG,CAGVC,KAAK,CAAE,kBAHG,CAIVC,MAAM,CAAE,sBAJE,CAKVC,KAAK,CAAE,sBALG,CAMVC,KAAK,CAAE,yBANG,CAOVC,KAAK,CAAE,0BAPG,CAQVC,KAAK,CAAE,qBARG,CASVC,KAAK,CAAE,qBATG,CAUVC,KAAK,CAAE,qBAVG,CAWV,UAAW,sBAXD,CAYVC,YAAY,CAAE,0BAZJ,CAaVC,KAAK,CAAE,YAbG,CAcVC,KAAK,CAAE,cAdG,CAeVC,MAAM,CAAE,gBAfE,CAgBVC,OAAO,CAAE,oBAhBC,CAiBVC,EAAE,CAAE,2BAjBM,CAkBVC,aAAa,CAAE,4BAlBL,CAmBVC,IAAI,CAAE,SAnBI,CAoBVC,GAAG,CAAE,gBApBK,CAJyE,CAiCrFrC,OAAO,CAAC,OAAD,CAjC8E,IAkCjFO,CAAAA,CAAC,CAAGP,OAAO,CAAE,KAAF,CAlCsE,CAmCjFsC,EAAE,CAAGtC,OAAO,CAAE,kBAAF,CAnCqE,CAoCjFuC,IAAI,CAAGvC,OAAO,CAAC,eAAD,CApCmE,CAiFrFC,MAAM,CAACuC,OAAP,CAnCc,QAAVC,CAAAA,OAAU,CAAUC,IAAV,CAAiB,CAC7B,GAAIC,CAAAA,IAAI,CAAG3C,OAAO,CAAC,cAAD,CAAP,CAAwB4C,KAAxB,EAAX,CAEArC,CAAC,CAACsC,QAAF,CAAYC,QAAQ,CAACC,IAArB,CAA2B,SAA3B,CAH6B,CAK7B,GAAIC,CAAAA,IAAI,CAAGC,MAAM,CAACC,QAAP,CAAgBC,QAAhB,CAAyBC,KAAzB,CAA+B,GAA/B,EAAoCC,GAApC,EAAX,CACAL,IAAI,CAAGA,IAAI,CAACM,MAAL,CAAY,CAAZ,CAAeN,IAAI,CAACO,MAAL,CAAc,CAA7B,CANsB,CAQH,QAAtB,QAAOb,CAAAA,IAAI,CAACc,KARa,GAQQd,IAAI,CAACc,KAAL,CAAaR,IARrB,KAUzBS,CAAAA,MAAM,CAAGlD,CAAC,CAACC,GAAF,CAAM,QAAN,CAAgB,WAAhB,CAA6B,SAA7B,CAAwC,CACnDD,CAAC,CAACC,GAAF,CAAM,GAAN,CAAW,CAAEI,IAAI,CAAE,cAAgB+B,IAAI,CAACe,EAA7B,CAAX,CAA8C,CAC5C,GAAInB,CAAAA,IAAJ,CAAS,CAAEoB,IAAI,CAAE,QAAR,CAAkBC,OAAO,CAAE,MAA3B,CAAT,CAD4C,CAA9C,CADmD,CAInDlB,IAAI,CAACc,KAJ8C,CAAxC,CAVgB,CAgBzBlD,GAAG,CAAGJ,SAAS,CAAE8C,IAAF,CAhBU,CAiBzBD,IAAI,CAAGxC,CAAC,CAACC,GAAF,CAAM,SAAN,CAAiB,SAAjB,CAjBkB,CAkBzBqD,IAAI,CAAGtD,CAAC,CAACsD,IAAF,CAAQ,IAAR,CAAc,KAAd,CAAqB,SAArB,CAAgC,CAACd,IAAD,CAAOU,MAAP,CAAhC,CAlBkB,CAoB7BnB,EAAE,CAACwB,IAAH,CAAS,IAAT,CAAe,SAAf,EAA4B,SAAUC,CAAV,CAAc,CACxCxD,CAAC,CAACyD,KAAF,CAASjB,IAAT,CADwC,CAEnCkB,KAAK,CAACC,OAAN,CAAeH,CAAf,CAFmC,GAGtCA,CAAC,CAAG,CAAEA,CAAF,CAHkC,EAKxCA,CAAC,CAACI,OAAF,CAAW,SAAUN,IAAV,CAAiB,CAC1BtD,CAAC,CAACI,GAAF,CAAOoC,IAAP,CAAac,IAAb,CACD,CAFD,CAGD,CARD,CApB6B,CA8B7BnB,IAAI,CAAGJ,EAAE,CAAC8B,MAAH,CAAW,CAChBR,OAAO,CAAE,EADO,CAAX,CAEJlB,IAFI,CAEE,IAFF,CAGR,CA/EoF,CACrE,EAwGhB,KAAgB,CAAC,CAAC,EAAI,WAAL,CAAiB,EAAI,CAAC,CAAC,EAAI,kBAAL,CAAwB,EAAI,CAAC,OAAD,CAAS,QAAT,CAA5B,CAAD,CAAiD,CAAC,EAAI,sBAAL,CAAyB,EAAI,OAA7B,CAAjD,CAAuF,CAAC,EAAI,yBAAL,CAA4B,EAAI,OAAhC,CAAvF,CAAgI,CAAC,EAAI,0BAAL,CAA6B,EAAI,OAAjC,CAAhI,CAA0K,CAAC,EAAI,qBAAL,CAAwB,EAAI,OAA5B,CAA1K,CAA+M,CAAC,EAAI,qBAAL,CAA2B,EAAI,OAA/B,CAA/M,CAAuP,CAAC,EAAI,qBAAL,CAA2B,EAAI,OAA/B,CAAvP,CAA+R,CAAC,EAAI,sBAAL,CAA4B,EAAI,CAAC,SAAD,CAAW,cAAX,CAAhC,CAA/R,CAA2V,CAAC,EAAI,YAAL,CAAkB,EAAI,OAAtB,CAA3V,CAA0X,CAAC,EAAI,cAAL,CAAoB,EAAI,OAAxB,CAA1X,CAA2Z,CAAC,EAAI,gBAAL,CAAmB,EAAI,CAAC,QAAD,CAAU,SAAV,CAAvB,CAA3Z,CAArB,CAAD,CAAge,CAAC,EAAI,SAAL,CAAe,EAAI,CAAC,CAAC,EAAI,gBAAL,CAAsB,EAAI,KAA1B,CAAD,CAAnB,CAAhe,CAzGqE,CA6GrFzC,MAAM,CAACuC,OAAP,CAAe3B,CAAf,CAAmBA,CAClB,CA9GgC,C","sourcesContent":["/** @module wdg.article */require( 'wdg.article', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n const GLOBAL = {};\n  \"use strict\";\r\n\r\nvar PAGES = {\r\n  $1: \"Les bases\",\r\n  intro: \"Introduction\",\r\n  index: \"Comprendre WebGL\",\r\n  index2: \"Comprendre WebGL (2)\",\r\n  chap1: \"Dessiner un carré\",\r\n  chap2: \"Dessiner un polygône\",\r\n  chap3: \"Textures procédurales\",\r\n  chap4: \"Textures animées\",\r\n  chap5: \"Utiliser des images\",\r\n  chap6: \"Un point c'est tout\",\r\n  \"chap6-2\": \"La semi-transparence\",\r\n  transparence: \"La semi-transparence (2)\",\r\n  chap7: \"Particules\",\r\n  chap8: \"Frame Buffer\",\r\n  deform: \"Déformation\",\r\n  deform2: \"Déformation (2)\",\r\n  $2: \"La troisième dimension\",\r\n  interpolation: \"Interpolation des varyings\",\r\n  $666: \"Annexes\",\r\n  doc: \"Documentations\"\r\n};\r\n\r\nvar TOC = [\r\n  \"Les bases\", [\r\n    \"Intoduction | intro\"\r\n  ]\r\n];\r\n\r\nrequire(\"theme\");\r\nvar $ = require( \"dom\" );\r\nvar DB = require( \"tfw.data-binding\" );\r\nvar Icon = require(\"tfw.view.icon\");\r\n\r\n\r\n/**\r\n * @class Article\r\n *\r\n * @example\r\n * var Article = require(\"Article\");\r\n * var instance = new Article({ visible: false });\r\n */\r\nvar Article = function( opts ) {\r\n  var args = require(\"tfw.url-args\").parse();\r\n  \r\n  $.addClass( document.body, \"thm-bg0\" );\r\n  \r\n  var page = window.location.pathname.split('/').pop();\r\n  page = page.substr(0, page.length - 5);  // Retirer \".html\"\r\n\r\n  if( typeof opts.title !== 'string' ) opts.title = page;\r\n\r\n  var header = $.tag('header', 'thm-ele12', 'thm-bgP', [\r\n    $.tag(\"a\", { href: \"index.html#\" + args.id }, [\r\n      new Icon({ size: \"1.5rem\", content: \"menu\" })\r\n    ]),\r\n    opts.title\r\n  ]);\r\n  var nav = createNav( page );\r\n  var body = $.tag('article', 'thm-bg1');\r\n  var elem = $.elem( this, 'div', 'article', [body, header] );\r\n  \r\n  DB.prop( this, 'content' )( function( v ) {\r\n    $.clear( body );\r\n    if (!Array.isArray( v )) {\r\n      v = [ v ];\r\n    }\r\n    v.forEach( function( elem ) {\r\n      $.add( body, elem );\r\n    });\r\n  });\r\n\r\n  opts = DB.extend( {\r\n    content: []\r\n  }, opts, this );\r\n};\r\n\r\nmodule.exports = Article;\r\n\r\n\r\nfunction createNav( currentPage ) {\r\n  var nav = $.tag('nav', 'thm-ele8', 'thm-bgPL');\r\n  var key, val;\r\n  for( key in PAGES) {\r\n    val = PAGES[key];\r\n    if ( key.charAt(0) === '$' ) {\r\n      // This is a title.\r\n      $.add( nav, $.tag('h1', [val]) );\r\n    }\r\n    else if ( key == currentPage ) {\r\n      $.add( nav, $.tag('div', 'thm-ele1', [val]) );\r\n    }\r\n    else {\r\n      $.add( nav, $.tag('a', [val], { href: key + \".html\"}) );\r\n    }\r\n  }\r\n  return nav;\r\n}\r\n\n//--------------------------\n// Module global variables.\nGLOBAL[\"toc\"] = [{\"0\":\"WebGL 1.0\",\"1\":[{\"0\":\"Comprendre WebGL\",\"1\":[\"index\",\"index2\"]},{\"0\":\"Dessiner un carré\",\"1\":\"chap1\"},{\"0\":\"Dessiner un polygône\",\"1\":\"chap2\"},{\"0\":\"Textures procédurales\",\"1\":\"chap3\"},{\"0\":\"Textures animées\",\"1\":\"chap4\"},{\"0\":\"Utiliser des images\",\"1\":\"chap5\"},{\"0\":\"Un point c'est tout\",\"1\":\"chap6\"},{\"0\":\"La semi-transparence\",\"1\":[\"chap6-2\",\"transparence\"]},{\"0\":\"Particules\",\"1\":\"chap7\"},{\"0\":\"Frame Buffer\",\"1\":\"chap8\"},{\"0\":\"Déformation\",\"1\":[\"deform\",\"deform2\"]}]},{\"0\":\"Annexes\",\"1\":[{\"0\":\"Documentations\",\"1\":\"doc\"}]}];\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}