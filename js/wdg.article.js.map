{"version":3,"sources":["wdg.article.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","GLOBAL","PAGES","$1","intro","index","index2","chap1","chap2","chap3","chap4","chap5","chap6","transparence","chap7","chap8","deform","deform2","$2","interpolation","$666","doc","TOC","$","DB","Icon","Article","opts","args","parse","addClass","document","body","page","window","location","pathname","split","pop","substr","length","title","header","tag","href","id","size","content","nav","createNav","elem","prop","v","clear","Array","isArray","forEach","add","extend","currentPage","key","val","charAt"],"mappings":"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","sourcesContent":["/** @module wdg.article */require( 'wdg.article', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n const GLOBAL = {};\n  \"use strict\";\r\n\r\nvar PAGES = {\r\n  $1: \"Les bases\",\r\n  intro: \"Introduction\",\r\n  index: \"Comprendre WebGL\",\r\n  index2: \"Comprendre WebGL (2)\",\r\n  chap1: \"Dessiner un carré\",\r\n  chap2: \"Dessiner un polygône\",\r\n  chap3: \"Textures procédurales\",\r\n  chap4: \"Textures animées\",\r\n  chap5: \"Utiliser des images\",\r\n  chap6: \"Un point c'est tout\",\r\n  \"chap6-2\": \"La semi-transparence\",\r\n  transparence: \"La semi-transparence (2)\",\r\n  chap7: \"Particules\",\r\n  chap8: \"Frame Buffer\",\r\n  deform: \"Déformation\",\r\n  deform2: \"Déformation (2)\",\r\n  $2: \"La troisième dimension\",\r\n  interpolation: \"Interpolation des varyings\",\r\n  $666: \"Annexes\",\r\n  doc: \"Documentations\"\r\n};\r\n\r\nvar TOC = [\r\n  \"Les bases\", [\r\n    \"Intoduction | intro\"\r\n  ]\r\n];\r\n\r\nrequire(\"theme\");\r\nvar $ = require( \"dom\" );\r\nvar DB = require( \"tfw.data-binding\" );\r\nvar Icon = require(\"tfw.view.icon\");\r\n\r\n\r\n/**\r\n * @class Article\r\n *\r\n * @example\r\n * var Article = require(\"Article\");\r\n * var instance = new Article({ visible: false });\r\n */\r\nvar Article = function( opts ) {\r\n  var args = require(\"tfw.url-args\").parse();\r\n  \r\n  $.addClass( document.body, \"thm-bg0\" );\r\n  \r\n  var page = window.location.pathname.split('/').pop();\r\n  page = page.substr(0, page.length - 5);  // Retirer \".html\"\r\n\r\n  if( typeof opts.title !== 'string' ) opts.title = page;\r\n\r\n  var header = $.tag('header', 'thm-ele12', 'thm-bgP', [\r\n    $.tag(\"a\", { href: \"index.html#\" + args.id }, [\r\n      new Icon({ size: \"1.5rem\", content: \"menu\" })\r\n    ]),\r\n    opts.title\r\n  ]);\r\n  var nav = createNav( page );\r\n  var body = $.tag('article', 'thm-bg1');\r\n  var elem = $.elem( this, 'div', 'article', [body, header] );\r\n  \r\n  DB.prop( this, 'content' )( function( v ) {\r\n    $.clear( body );\r\n    if (!Array.isArray( v )) {\r\n      v = [ v ];\r\n    }\r\n    v.forEach( function( elem ) {\r\n      $.add( body, elem );\r\n    });\r\n  });\r\n\r\n  opts = DB.extend( {\r\n    content: []\r\n  }, opts, this );\r\n};\r\n\r\nmodule.exports = Article;\r\n\r\n\r\nfunction createNav( currentPage ) {\r\n  var nav = $.tag('nav', 'thm-ele8', 'thm-bgPL');\r\n  var key, val;\r\n  for( key in PAGES) {\r\n    val = PAGES[key];\r\n    if ( key.charAt(0) === '$' ) {\r\n      // This is a title.\r\n      $.add( nav, $.tag('h1', [val]) );\r\n    }\r\n    else if ( key == currentPage ) {\r\n      $.add( nav, $.tag('div', 'thm-ele1', [val]) );\r\n    }\r\n    else {\r\n      $.add( nav, $.tag('a', [val], { href: key + \".html\"}) );\r\n    }\r\n  }\r\n  return nav;\r\n}\r\n\n//--------------------------\n// Module global variables.\nGLOBAL[\"toc\"] = [{\"0\":\"WebGL 1.0\",\"1\":[{\"0\":\"Comprendre WebGL\",\"1\":[\"index\",\"index2\"]},{\"0\":\"Dessiner un carré\",\"1\":\"chap1\"},{\"0\":\"Dessiner un polygône\",\"1\":\"chap2\"},{\"0\":\"Textures procédurales\",\"1\":\"chap3\"},{\"0\":\"Textures animées\",\"1\":\"chap4\"},{\"0\":\"Utiliser des images\",\"1\":\"chap5\"},{\"0\":\"Un point c'est tout\",\"1\":\"chap6\"},{\"0\":\"La semi-transparence\",\"1\":[\"chap6-2\",\"transparence\"]},{\"0\":\"Particules\",\"1\":\"chap7\"},{\"0\":\"Frame Buffer\",\"1\":\"chap8\"},{\"0\":\"Déformation\",\"1\":[\"deform\",\"deform2\"]}]},{\"0\":\"Annexes\",\"1\":[{\"0\":\"Documentations\",\"1\":\"doc\"}]}];\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}