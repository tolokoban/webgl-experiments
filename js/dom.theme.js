"use strict";require("dom.theme",function(require,module,exports){function codeText(themeName,style){for(var codeCSS="",depth=1;10>=depth;depth++)THEME_COLOR_NAMES.forEach(function(colorName){for(var bgClass=".thm-bg"+colorName,fgClass=".thm-fg"+colorName,position=1;position<=depth;position++){for(var piecesFG=[],piecesSVG=[],piecesBG=[],index=1;index<=depth;index++)piecesBG.push(position==index?bgClass:"*"),piecesSVG.push(position==index?bgClass:"*"),piecesFG.push(position==index?fgClass:"*"),index==depth&&(piecesBG.push(piecesBG.pop()+".thm-fg"),piecesFG.push(piecesFG.pop()+fgClass));codeCSS+="body.dom-theme-"+themeName+" "+piecesBG.join(" > ")+" { color: "+style["fg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" "+piecesFG.join(" > ")+" { color: "+style["bg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" "+piecesSVG.join(" > ")+" .thm-svg-fill0 { fill: "+style["fg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" "+piecesSVG.join(" > ")+" .thm-svg-stroke0 { stroke: "+style["fg"+colorName]+" }\n"}});return codeCSS}function codeVariables(themeName,style){var codeCSS="body.dom-theme-"+themeName+"{\n";return THEME_COLOR_NAMES.forEach(function(colorName){codeCSS+="  --thm-bg"+colorName+": "+style["bg"+colorName]+";\n"}),codeCSS+="}\n",codeCSS}function codeBackground(themeName,style){var codeCSS="";return THEME_COLOR_NAMES.forEach(function(colorName){codeCSS+="body.dom-theme-"+themeName+".thm-bg"+colorName+" { background-color: "+style["bg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-fg"+colorName+" { color: "+style["fg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-bg"+colorName+" { background-color: "+style["bg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-bg"+colorName+"-bottom { background: linear-gradient(to top,"+style["bg"+colorName]+",transparent) }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-bg"+colorName+"-top { background: linear-gradient(to bottom,"+style["bg"+colorName]+",transparent) }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-bg"+colorName+"-left { background: linear-gradient(to right,"+style["bg"+colorName]+",transparent) }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-bg"+colorName+"-right { background: linear-gradient(to left,"+style["bg"+colorName]+",transparent) }\n",isNaN(parseInt(colorName))&&(codeCSS+="body.dom-theme-"+themeName+" .thm-svg-fill"+colorName+" { fill: "+style["bg"+colorName]+" }\n",codeCSS+="body.dom-theme-"+themeName+" .thm-svg-stroke"+colorName+" { stroke: "+style["bg"+colorName]+" }\n")}),codeCSS}function codeElevation(themeName,style){var luminance=Color.luminance(style.bg2),elevationColor=.6>luminance?addAlpha(style.white,Math.ceil(10*luminance)):addAlpha(style.black,"6"),codeCSS="";return[0,1,2,3,4,6,8,9,12,16,24].forEach(function(elevation){codeCSS+="body.dom-theme-"+themeName+" .thm-ele"+elevation+" {\n  box-shadow: 0 "+elevation+"px "+2*elevation+"px "+elevationColor+"\n}\n"}),codeCSS}function completeWithDefaultValues(style){return"undefined"==typeof style&&(style={}),"string"!=typeof style.bg0&&(style.bg0="#E0E0E0"),"string"!=typeof style.bg1&&(style.bg1="#F5F5F5"),"string"!=typeof style.bg2&&(style.bg2="#FAFAFA"),"string"!=typeof style.bg3&&(style.bg3="#FFF"),"string"!=typeof style.bgP&&(style.bgP="#3E50B4"),"string"!=typeof style.bgPD&&(style.bgPD=dark(style.bgP)),"string"!=typeof style.bgPL&&(style.bgPL=light(style.bgP)),"string"!=typeof style.bgS&&(style.bgS="#FF3F80"),"string"!=typeof style.bgSD&&(style.bgSD=dark(style.bgS)),"string"!=typeof style.bgSL&&(style.bgSL=light(style.bgS)),"undefined"==typeof style.white&&(style.white="#fff"),"undefined"==typeof style.black&&(style.black="#000"),THEME_COLOR_NAMES.forEach(function(name){var bg=style["bg"+name],luminance=Color.luminance(bg);style["fg"+name]=.6>luminance?style.white:style.black}),style}function dark(color){var darkColor=new Color(color);return darkColor.rgb2hsl(),darkColor.L*=1-.25,darkColor.hsl2rgb(),darkColor.stringify()}function light(color){var percent=.4,lightColor=new Color(color);return lightColor.rgb2hsl(),lightColor.L=percent+(1-percent)*lightColor.L,lightColor.hsl2rgb(),lightColor.stringify()}function addAlpha(color,alpha){return 5>color.length?color+alpha:color+alpha+alpha}var _=function(){function _(){return X(D,arguments)}var D={en:{},fr:{}},X=require("$").intl;return _.all=D,_}();"use strict",exports.register=function(themeName,style){style=completeWithDefaultValues(style);var codeCSS=codeVariables(themeName,style);codeCSS+=codeBackground(themeName,style),codeCSS+=codeElevation(themeName,style),codeCSS+=codeText(themeName,style);var styleElement=THEMES.css[themeName];return styleElement||(styleElement=document.createElement("style"),document.getElementsByTagName("head")[0].appendChild(styleElement),THEMES.css[themeName]=styleElement),styleElement.textContent=codeCSS,this},exports.apply=function(name,target){if("undefined"==typeof target&&(target=document.body),!THEMES.css[name])return void console.error("This theme has not been registered: ",name);var body=document.body;"string"==typeof THEMES.current&&this.removeClass(body,"dom-theme-"+THEMES.current),THEMES.current=name,this.addClass(body,"dom-theme-"+THEMES.current)};var Color=require("tfw.color"),THEME_COLOR_NAMES=["0","1","2","3","P","PD","PL","S","SD","SL"],THEMES={css:{},current:null};module.exports._=_});
//# sourceMappingURL=dom.theme.js.map