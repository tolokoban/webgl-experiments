"use strict";require("webgl.math",function(require,module){function copy(arr){return new Float32Array(arr)}function mat3(v00,v10,v20,v01,v11,v21,v02,v12,v22){return new Float32Array([v00,v10,v20,v01,v11,v21,v02,v12,v22])}function mat4(v00,v10,v20,v30,v01,v11,v21,v31,v02,v12,v22,v32,v03,v13,v23,v33){return new Float32Array([v00,v10,v20,v30,v01,v11,v21,v31,v02,v12,v22,v32,v03,v13,v23,v33])}var _=function(){function _(){return X(D,arguments)}var D={en:{},fr:{}},X=require("$").intl;return _.all=D,_}();"use strict",module.exports={m4:{identity:function(){return mat4(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1)},matrix:mat4,vector:function(a,b,c,d){return new Float32Array([a,b,c,d])},projection:function(width,height,depth){return mat4(2/width,0,0,0,0,-2/height,0,0,0,0,2/depth,0,0,0,0,1)},translation:function(tx,ty,tz){return mat4(1,0,0,0,0,1,0,0,0,0,1,0,tx,ty,tz,1)},rotationX:function(rad,result){result=result||new Float32Array(16);var c=Math.cos(rad),s=Math.sin(rad);return result[0]=1,result[1]=0,result[2]=0,result[3]=0,result[4]=0,result[5]=c,result[6]=s,result[7]=0,result[8]=0,result[9]=-s,result[10]=c,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},rotationY:function(rad,result){result=result||new Float32Array(16);var c=Math.cos(rad),s=Math.sin(rad);return result[0]=c,result[1]=0,result[2]=-s,result[3]=0,result[4]=0,result[5]=1,result[6]=0,result[7]=0,result[8]=s,result[9]=0,result[10]=c,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},rotationZ:function(rad,result){result=result||new Float32Array(16);var c=Math.cos(rad),s=Math.sin(rad);return result[0]=c,result[1]=s,result[2]=0,result[3]=0,result[4]=-s,result[5]=c,result[6]=0,result[7]=0,result[8]=0,result[9]=0,result[10]=1,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},rotationXY:function(radX,radY,result){result=result||new Float32Array(16);var cx=Math.cos(radX),sx=Math.sin(radX),cy=Math.cos(radY),sy=Math.sin(radY);return result[0]=cy,result[1]=sx*sy,result[2]=-cx*sy,result[3]=0,result[4]=0,result[5]=cx,result[6]=sx,result[7]=0,result[8]=sy,result[9]=-sx*cy,result[10]=cx*cy,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},rotationYX:function(radY,radX,_result){var result=_result||new Float32Array(16),cy=Math.cos(radY),sy=Math.sin(radY),cx=Math.cos(radX),sx=Math.sin(radX);return result[0]=cy,result[1]=0,result[2]=sy,result[3]=0,result[4]=-sy*sx,result[5]=cx,result[6]=cy*sx,result[7]=0,result[8]=-sy*cx,result[9]=-sx,result[10]=cy*cx,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},rotationXZ:function(radX,radZ,_result){var result=_result||new Float32Array(16),cx=Math.cos(radX),sx=Math.sin(radX),cz=Math.cos(radZ),sz=Math.sin(radZ);return result[0]=cz,result[1]=cx*sz,result[2]=sx*sz,result[3]=0,result[4]=-sz,result[5]=cx*cz,result[6]=sx*cz,result[7]=0,result[8]=0,result[9]=-sx,result[10]=cx,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},rotationZX:function(radZ,radX,_result){var result=_result||new Float32Array(16),cz=Math.cos(radZ),sz=Math.sin(radZ),cx=Math.cos(radX),sx=Math.sin(radX);return result[0]=cz,result[1]=sz,result[2]=0,result[3]=0,result[4]=-sz*cx,result[5]=cz*cx,result[6]=sx,result[7]=0,result[8]=sz*sx,result[9]=-cz*sx,result[10]=cx,result[11]=0,result[12]=0,result[13]=0,result[14]=0,result[15]=1,result},scaling:function(sx,sy,sz){return mat4(sx,0,0,0,0,sy,0,0,0,0,sz,0,0,0,0,1)},copy:copy,normalize:function(arr){var v,k,n=copy(arr),len=0;for(k=0;k<n.length;k++)v=n[k],len+=v*v;if(0<len){var coeff=1/Math.sqrt(len);for(k=0;k<n.length;k++)n[k]*=coeff}return n},cameraPolar:function(targetX,targetY,targetZ,dis,lat,lng,result){result=result||new Float32Array(16);var cosLat=Math.cos(lat),sinLat=Math.sin(lat),cosLng=-Math.cos(lng+.5*Math.PI),sinLng=-Math.sin(lng+.5*Math.PI),Zx=cosLng*cosLat,Zy=sinLng*cosLat,Zz=sinLat,Xx=-Zy,Xy=Zx,Xz=0,len=Math.sqrt(Xx*Xx+Xy*Xy+Xz*Xz);Xx/=len,Xy/=len,Xz/=len;var Yx=Zy*Xz-Zz*Xy,Yy=Xx*Zz-Xz*Zx,Yz=Zx*Xy-Zy*Xx,Tx=-(Zx*dis+targetX),Ty=-(Zy*dis+targetY),Tz=-(Zz*dis+targetZ);return result[0]=Xx,result[4]=Xy,result[8]=Xz,result[12]=Tx*Xx+Ty*Xy+Tz*Xz,result[1]=Yx,result[5]=Yy,result[9]=Yz,result[13]=Tx*Yx+Ty*Yy+Tz*Yz,result[2]=Zx,result[6]=Zy,result[10]=Zz,result[14]=Tx*Zx+Ty*Zy+Tz*Zz,result[3]=0,result[7]=0,result[11]=0,result[15]=1,result},perspective:function(fieldAngle,aspect,near,far,result){result=result||new Float32Array(16);var f=Math.tan(.5*(Math.PI-fieldAngle)),rangeInv=1/(near-far);return result[0]=f/aspect,result[1]=0,result[2]=0,result[3]=0,result[4]=0,result[5]=f,result[6]=0,result[7]=0,result[8]=0,result[9]=0,result[10]=(near+far)*rangeInv,result[11]=-1,result[12]=0,result[13]=0,result[14]=2*(near*far*rangeInv),result[15]=0,result},mul:function(a,b,result){var f=MUL["m"+a.length+"m"+b.length];if("function"!=typeof f)throw Error("[webgl.math.mul] I don't know how to multiply 'M"+a.length+"' with 'M"+b.length+"'!");return f(a,b,result)}},m3:{identity:function(){return mat3(1,0,0,0,1,0,0,0,1)},matrix:mat3,projection:function(width,height){return mat3(2/width,0,0,0,-2/height,0,0,0,1)},translation:function(tx,ty){return mat3(1,0,0,0,1,0,tx,ty,1)},rotation:function(rad){var c=Math.cos(rad),s=Math.sin(rad);return mat3(c,-s,0,s,c,0,0,0,1)},scaling:function(sx,sy){return mat3(sx,0,0,0,sy,0,0,0,1)}}};var MUL={m4m4:function m4m4(a,b,result){return result=result||new Float32Array(4),result[0]=a[0]*b[0]+a[2]*b[1],result[1]=a[1]*b[0]+a[3]*b[1],result[2]=a[0]*b[2]+a[2]*b[3],result[3]=a[1]*b[2]+a[3]*b[3],result},m9m9:function m9m9(a,b,result){return result=result||new Float32Array(9),result[0]=a[0]*b[0]+a[3]*b[1]+a[6]*b[2],result[1]=a[1]*b[0]+a[4]*b[1]+a[7]*b[2],result[2]=a[2]*b[0]+a[5]*b[1]+a[8]*b[2],result[3]=a[0]*b[3]+a[3]*b[4]+a[6]*b[5],result[4]=a[1]*b[3]+a[4]*b[4]+a[7]*b[5],result[5]=a[2]*b[3]+a[5]*b[4]+a[8]*b[5],result[6]=a[0]*b[6]+a[3]*b[7]+a[6]*b[8],result[7]=a[1]*b[6]+a[4]*b[7]+a[7]*b[8],result[8]=a[2]*b[6]+a[5]*b[7]+a[8]*b[8],result},m16m16:function m16m16(a,b,result){return result=result||new Float32Array(16),result[0]=a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],result[1]=a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],result[2]=a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],result[3]=a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],result[4]=a[0]*b[4]+a[4]*b[5]+a[8]*b[6]+a[12]*b[7],result[5]=a[1]*b[4]+a[5]*b[5]+a[9]*b[6]+a[13]*b[7],result[6]=a[2]*b[4]+a[6]*b[5]+a[10]*b[6]+a[14]*b[7],result[7]=a[3]*b[4]+a[7]*b[5]+a[11]*b[6]+a[15]*b[7],result[8]=a[0]*b[8]+a[4]*b[9]+a[8]*b[10]+a[12]*b[11],result[9]=a[1]*b[8]+a[5]*b[9]+a[9]*b[10]+a[13]*b[11],result[10]=a[2]*b[8]+a[6]*b[9]+a[10]*b[10]+a[14]*b[11],result[11]=a[3]*b[8]+a[7]*b[9]+a[11]*b[10]+a[15]*b[11],result[12]=a[0]*b[12]+a[4]*b[13]+a[8]*b[14]+a[12]*b[15],result[13]=a[1]*b[12]+a[5]*b[13]+a[9]*b[14]+a[13]*b[15],result[14]=a[2]*b[12]+a[6]*b[13]+a[10]*b[14]+a[14]*b[15],result[15]=a[3]*b[12]+a[7]*b[13]+a[11]*b[14]+a[15]*b[15],result},m16m4:function m16m4(a,b,result){return result=result||new Float32Array(4),result[0]=a[0]*b[0]+a[4]*b[1]+a[8]*b[2]+a[12]*b[3],result[1]=a[1]*b[0]+a[5]*b[1]+a[9]*b[2]+a[13]*b[3],result[2]=a[2]*b[0]+a[6]*b[1]+a[10]*b[2]+a[14]*b[3],result[3]=a[3]*b[0]+a[7]*b[1]+a[11]*b[2]+a[15]*b[3],result}};module.exports._=_});
//# sourceMappingURL=math.js.map