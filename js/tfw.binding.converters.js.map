{"version":3,"sources":["tfw.binding.converters.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","$","List","Color","CONVERTERS","areMany","areManyConverter","areNotMany","areNotManyConverter","array","arrayConverter","boolean","booleanConverter","booleans","booleansConverter","color","colorConverter","date","dateConverter","deg2rad","deg2radConverter","divBy100","divBy100Converter","enum","enumConverter","float","floatConverter","integer","integerConverter","intlConverter","isEmpty","isEmptyConverter","isNotEmpty","isNotEmptyConverter","isNull","isNullConverter","isStrictlyPositive","isStrictlyPositiveConverter","isZero","isZeroConverter","keys","keysConverter","length","lengthConverter","list","listConverter","multilang","multilangConverter","not","notConverter","sortedKeys","sortedKeysConverter","string","stringConverter","strings","stringsConverter","time","timeConverter","unit","cssUnitConverter","units","cssUnitsConverter","validator","validatorConverter","get","converterName","converter","Error","Object","sort","join","set","RX_CSS_UNIT","v","trim","toLowerCase","m","exec","scalar","parseFloat","isNaN","TRUE_FUNC","rx","RegExp","text","test","value","Array","isArray","map","key","push","instance","parse","stringify","isList","slice","undefined","JSON","def","lang","result","valueForNaN","n","parseInt","toFloat","deg","caseInsensitiveList","x","idx","Math","max","indexOf","Date","number2time","string2time","DIGITS","hours","minutes","seconds","digit","index","len","count","charAt","d","setHours","setMinutes","setSeconds","v_","_v"],"mappings":"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","sourcesContent":["/** @module tfw.binding.converters */require( 'tfw.binding.converters', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\nconst\r\n    $ = require( \"$\" ),\r\n    List = require( \"tfw.binding.list\" ),\r\n    Color = require( \"tfw.color\" );\r\n\r\nconst CONVERTERS = {\r\n    areMany: areManyConverter,\r\n    areNotMany: areNotManyConverter,\r\n    array: arrayConverter,\r\n    boolean: booleanConverter,\r\n    booleans: booleansConverter,\r\n    color: colorConverter,\r\n    date: dateConverter,\r\n    deg2rad: deg2radConverter,\r\n    divBy100: divBy100Converter,\r\n    enum: enumConverter,\r\n    float: floatConverter,\r\n    integer: integerConverter,\r\n    intl: intlConverter,\r\n    isEmpty: isEmptyConverter,\r\n    isNotEmpty: isNotEmptyConverter,\r\n    isNull: isNullConverter,\r\n    isStrictlyPositive: isStrictlyPositiveConverter,\r\n    isZero: isZeroConverter,\r\n    keys: keysConverter,\r\n    length: lengthConverter,\r\n    list: listConverter,\r\n    multilang: multilangConverter,\r\n    not: notConverter,\r\n    sortedKeys: sortedKeysConverter,\r\n    string: stringConverter,\r\n    strings: stringsConverter,\r\n    time: timeConverter,\r\n    unit: cssUnitConverter,\r\n    units: cssUnitsConverter,\r\n    validator: validatorConverter\r\n};\r\n\r\nexports.get = function ( converterName ) {\r\n    const converter = CONVERTERS[ converterName ];\r\n    if ( typeof converter !== 'function' ) {\r\n        throw Error( `Converter not found: \"${converterName}\"!\\n` +\r\n            `Registred converters are: ${Object.keys(CONVERTERS).sort().join(\", \")}.` );\r\n    }\r\n    return converter;\r\n};\r\n\r\n\r\nexports.set = function ( converterName, converter ) {\r\n    if ( typeof converter === 'function' ) {\r\n        CONVERTERS[ converterName ] = converter;\r\n    } else {\r\n        delete CONVERTERS[ converterName ];\r\n    }\r\n};\r\n\r\n\r\n\r\nconst RX_CSS_UNIT = /^(-?[.0-9]+)[ \\n\\r]*([a-z%]*)/;\r\n\r\nfunction cssUnitConverter( v ) {\r\n    if ( typeof v === 'number' ) return v + \"px\";\r\n    if ( typeof v !== 'string' ) return \"0\";\r\n    v = ( \"\" + v ).trim().toLowerCase();\r\n    if ( v === 'auto' || v === 'inherit' ) return v;\r\n    var m = RX_CSS_UNIT.exec( v );\r\n    if ( !m ) return \"0\";\r\n    var scalar = parseFloat( m[ 1 ] );\r\n    if ( isNaN( scalar ) || scalar == 0 ) return \"0\";\r\n    var unit = m[ 2 ];\r\n    if ( unit.length < 1 ) unit = \"px\";\r\n    return scalar + unit;\r\n}\r\n\r\nvar TRUE_FUNC = function () { return true; };\r\n\r\nfunction validatorConverter( v ) {\r\n    switch ( typeof v ) {\r\n    case 'string':\r\n        if ( v.trim().length === 0 ) return TRUE_FUNC;\r\n        const rx = new RegExp( v );\r\n        return function ( text ) {\r\n            return rx.test( text );\r\n        };\r\n    case 'function':\r\n        return function ( value ) {\r\n            return booleanConverter( v( value ) );\r\n        };\r\n    }\r\n    return TRUE_FUNC;\r\n}\r\n\r\nfunction cssUnitsConverter( v ) {\r\n    if ( !Array.isArray( v ) ) return [];\r\n    return v.map( cssUnitConverter );\r\n}\r\n\r\nfunction booleanConverter( v ) {\r\n    switch ( typeof v ) {\r\n    case 'string':\r\n        return v.trim().toLowerCase() === 'true';\r\n    case 'number':\r\n        return v !== 0;\r\n    default:\r\n        return v ? true : false;\r\n    }\r\n}\r\n\r\nfunction keysConverter( v ) {\r\n    if ( !v ) return [];\r\n    var keys = [];\r\n    for ( var key in v ) keys.push( key );\r\n    return keys;\r\n}\r\n\r\nfunction sortedKeysConverter( v ) {\r\n    var keys = keysConverter( v );\r\n    return keys.sort();\r\n}\r\n\r\nfunction booleansConverter( v ) {\r\n    if ( !Array.isArray( v ) ) return [];\r\n    return v.map( booleanConverter );\r\n}\r\n\r\nfunction colorConverter( v ) {\r\n    if ( typeof v !== 'string' ) return '#000';\r\n    if ( !Color.instance.parse( v ) ) return '#000';\r\n    return Color.instance.stringify();\r\n}\r\n\r\nfunction notConverter( v ) { return !booleanConverter( v ); }\r\n\r\n\r\nfunction arrayConverter( v ) {\r\n    if ( List.isList( v ) ) return v.slice();\r\n    return Array.isArray( v ) ? v : [ v ];\r\n}\r\n\r\nfunction lengthConverter( v ) {\r\n    if ( !v ) return 0;\r\n    if ( typeof v.length === 'number' ) {\r\n        return v.length;\r\n    }\r\n    return 0;\r\n}\r\n\r\nfunction isEmptyConverter( v ) {\r\n    if ( !v ) return true;\r\n    if ( typeof v === 'string' ) {\r\n        return v.trim().length === 0;\r\n    }\r\n    if ( typeof v.length === 'number' ) {\r\n        return v.length === 0;\r\n    }\r\n    return false;\r\n}\r\n\r\nfunction isNotEmptyConverter( v ) {\r\n    return !isEmptyConverter( v );\r\n}\r\n\r\n/**\r\n * @param   {object} v - Object with a `length` attribute.\r\n * @returns {boolean}  true if v.length > 1. If there is no `length` attribute, return false.\r\n */\r\nfunction areManyConverter( v ) {\r\n    if ( !v || typeof v.length !== 'number' ) return false;\r\n    return v.length > 1;\r\n}\r\n\r\n/**\r\n * @param   {object} v - Object with a `length` attribute.\r\n * @returns {boolean}  true if v.length < 2. If there is no `length` attribute, return true.\r\n */\r\nfunction areNotManyConverter( v ) {\r\n    if ( !v || typeof v.length !== 'number' ) return true;\r\n    return v.length <= 1;\r\n}\r\n\r\n\r\nfunction stringsConverter( v ) {\r\n    if ( !Array.isArray( v ) ) return [];\r\n    return v.map( function ( v ) { return \"\" + v; } );\r\n}\r\n\r\nfunction stringConverter( v ) {\r\n    if ( v === null || v === undefined ) return \"\";\r\n    if ( typeof v === 'object' ) {\r\n        if ( Array.isArray( v ) ) {\r\n            return JSON.stringify( v );\r\n        } else {\r\n            return intlConverter( v );\r\n        }\r\n    }\r\n    return \"\" + v;\r\n}\r\n\r\nfunction multilangConverter( v ) {\r\n    if ( !Array.isArray( v ) && typeof v !== 'object' ) {\r\n        var def = {};\r\n        def[ $.lang() ] = \"\" + v;\r\n        return def;\r\n    }\r\n    return v;\r\n}\r\n\r\nfunction intlConverter( v ) {\r\n    if ( typeof v === 'string' ) return v;\r\n    if ( typeof v === 'undefined' ) return \"\";\r\n    if ( v === null ) return \"\";\r\n    var result = v[ $.lang() ];\r\n    if ( !result ) {\r\n        for ( var lang in v ) {\r\n            result = v[ lang ];\r\n            break;\r\n        }\r\n    }\r\n    if ( typeof result !== 'string' ) return \"\";\r\n    return result;\r\n}\r\n\r\nfunction listConverter( v ) {\r\n    if ( List.isList( v ) ) return v;\r\n    return new List( arrayConverter( v ) );\r\n}\r\n\r\nfunction integerConverter( valueForNaN ) {\r\n    if ( typeof valueForNaN === 'number' ) {\r\n        return function ( v ) {\r\n            var n = parseInt( v );\r\n            if ( isNaN( n ) ) return valueForNaN;\r\n            return n;\r\n        };\r\n    } else {\r\n        return parseInt;\r\n    }\r\n}\r\n\r\nfunction floatConverter( valueForNaN ) {\r\n    if ( typeof valueForNaN === 'number' ) {\r\n        return function ( v ) {\r\n            var n = parseFloat( v );\r\n            if ( isNaN( n ) ) return valueForNaN;\r\n            return n;\r\n        };\r\n    } else {\r\n        return parseFloat;\r\n    }\r\n}\r\n\r\nfunction deg2radConverter( value ) {\r\n    const toFloat = floatConverter( 0 );\r\n    const deg = toFloat( value );\r\n    // PI / 180 = 0.017453292519943295.\r\n    return deg * 0.017453292519943295;\r\n}\r\n\r\nfunction divBy100Converter( value ) {\r\n    const toFloat = floatConverter( 0 );\r\n    return toFloat( value ) * 0.01;\r\n}\r\n\r\nfunction enumConverter( list ) {\r\n    list = arrayConverter( list );\r\n    var caseInsensitiveList = list.map( function ( x ) { return x.toLowerCase(); } );\r\n    return function ( v ) {\r\n        var idx = Math.max( 0, caseInsensitiveList.indexOf( ( \"\" + v ).toLowerCase() ) );\r\n        return list[ idx ];\r\n    };\r\n}\r\n\r\nfunction timeConverter( v ) {\r\n    if ( v instanceof Date ) return v;\r\n    if ( typeof v === 'number' ) return number2time( v );\r\n    if ( typeof v === 'string' ) return string2time( v );\r\n    return null;\r\n}\r\n\r\nfunction number2time( v ) {\r\n    return new Date( v );\r\n}\r\n\r\nconst DIGITS = \"0123456789\";\r\n\r\nfunction string2time( v ) {\r\n    var hours = 0;\r\n    var minutes = 0;\r\n    var seconds = 0;\r\n    var digit = 0;\r\n    var index = 0;\r\n    var len = v.length;\r\n    var count = 0;\r\n    // 0: Wait for first hours digit.\r\n    while ( index < len && DIGITS.indexOf( v.charAt( index ) ) === -1 ) index++;\r\n    // 1: Reading hours digits.\r\n    count = 0;\r\n    while ( index < len && count < 2 && ( digit = DIGITS.indexOf( v.charAt( index ) ) ) !== -1 ) {\r\n        hours = 10 * hours + digit;\r\n        index++;\r\n        count++;\r\n    }\r\n    // 2: Wait for first minutes digit.\r\n    while ( index < len && DIGITS.indexOf( v.charAt( index ) ) === -1 ) index++;\r\n    // 3: Reading minutes digits.\r\n    count = 0;\r\n    while ( index < len && count < 2 && ( digit = DIGITS.indexOf( v.charAt( index ) ) ) !== -1 ) {\r\n        minutes = 10 * minutes + digit;\r\n        count++;\r\n        index++;\r\n    }\r\n    // 4: Wait for first seconds digit.\r\n    while ( index < len && DIGITS.indexOf( v.charAt( index ) ) === -1 ) index++;\r\n    // 5: Reading seconds digits.\r\n    count = 0;\r\n    while ( index < len && count < 2 && ( digit = DIGITS.indexOf( v.charAt( index ) ) ) !== -1 ) {\r\n        seconds = 10 * seconds + digit;\r\n        index++;\r\n        count++;\r\n    }\r\n\r\n    var d = new Date( 0 );\r\n    d.setHours( hours );\r\n    d.setMinutes( minutes );\r\n    d.setSeconds( seconds );\r\n    return d;\r\n}\r\n\r\nfunction dateConverter( v ) {\r\n    if ( v instanceof Date ) return v;\r\n}\r\n\r\nfunction isZeroConverter( v ) {\r\n    return v === 0;\r\n}\r\n\r\nfunction isNullConverter( v ) {\r\n    if ( isNaN( v ) ) return true;\r\n    return !v ? true : false;\r\n}\r\n\r\nfunction isStrictlyPositiveConverter( v_ ) {\r\n    const v = typeof _v === \"number\" ? _v : parseFloat( v_ );\r\n    if ( isNaN( v ) ) return false;\r\n    return v > 0;\r\n}\r\n\r\n\r\nmodule.exports._ = _;\n})"]}