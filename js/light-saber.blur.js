"use strict";function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}function _defineProperties(target,props){for(var descriptor,i=0;i<props.length;i++)descriptor=props[i],descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}function _createClass(Constructor,protoProps,staticProps){return protoProps&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),Constructor}require("light-saber.blur",function(require,module){var GLOBAL={frag:"precision mediump float;\r\n\r\nuniform sampler2D uniTexture;\r\nuniform float uniDx;\r\nuniform float uniDy;\r\nuniform float uniCenter;\r\nuniform float uniSegment;\r\nuniform float uniCorner;\r\n\r\nvarying vec2 varUV;\r\n\r\nvec4 pickColor(float x, float y, float alpha ) {\r\n    vec4 color = texture2D( uniTexture, varUV + vec2(x, y) );\r\n    return color * alpha;\r\n}\r\n\r\nvoid main() {\r\n    vec4 color =\r\n        pickColor( 0.0, 0.0, uniCenter ) +\r\n        pickColor( -uniDx, 0.0, uniSegment ) +\r\n        pickColor( uniDx, 0.0, uniSegment ) +\r\n        pickColor( 0.0, -uniDy, uniSegment ) +\r\n        pickColor( 0.0, uniDy, uniSegment ) +\r\n        pickColor( -uniDx, -uniDy, uniCorner ) +\r\n        pickColor( -uniDx, uniDy, uniCorner ) +\r\n        pickColor( uniDx, uniDy, uniCorner ) +\r\n        pickColor( uniDx, -uniDy, uniCorner );\r\n    gl_FragColor = color;\r\n}\r\n"};var ImageProcessor=require("light-saber.image-processor"),Blur=function(){function Blur(gl,framebuffers,sourceName){var centerCoeff=3<arguments.length&&void 0!==arguments[3]?arguments[3]:.332,segmentCoeff=4<arguments.length&&void 0!==arguments[4]?arguments[4]:.122,cornerCoeff=5<arguments.length&&void 0!==arguments[5]?arguments[5]:.045;_classCallCheck(this,Blur),this.gl=gl,this.framebuffers=framebuffers,this.sourceName=sourceName,this.imageProcessor=new ImageProcessor(gl,GLOBAL.frag),this.prg=this.imageProcessor.prg,this.centerCoeff=centerCoeff,this.segmentCoeff=segmentCoeff,this.cornerCoeff=cornerCoeff}return _createClass(Blur,[{key:"paint",value:function paint(time,delta){var gl=this.gl,prg=this.prg,imageProcessor=this.imageProcessor,framebuffers=this.framebuffers,sourceName=this.sourceName,fb=framebuffers[sourceName];prg.use(),prg.$uniTexture=0,prg.$uniDx=1/fb.width,prg.$uniDy=1/fb.height,prg.$uniCenter=this.centerCoeff,prg.$uniSegment=this.segmentCoeff,prg.$uniCorner=this.cornerCoeff,gl.activeTexture(gl.TEXTURE0),gl.bindTexture(gl.TEXTURE_2D,fb.texture),imageProcessor.paint(time,delta)}}]),Blur}();module.exports=Blur,module.exports._=function _(){return""}});
//# sourceMappingURL=blur.js.map