{"version":3,"sources":["wdg.menu.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","CODE_BEHIND","refresh","$","MenuItem","article","$elements","clear","value","forEach","item","m","id","title","keywords","add","tag","href","PM","Tag","View","Converters","ensureCodeBehind","defVal","args","attName","attValue","undefined","conv_array","get","ViewClass","that","pm","create","cast","e_","e_article","e_1","Object","defineProperty","writable","enumerable","configurable","on","v","call","ex","console","error","class","set","fire","addClass","Error"],"mappings":"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","sourcesContent":["/** @module wdg.menu */require( 'wdg.menu', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\n\r\nvar CODE_BEHIND = {\r\n  refresh: refresh\r\n};\r\n\r\nrequire(\"theme\");\r\nvar $ = require(\"dom\");\r\nvar MenuItem = require(\"wdg.menu.item\");\r\n\r\n\r\nfunction refresh() {\r\n  var article = this.$elements.article;\r\n  $.clear( article );\r\n  this.value.forEach(function (item) {\r\n    var m = new MenuItem({\r\n      id: item[0],\r\n      title: item[1],\r\n      keywords: item[2]\r\n    });\r\n    $.add( article, m );\r\n  });\r\n  $.add( article, $.tag(\"hr\") );\r\n  $.add( article, $.tag(\"a\", { href: \"doc.html\" }, [\"Liens utiles vers de la documentation\"]) );\r\n  $.add( article, $.tag(\"br\") );\r\n}\r\n\n\n\n//===============================\n// XJS:View autogenerated code.\ntry {\n  module.exports = function() {\n    //--------------------\n    // Dependent modules.\n    const $ = require('dom');\n    const PM = require('tfw.binding.property-manager');\n    const Tag = require('tfw.view').Tag;\n    const View = require('tfw.view');;\n    const Converters = require('tfw.binding.converters');\n    //-------------------------------------------------------\n    // Check if needed functions are defined in code behind.\n    View.ensureCodeBehind( CODE_BEHIND, \"refresh\" );\n    //-------------------\n    // Global functions.\n    function defVal(args, attName, attValue) { return args[attName] === undefined ? attValue : args[attName]; };\n    //-------------------\n    // Global variables.\n    const conv_array = Converters.get('array');\n    //-------------------\n    // Class definition.\n    const ViewClass = function( args ) {\n      try {\n        if( typeof args === 'undefined' ) args = {};\n        this.$elements = {};\n                const that = this;\n        const pm = PM(this);\n        //--------------------\n        // Create attributes.\n        pm.create(\"value\", { cast: conv_array });\n        //------------------\n        // Create elements.\n        const e_ = new Tag('DIV', [\"class\"]);\n        const e_article = new Tag('ARTICLE', [\"class\"]);\n        this.$elements.article = e_article;\n        const e_1 = new Tag('HEADER', [\"class\"]);\n        $.add( e_1, \"Apprendre le WebGL\" );\n        $.add( e_, e_article, e_1 );\n        //-----------------------\n        // Declare root element.\n        Object.defineProperty( this, '$', {\n          value: e_.$,\n          writable: false, \n          enumerable: false, \n          configurable: false\n        });\n        //-----------------------\n        // On attribute changed.\n        pm.on(\"value\", function(v) {\n          try {\n            CODE_BEHIND.refresh.call( that, v );\n          }\n          catch( ex ) {\n            console.error(\n              'Exception in function behind \"refresh\" of module \"mod/wdg.menu.js\" for attribute \"value\"!'\n            );\n            console.error( ex );\n          }\n        });\n        //----------------------\n        // Initialize elements.\n        e_.class = \"wdg-menu\";\n        e_article.class = \"thm-bg1\";\n        e_1.class = \"thm-bgP thm-ele8\";\n        //------------------------\n        // Initialize attributes.\n        pm.set(\"value\", defVal(args, \"value\", []));\n        pm.fire(\"value\");\n        $.addClass(this, 'view', 'custom');\n\n      }\n      catch( ex ) {\n        console.error('mod/wdg.menu.js', ex);\n        throw Error('Instantiation error in XJS of \"mod/wdg.menu.js\":\\n' + ex)\n      }\n    };\n    return ViewClass;\n  }();\n}\ncatch( ex ) {\n  throw Error('Definition error in XJS of \"mod/wdg.menu.js\"\\n' + ex);\n}\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}