{"version":3,"sources":["math.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","m4","identity","identity4","matrix","mat4","vector","vec4","projection","projection4","translation","translation4","rotationX","rotationX4","rotationY","rotationY4","rotationZ","rotationZ4","rotationXY","rotationXY4","rotationYX","rotationYX4","rotationXZ","rotationXZ4","rotationZX","rotationZX4","scaling","scaling4","copy","normalize","cameraPolar","cameraPolar4","perspective","perspective4","mul","m3","identity3","mat3","projection3","translation3","rotation","rotation3","scaling3","arr","Float32Array","n","len","v","k","length","coeff","Math","sqrt","targetX","targetY","targetZ","dis","lat","lng","result","cosLat","cos","sinLat","sin","cosLng","PI","sinLng","Zx","Zy","Zz","Xx","Xy","Xz","Yx","Yy","Yz","Tx","Ty","Tz","fieldAngle","aspect","near","far","f","tan","rangeInv","inverse4","m","dst","m00","m01","m02","m03","m10","m12","m11","m13","m20","m21","m22","m23","m30","m31","m32","m33","tmp_0","tmp_1","tmp_2","tmp_3","tmp_4","tmp_5","tmp_6","tmp_7","tmp_8","tmp_9","tmp_10","tmp_11","tmp_12","tmp_13","tmp_14","tmp_15","tmp_16","tmp_17","tmp_18","tmp_19","tmp_20","tmp_21","tmp_22","tmp_23","t0","t1","t2","t3","d","width","height","depth","tx","ty","tz","rad","c","s","radX","radY","cx","sx","cy","sy","_result","radZ","cz","sz","mat2","v00","v10","v01","v11","v20","v21","v02","v12","v22","v30","v31","v32","v03","v13","v23","v33","vec2","a","b","vec3","MUL","m4m4","m9m9","m16m16","m16m4","Error"],"mappings":"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","sourcesContent":["/** @module webgl.math */require( 'webgl.math', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\nmodule.exports = {\r\n    m4: {\r\n        identity: identity4,\r\n        matrix: mat4,\r\n        vector: vec4,\r\n        projection: projection4,\r\n        translation: translation4,\r\n        rotationX: rotationX4,\r\n        rotationY: rotationY4,\r\n        rotationZ: rotationZ4,\r\n        rotationXY: rotationXY4,\r\n        rotationYX: rotationYX4,\r\n        rotationXZ: rotationXZ4,\r\n        rotationZX: rotationZX4,\r\n        scaling: scaling4,\r\n        copy: copy,\r\n        normalize: normalize,\r\n        cameraPolar: cameraPolar4,\r\n        perspective: perspective4,\r\n        mul: mul\r\n    },\r\n    m3: {\r\n        identity: identity3,\r\n        matrix: mat3,\r\n        projection: projection3,\r\n        translation: translation3,\r\n        rotation: rotation3,\r\n        scaling: scaling3\r\n    }\r\n};\r\n\r\n\r\nfunction copy( arr ) {\r\n    return new Float32Array( arr );\r\n}\r\n\r\nfunction normalize( arr ) {\r\n    var n = copy( arr );\r\n    var len = 0,\r\n        v, k;\r\n    for ( k = 0; k < n.length; k++ ) {\r\n        v = n[ k ];\r\n        len += v * v;\r\n    }\r\n    if ( len > 0 ) {\r\n        var coeff = 1 / Math.sqrt( len );\r\n        for ( k = 0; k < n.length; k++ ) {\r\n            n[ k ] *= coeff;\r\n        }\r\n    }\r\n    return n;\r\n}\r\n\r\nfunction cameraPolar4( targetX, targetY, targetZ, dis, lat, lng, result ) {\r\n    result = result || new Float32Array( 16 );\r\n    var cosLat = Math.cos( lat );\r\n    var sinLat = Math.sin( lat );\r\n    var cosLng = -Math.cos( lng + Math.PI * .5 );\r\n    var sinLng = -Math.sin( lng + Math.PI * .5 );\r\n    // Vecteur Z de la caméra.\r\n    var Zx = cosLng * cosLat;\r\n    var Zy = sinLng * cosLat;\r\n    var Zz = sinLat; // V2/2\r\n    // Le vecteur X se déduit par un produit vectoriel de (0,0,1) avec Z.\r\n    var Xx = -Zy;\r\n    var Xy = Zx;\r\n    var Xz = 0;\r\n    // Comme (0,0,1) n'est pas orthogonal à Z, il faut normaliser X.\r\n    var len = Math.sqrt( Xx * Xx + Xy * Xy + Xz * Xz );\r\n    Xx /= len;\r\n    Xy /= len;\r\n    Xz /= len;\r\n    // Y peut alors se déduire par le produit vectoriel de Z par X.\r\n    // Et il n'y aura pas besoin de le normaliser.\r\n    var Yx = Zy * Xz - Zz * Xy;\r\n    var Yy = Xx * Zz - Xz * Zx;\r\n    var Yz = Zx * Xy - Zy * Xx;\r\n    // Translation.\r\n    var Tx = -( Zx * dis + targetX );\r\n    var Ty = -( Zy * dis + targetY );\r\n    var Tz = -( Zz * dis + targetZ );\r\n\r\n    // Le résultat est la multiplication de la projection avec la translation.\r\n    result[ 0 ] = Xx;\r\n    result[ 4 ] = Xy;\r\n    result[ 8 ] = Xz;\r\n    result[ 12 ] = Tx * Xx + Ty * Xy + Tz * Xz;\r\n\r\n    result[ 1 ] = Yx;\r\n    result[ 5 ] = Yy;\r\n    result[ 9 ] = Yz;\r\n    result[ 13 ] = Tx * Yx + Ty * Yy + Tz * Yz;\r\n\r\n    result[ 2 ] = Zx;\r\n    result[ 6 ] = Zy;\r\n    result[ 10 ] = Zz;\r\n    result[ 14 ] = Tx * Zx + Ty * Zy + Tz * Zz;\r\n\r\n    result[ 3 ] = 0;\r\n    result[ 7 ] = 0;\r\n    result[ 11 ] = 0;\r\n    result[ 15 ] = 1;\r\n\r\n    return result;\r\n}\r\n\r\n/**\r\n * Define the `frustum`.\r\n * @param {number} fieldAngle - View angle in radians. Maximum is PI.\r\n * @param {number} aspect - (width / height) of the canvas.\r\n * @param {number} near - Clip every Z lower than `near`.\r\n * @param {number} far - Clip every Z greater than `far`.\r\n */\r\nfunction perspective4( fieldAngle, aspect, near, far, result ) {\r\n    result = result || new Float32Array( 16 );\r\n    var f = Math.tan( 0.5 * ( Math.PI - fieldAngle ) );\r\n    var rangeInv = 1.0 / ( near - far );\r\n\r\n    result[ 0 ] = f / aspect;\r\n    result[ 1 ] = 0;\r\n    result[ 2 ] = 0;\r\n    result[ 3 ] = 0;\r\n\r\n    result[ 4 ] = 0;\r\n    result[ 5 ] = f;\r\n    result[ 6 ] = 0;\r\n    result[ 7 ] = 0;\r\n\r\n    result[ 8 ] = 0;\r\n    result[ 9 ] = 0;\r\n    result[ 10 ] = ( near + far ) * rangeInv;\r\n    result[ 11 ] = -1;\r\n\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = near * far * rangeInv * 2;\r\n    result[ 15 ] = 0;\r\n\r\n    return result;\r\n}\r\n\r\nfunction identity3() {\r\n    return mat3( 1, 0, 0, 0, 1, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction identity4() {\r\n    return mat4( 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction inverse4( m, dst ) {\r\n    dst = dst || mat4( 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 );\r\n    var m00 = m[ 0 ];\r\n    var m01 = m[ 1 ];\r\n    var m02 = m[ 2 ];\r\n    var m03 = m[ 3 ];\r\n    var m10 = m[ 4 ];\r\n    var m12 = m[ 5 ];\r\n    var m11 = m[ 6 ];\r\n    var m13 = m[ 7 ];\r\n    var m20 = m[ 8 ];\r\n    var m21 = m[ 9 ];\r\n    var m22 = m[ 10 ];\r\n    var m23 = m[ 11 ];\r\n    var m30 = m[ 12 ];\r\n    var m31 = m[ 13 ];\r\n    var m32 = m[ 14 ];\r\n    var m33 = m[ 15 ];\r\n    var tmp_0 = m22 * m33;\r\n    var tmp_1 = m32 * m23;\r\n    var tmp_2 = m12 * m33;\r\n    var tmp_3 = m32 * m13;\r\n    var tmp_4 = m12 * m23;\r\n    var tmp_5 = m22 * m13;\r\n    var tmp_6 = m02 * m33;\r\n    var tmp_7 = m32 * m03;\r\n    var tmp_8 = m02 * m23;\r\n    var tmp_9 = m22 * m03;\r\n    var tmp_10 = m02 * m13;\r\n    var tmp_11 = m12 * m03;\r\n    var tmp_12 = m20 * m31;\r\n    var tmp_13 = m30 * m21;\r\n    var tmp_14 = m10 * m31;\r\n    var tmp_15 = m30 * m11;\r\n    var tmp_16 = m10 * m21;\r\n    var tmp_17 = m20 * m11;\r\n    var tmp_18 = m00 * m31;\r\n    var tmp_19 = m30 * m01;\r\n    var tmp_20 = m00 * m21;\r\n    var tmp_21 = m20 * m01;\r\n    var tmp_22 = m00 * m11;\r\n    var tmp_23 = m10 * m01;\r\n\r\n    var t0 = ( tmp_0 * m11 + tmp_3 * m21 + tmp_4 * m31 ) -\r\n        ( tmp_1 * m11 + tmp_2 * m21 + tmp_5 * m31 );\r\n    var t1 = ( tmp_1 * m01 + tmp_6 * m21 + tmp_9 * m31 ) -\r\n        ( tmp_0 * m01 + tmp_7 * m21 + tmp_8 * m31 );\r\n    var t2 = ( tmp_2 * m01 + tmp_7 * m11 + tmp_10 * m31 ) -\r\n        ( tmp_3 * m01 + tmp_6 * m11 + tmp_11 * m31 );\r\n    var t3 = ( tmp_5 * m01 + tmp_8 * m11 + tmp_11 * m21 ) -\r\n        ( tmp_4 * m01 + tmp_9 * m11 + tmp_10 * m21 );\r\n\r\n    var d = 1.0 / ( m00 * t0 + m10 * t1 + m20 * t2 + m30 * t3 );\r\n\r\n    dst[ 0 ] = d * t0;\r\n    dst[ 1 ] = d * t1;\r\n    dst[ 2 ] = d * t2;\r\n    dst[ 3 ] = d * t3;\r\n    dst[ 4 ] = d * ( ( tmp_1 * m10 + tmp_2 * m20 + tmp_5 * m30 ) -\r\n        ( tmp_0 * m10 + tmp_3 * m20 + tmp_4 * m30 ) );\r\n    dst[ 5 ] = d * ( ( tmp_0 * m00 + tmp_7 * m20 + tmp_8 * m30 ) -\r\n        ( tmp_1 * m00 + tmp_6 * m20 + tmp_9 * m30 ) );\r\n    dst[ 6 ] = d * ( ( tmp_3 * m00 + tmp_6 * m10 + tmp_11 * m30 ) -\r\n        ( tmp_2 * m00 + tmp_7 * m10 + tmp_10 * m30 ) );\r\n    dst[ 7 ] = d * ( ( tmp_4 * m00 + tmp_9 * m10 + tmp_10 * m20 ) -\r\n        ( tmp_5 * m00 + tmp_8 * m10 + tmp_11 * m20 ) );\r\n    dst[ 8 ] = d * ( ( tmp_12 * m13 + tmp_15 * m23 + tmp_16 * m33 ) -\r\n        ( tmp_13 * m13 + tmp_14 * m23 + tmp_17 * m33 ) );\r\n    dst[ 9 ] = d * ( ( tmp_13 * m03 + tmp_18 * m23 + tmp_21 * m33 ) -\r\n        ( tmp_12 * m03 + tmp_19 * m23 + tmp_20 * m33 ) );\r\n    dst[ 10 ] = d * ( ( tmp_14 * m03 + tmp_19 * m13 + tmp_22 * m33 ) -\r\n        ( tmp_15 * m03 + tmp_18 * m13 + tmp_23 * m33 ) );\r\n    dst[ 11 ] = d * ( ( tmp_17 * m03 + tmp_20 * m13 + tmp_23 * m23 ) -\r\n        ( tmp_16 * m03 + tmp_21 * m13 + tmp_22 * m23 ) );\r\n    dst[ 12 ] = d * ( ( tmp_14 * m22 + tmp_17 * m32 + tmp_13 * m12 ) -\r\n        ( tmp_16 * m32 + tmp_12 * m12 + tmp_15 * m22 ) );\r\n    dst[ 13 ] = d * ( ( tmp_20 * m32 + tmp_12 * m02 + tmp_19 * m22 ) -\r\n        ( tmp_18 * m22 + tmp_21 * m32 + tmp_13 * m02 ) );\r\n    dst[ 14 ] = d * ( ( tmp_18 * m12 + tmp_23 * m32 + tmp_15 * m02 ) -\r\n        ( tmp_22 * m32 + tmp_14 * m02 + tmp_19 * m12 ) );\r\n    dst[ 15 ] = d * ( ( tmp_22 * m22 + tmp_16 * m02 + tmp_21 * m12 ) -\r\n        ( tmp_20 * m12 + tmp_23 * m22 + tmp_17 * m02 ) );\r\n\r\n    return dst;\r\n}\r\n\r\nfunction projection3( width, height ) {\r\n    return mat3( 2 / width, 0, 0, 0, -2 / height, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction projection4( width, height, depth ) {\r\n    return mat4( 2 / width, 0, 0, 0, 0, -2 / height, 0, 0, 0, 0, 2 / depth, 0, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction translation3( tx, ty ) {\r\n    return mat3( 1, 0, 0, 0, 1, 0, tx, ty, 1 );\r\n}\r\n\r\nfunction translation4( tx, ty, tz ) {\r\n    return mat4( 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, tx, ty, tz, 1 );\r\n}\r\n\r\nfunction rotation3( rad ) {\r\n    var c = Math.cos( rad );\r\n    var s = Math.sin( rad );\r\n    return mat3( c, -s, 0, s, c, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction rotationX4( rad, result ) {\r\n    result = result || new Float32Array( 16 );\r\n    var c = Math.cos( rad );\r\n    var s = Math.sin( rad );\r\n    result[ 0 ] = 1;\r\n    result[ 1 ] = 0;\r\n    result[ 2 ] = 0;\r\n    result[ 3 ] = 0;\r\n\r\n    result[ 4 ] = 0;\r\n    result[ 5 ] = c;\r\n    result[ 6 ] = s;\r\n    result[ 7 ] = 0;\r\n\r\n    result[ 8 ] = 0;\r\n    result[ 9 ] = -s;\r\n    result[ 10 ] = c;\r\n    result[ 11 ] = 0;\r\n\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\nfunction rotationY4( rad, result ) {\r\n    result = result || new Float32Array( 16 );\r\n    var c = Math.cos( rad );\r\n    var s = Math.sin( rad );\r\n    result[ 0 ] = c;\r\n    result[ 1 ] = 0;\r\n    result[ 2 ] = -s;\r\n    result[ 3 ] = 0;\r\n\r\n    result[ 4 ] = 0;\r\n    result[ 5 ] = 1;\r\n    result[ 6 ] = 0;\r\n    result[ 7 ] = 0;\r\n\r\n    result[ 8 ] = s;\r\n    result[ 9 ] = 0;\r\n    result[ 10 ] = c;\r\n    result[ 11 ] = 0;\r\n\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\nfunction rotationZ4( rad, result ) {\r\n    result = result || new Float32Array( 16 );\r\n    var c = Math.cos( rad );\r\n    var s = Math.sin( rad );\r\n    result[ 0 ] = c;\r\n    result[ 1 ] = s;\r\n    result[ 2 ] = 0;\r\n    result[ 3 ] = 0;\r\n    result[ 4 ] = -s;\r\n    result[ 5 ] = c;\r\n    result[ 6 ] = 0;\r\n    result[ 7 ] = 0;\r\n    result[ 8 ] = 0;\r\n    result[ 9 ] = 0;\r\n    result[ 10 ] = 1;\r\n    result[ 11 ] = 0;\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\nfunction rotationXY4( radX, radY, result ) {\r\n    result = result || new Float32Array( 16 );\r\n    var cx = Math.cos( radX );\r\n    var sx = Math.sin( radX );\r\n    var cy = Math.cos( radY );\r\n    var sy = Math.sin( radY );\r\n    result[ 0 ] = cy;\r\n    result[ 1 ] = sx * sy;\r\n    result[ 2 ] = -cx * sy;\r\n    result[ 3 ] = 0;\r\n    result[ 4 ] = 0;\r\n    result[ 5 ] = cx;\r\n    result[ 6 ] = sx;\r\n    result[ 7 ] = 0;\r\n    result[ 8 ] = sy;\r\n    result[ 9 ] = -sx * cy;\r\n    result[ 10 ] = cx * cy;\r\n    result[ 11 ] = 0;\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Perform a rotation on X axis, then on Y axis.\r\n *\r\n * @param   {float} radY - Angle around Y axis in radians.\r\n * @param   {float} radX - Angle around X axis in radians.\r\n * @param   {Float32Array} _result [description]\r\n * @returns {[type]}        [description]\r\n */\r\nfunction rotationYX4( radY, radX, _result ) {\r\n    const result = _result || new Float32Array( 16 );\r\n    const\r\n        cy = Math.cos( radY ),\r\n        sy = Math.sin( radY ),\r\n        cx = Math.cos( radX ),\r\n        sx = Math.sin( radX );\r\n    result[ 0 ] = cy;\r\n    result[ 1 ] = 0;\r\n    result[ 2 ] = sy;\r\n    result[ 3 ] = 0;\r\n    result[ 4 ] = -sy * sx;\r\n    result[ 5 ] = cx;\r\n    result[ 6 ] = cy * sx;\r\n    result[ 7 ] = 0;\r\n    result[ 8 ] = -sy * cx;\r\n    result[ 9 ] = -sx;\r\n    result[ 10 ] = cy * cx;\r\n    result[ 11 ] = 0;\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Perform a rotation on Z axis, then on X axis.\r\n *\r\n * @param   {float} radX - Angle around X axis in radians.\r\n * @param   {float} radZ - Angle around Z axis in radians.\r\n * @param   {Float32Array} _result [description]\r\n * @returns {[type]}        [description]\r\n */\r\nfunction rotationXZ4( radX, radZ, _result ) {\r\n    const result = _result || new Float32Array( 16 );\r\n    const\r\n        cx = Math.cos( radX ),\r\n        sx = Math.sin( radX ),\r\n        cz = Math.cos( radZ ),\r\n        sz = Math.sin( radZ );\r\n    result[ 0 ] = cz;\r\n    result[ 1 ] = cx * sz;\r\n    result[ 2 ] = sx * sz;\r\n    result[ 3 ] = 0;\r\n    result[ 4 ] = -sz;\r\n    result[ 5 ] = cx * cz;\r\n    result[ 6 ] = sx * cz;\r\n    result[ 7 ] = 0;\r\n    result[ 8 ] = 0;\r\n    result[ 9 ] = -sx;\r\n    result[ 10 ] = cx;\r\n    result[ 11 ] = 0;\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\n/**\r\n * Perform a rotation on X axis, then on Z axis.\r\n *\r\n * @param   {float} radZ - Angle around Z axis in radians.\r\n * @param   {float} radX - Angle around X axis in radians.\r\n * @param   {Float32Array} _result [description]\r\n * @returns {[type]}        [description]\r\n */\r\nfunction rotationZX4( radZ, radX, _result ) {\r\n    const result = _result || new Float32Array( 16 );\r\n    const\r\n        cz = Math.cos( radZ ),\r\n        sz = Math.sin( radZ ),\r\n        cx = Math.cos( radX ),\r\n        sx = Math.sin( radX );\r\n    result[ 0 ] = cz;\r\n    result[ 1 ] = sz;\r\n    result[ 2 ] = 0;\r\n    result[ 3 ] = 0;\r\n    result[ 4 ] = -sz * cx;\r\n    result[ 5 ] = cz * cx;\r\n    result[ 6 ] = sx;\r\n    result[ 7 ] = 0;\r\n    result[ 8 ] = sz * sx;\r\n    result[ 9 ] = -cz * sx;\r\n    result[ 10 ] = cx;\r\n    result[ 11 ] = 0;\r\n    result[ 12 ] = 0;\r\n    result[ 13 ] = 0;\r\n    result[ 14 ] = 0;\r\n    result[ 15 ] = 1;\r\n    return result;\r\n}\r\n\r\nfunction scaling3( sx, sy ) {\r\n    return mat3( sx, 0, 0, 0, sy, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction scaling4( sx, sy, sz ) {\r\n    return mat4( sx, 0, 0, 0, 0, sy, 0, 0, 0, 0, sz, 0, 0, 0, 0, 1 );\r\n}\r\n\r\nfunction mat2( v00, v10, v01, v11 ) {\r\n    return Float32Array( [ v00, v10, v01, v11 ] );\r\n}\r\n\r\nfunction mat3( v00, v10, v20, v01, v11, v21, v02, v12, v22 ) {\r\n    return new Float32Array( [ v00, v10, v20, v01, v11, v21, v02, v12, v22 ] );\r\n}\r\n\r\nfunction mat4( v00, v10, v20, v30, v01, v11, v21, v31, v02, v12, v22, v32, v03, v13, v23, v33 ) {\r\n    return new Float32Array( [ v00, v10, v20, v30, v01, v11, v21, v31, v02, v12, v22, v32, v03, v13, v23, v33 ] );\r\n}\r\n\r\nfunction vec2( a, b ) {\r\n    return new Float32Array( [ a, b ] );\r\n}\r\n\r\nfunction vec3( a, b, c ) {\r\n    return new Float32Array( [ a, b, c ] );\r\n}\r\n\r\nfunction vec4( a, b, c, d ) {\r\n    return new Float32Array( [ a, b, c, d ] );\r\n}\r\n\r\nvar MUL = {\r\n    m4m4: function ( a, b, result ) {\r\n        result = result || new Float32Array( 4 );\r\n        result[ 0 ] = a[ 0 ] * b[ 0 ] + a[ 2 ] * b[ 1 ];\r\n        result[ 1 ] = a[ 1 ] * b[ 0 ] + a[ 3 ] * b[ 1 ];\r\n        result[ 2 ] = a[ 0 ] * b[ 2 ] + a[ 2 ] * b[ 3 ];\r\n        result[ 3 ] = a[ 1 ] * b[ 2 ] + a[ 3 ] * b[ 3 ];\r\n        return result;\r\n    },\r\n    m9m9: function ( a, b, result ) {\r\n        result = result || new Float32Array( 9 );\r\n        result[ 0 ] = a[ 0 ] * b[ 0 ] + a[ 3 ] * b[ 1 ] + a[ 6 ] * b[ 2 ];\r\n        result[ 1 ] = a[ 1 ] * b[ 0 ] + a[ 4 ] * b[ 1 ] + a[ 7 ] * b[ 2 ];\r\n        result[ 2 ] = a[ 2 ] * b[ 0 ] + a[ 5 ] * b[ 1 ] + a[ 8 ] * b[ 2 ];\r\n        result[ 3 ] = a[ 0 ] * b[ 3 ] + a[ 3 ] * b[ 4 ] + a[ 6 ] * b[ 5 ];\r\n        result[ 4 ] = a[ 1 ] * b[ 3 ] + a[ 4 ] * b[ 4 ] + a[ 7 ] * b[ 5 ];\r\n        result[ 5 ] = a[ 2 ] * b[ 3 ] + a[ 5 ] * b[ 4 ] + a[ 8 ] * b[ 5 ];\r\n        result[ 6 ] = a[ 0 ] * b[ 6 ] + a[ 3 ] * b[ 7 ] + a[ 6 ] * b[ 8 ];\r\n        result[ 7 ] = a[ 1 ] * b[ 6 ] + a[ 4 ] * b[ 7 ] + a[ 7 ] * b[ 8 ];\r\n        result[ 8 ] = a[ 2 ] * b[ 6 ] + a[ 5 ] * b[ 7 ] + a[ 8 ] * b[ 8 ];\r\n        return result;\r\n    },\r\n    m16m16: function ( a, b, result ) {\r\n        result = result || new Float32Array( 16 );\r\n        result[ 0 ] = a[ 0 ] * b[ 0 ] + a[ 4 ] * b[ 1 ] + a[ 8 ] * b[ 2 ] + a[ 12 ] * b[ 3 ];\r\n        result[ 1 ] = a[ 1 ] * b[ 0 ] + a[ 5 ] * b[ 1 ] + a[ 9 ] * b[ 2 ] + a[ 13 ] * b[ 3 ];\r\n        result[ 2 ] = a[ 2 ] * b[ 0 ] + a[ 6 ] * b[ 1 ] + a[ 10 ] * b[ 2 ] + a[ 14 ] * b[ 3 ];\r\n        result[ 3 ] = a[ 3 ] * b[ 0 ] + a[ 7 ] * b[ 1 ] + a[ 11 ] * b[ 2 ] + a[ 15 ] * b[ 3 ];\r\n        result[ 4 ] = a[ 0 ] * b[ 4 ] + a[ 4 ] * b[ 5 ] + a[ 8 ] * b[ 6 ] + a[ 12 ] * b[ 7 ];\r\n        result[ 5 ] = a[ 1 ] * b[ 4 ] + a[ 5 ] * b[ 5 ] + a[ 9 ] * b[ 6 ] + a[ 13 ] * b[ 7 ];\r\n        result[ 6 ] = a[ 2 ] * b[ 4 ] + a[ 6 ] * b[ 5 ] + a[ 10 ] * b[ 6 ] + a[ 14 ] * b[ 7 ];\r\n        result[ 7 ] = a[ 3 ] * b[ 4 ] + a[ 7 ] * b[ 5 ] + a[ 11 ] * b[ 6 ] + a[ 15 ] * b[ 7 ];\r\n        result[ 8 ] = a[ 0 ] * b[ 8 ] + a[ 4 ] * b[ 9 ] + a[ 8 ] * b[ 10 ] + a[ 12 ] * b[ 11 ];\r\n        result[ 9 ] = a[ 1 ] * b[ 8 ] + a[ 5 ] * b[ 9 ] + a[ 9 ] * b[ 10 ] + a[ 13 ] * b[ 11 ];\r\n        result[ 10 ] = a[ 2 ] * b[ 8 ] + a[ 6 ] * b[ 9 ] + a[ 10 ] * b[ 10 ] + a[ 14 ] * b[ 11 ];\r\n        result[ 11 ] = a[ 3 ] * b[ 8 ] + a[ 7 ] * b[ 9 ] + a[ 11 ] * b[ 10 ] + a[ 15 ] * b[ 11 ];\r\n        result[ 12 ] = a[ 0 ] * b[ 12 ] + a[ 4 ] * b[ 13 ] + a[ 8 ] * b[ 14 ] + a[ 12 ] * b[ 15 ];\r\n        result[ 13 ] = a[ 1 ] * b[ 12 ] + a[ 5 ] * b[ 13 ] + a[ 9 ] * b[ 14 ] + a[ 13 ] * b[ 15 ];\r\n        result[ 14 ] = a[ 2 ] * b[ 12 ] + a[ 6 ] * b[ 13 ] + a[ 10 ] * b[ 14 ] + a[ 14 ] * b[ 15 ];\r\n        result[ 15 ] = a[ 3 ] * b[ 12 ] + a[ 7 ] * b[ 13 ] + a[ 11 ] * b[ 14 ] + a[ 15 ] * b[ 15 ];\r\n        return result;\r\n    },\r\n    m16m4: function ( a, b, result ) {\r\n        result = result || new Float32Array( 4 );\r\n        result[ 0 ] = a[ 0 ] * b[ 0 ] + a[ 4 ] * b[ 1 ] + a[ 8 ] * b[ 2 ] + a[ 12 ] * b[ 3 ];\r\n        result[ 1 ] = a[ 1 ] * b[ 0 ] + a[ 5 ] * b[ 1 ] + a[ 9 ] * b[ 2 ] + a[ 13 ] * b[ 3 ];\r\n        result[ 2 ] = a[ 2 ] * b[ 0 ] + a[ 6 ] * b[ 1 ] + a[ 10 ] * b[ 2 ] + a[ 14 ] * b[ 3 ];\r\n        result[ 3 ] = a[ 3 ] * b[ 0 ] + a[ 7 ] * b[ 1 ] + a[ 11 ] * b[ 2 ] + a[ 15 ] * b[ 3 ];\r\n        return result;\r\n    }\r\n};\r\n\r\nfunction mul( a, b, result ) {\r\n    var f = MUL[ 'm' + a.length + 'm' + b.length ];\r\n    if ( typeof f !== 'function' ) {\r\n        throw Error( \"[webgl.math.mul] I don't know how to multiply 'M\" +\r\n            a.length + \"' with 'M\" + b.length + \"'!\" );\r\n    }\r\n    return f( a, b, result );\r\n}\r\n\r\n\r\nmodule.exports._ = _;\n})"]}