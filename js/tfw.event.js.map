{"version":3,"sources":["tfw.event.js"],"names":["require","module","_","X","D","arguments","intl","all","Event","_list","prototype","add","listener","remove","i","length","push","x","splice","clear","fire","args","Array","slice","call","apply","exports"],"mappings":"aAAwBA,OAAO,CAAE,WAAF,CAAe,SAASA,OAAT,CAAkBC,MAAlB,CAAmC,IAAMC,CAAAA,CAAC,CAAC,UAAU,CAA6C,QAASA,CAAAA,CAAT,EAAY,CAAC,MAAOC,CAAAA,CAAC,CAACC,CAAD,CAAGC,SAAH,CAAe,CAAhF,GAAID,CAAAA,CAAC,CAAC,CAAC,GAAK,EAAN,CAAS,GAAK,EAAd,CAAN,CAAwBD,CAAC,CAACH,OAAO,CAAC,GAAD,CAAP,CAAaM,IAAvC,CAAwF,MAARJ,CAAAA,CAAC,CAACK,GAAF,CAAMH,CAAE,CAAOF,CAAE,CAA5G,EAAR,CAK7EM,KAAK,CAAG,UAAW,CACnB,KAAKC,KAAL,CAAa,EAChB,CAPgF,CAejFD,KAAK,CAACE,SAAN,CAAgBC,GAAhB,CAAsB,SAASC,QAAT,CAAmB,CACrC,GAAwB,UAApB,QAAOA,CAAAA,QAAX,CAAoC,SACpC,KAAKC,MAAL,CAAYD,QAAZ,CAFqC,CAGrC,IAAK,GAAIE,CAAAA,CAAC,CAAG,CAAb,CAAiBA,CAAC,CAAG,KAAKL,KAAL,CAAWM,MAAhC,CAAyCD,CAAC,EAA1C,CACI,GAAIF,QAAQ,GAAK,KAAKH,KAAtB,CAA8B,SAGlC,MADA,MAAKA,KAAL,CAAWO,IAAX,CAAiBJ,QAAjB,CACA,GACH,CAvBgF,CA8BjFJ,KAAK,CAACE,SAAN,CAAgBG,MAAhB,CAAyB,SAASD,QAAT,CAAmB,CACxC,GAAwB,UAApB,QAAOA,CAAAA,QAAX,CAAoC,SACpC,IAAK,GACGK,CAAAA,CADH,CAAIH,CAAC,CAAG,CAAb,CAAiBA,CAAC,CAAG,KAAKL,KAAL,CAAWM,MAAhC,CAAyCD,CAAC,EAA1C,CAEI,GADIG,CACJ,CADQ,KAAKR,KACb,CAAIG,QAAQ,GAAKK,CAAjB,CAEI,MADA,MAAKR,KAAL,CAAWS,MAAX,CAAkBJ,CAAlB,CAAqB,CAArB,CACA,IAGR,QACH,CAxCgF,CA6CjFN,KAAK,CAACE,SAAN,CAAgBS,KAAhB,CAAwB,UAAW,CAC/B,KAAKV,KAAL,CAAa,EAChB,CA/CgF,CAoDjFD,KAAK,CAACE,SAAN,CAAgBU,IAAhB,CAAuB,UAAW,CAC9B,GAAIN,CAAAA,CAAJ,CAAOF,QAAP,CACIS,IAAI,CAAGC,KAAK,CAACZ,SAAN,CAAgBa,KAAhB,CAAsBC,IAAtB,CAA4BnB,SAA5B,CADX,CAEA,IAAKS,CAAC,CAAG,CAAT,CAAaA,CAAC,CAAG,KAAKL,KAAL,CAAWM,MAA5B,CAAqCD,CAAC,EAAtC,CAEI,GADAF,QAAQ,CAAG,KAAKH,KAAL,CAAWK,CAAX,CACX,CAAI,KAAUF,QAAQ,CAACa,KAAT,CAAeb,QAAf,CAAyBS,IAAzB,CAAd,CAA8C,SAElD,QACH,CA5DgF,CA+DjFpB,MAAM,CAACyB,OAAP,CAAiBlB,KA/DgE,CAmEjFP,MAAM,CAACyB,OAAP,CAAexB,CAAf,CAAmBA,CAClB,CApE8B,C","sourcesContent":["/** @module tfw.event */require( 'tfw.event', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   /**\r\n * Gestion d'une liste de fonctions devant réagir à des événements.\r\n * @class\r\n */\r\nvar Event = function() {\r\n    this._list = [];\r\n};\r\n\r\n/**\r\n * Ajouter un __listener__ à la liste.\r\n * @param listener{function} Fonction à appeler quand l'énément est déclenché.\r\n * @return false  si le __listener__  n'a pas été ajouté  (parce qu'il\r\n * existe déjà ou parce qu'il n'est pas une fonction).\r\n */\r\nEvent.prototype.add = function(listener) {\r\n    if (typeof listener !== 'function') return false;\r\n    this.remove(listener);\r\n    for (var i = 0 ; i < this._list.length ; i++) {\r\n        if( listener === this._list ) return false;\r\n    }\r\n    this._list.push( listener );\r\n    return true;\r\n};\r\n\r\n/**\r\n * Supprimer le __listener__ de la liste.\r\n * @param listener{function} Fonction à appeler quand l'événement est déclenché.\r\n * @return false si le __listener__  n'existe pas.\r\n */\r\nEvent.prototype.remove = function(listener) {\r\n    if (typeof listener !== 'function') return false;\r\n    for (var i = 0 ; i < this._list.length ; i++) {\r\n        var x = this._list;\r\n        if( listener === x ) {\r\n            this._list.splice(i, 1);            \r\n            return true;\r\n        }\r\n    }\r\n    return false;\r\n};\r\n\r\n/**\r\n * Supprimer tous les __event__ de la liste.\r\n */\r\nEvent.prototype.clear = function() {\r\n    this._list = [];\r\n};\r\n\r\n/**\r\n * Emettre l'événement. Si un listener retourne ```false```, on n'appelle pas les event suivants.\r\n */\r\nEvent.prototype.fire = function() {\r\n    var i, listener,\r\n        args = Array.prototype.slice.call( arguments );\r\n    for (i = 0 ; i < this._list.length ; i++) {\r\n        listener = this._list[i];\r\n        if (false === listener.apply(listener, args)) return false;\r\n    }    \r\n    return true;\r\n};\r\n\r\n\r\nmodule.exports = Event;\r\n\r\n\r\n\r\nmodule.exports._ = _;\n})"]}