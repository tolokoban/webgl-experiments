{"version":3,"sources":["dom.theme.js"],"names":["require","module","exports","_","D","X","intl","arguments","all","register","registerTheme","apply","applyTheme","Color","THEME_COLOR_NAMES","THEMES","css","current","themeName","style","completeWithDefaultValues","codeCSS","codeVariables","codeBackground","codeElevation","codeText","styleElement","document","createElement","getElementsByTagName","appendChild","textContent","depth","forEach","colorName","bgClass","fgClass","position","piecesFG","piecesSVG","piecesBG","index","push","pop","join","isNaN","parseInt","luminance","bg2","elevationColor","addAlpha","white","Math","ceil","black","elevation","name","target","body","console","error","removeClass","addClass","bg0","bg1","bg3","bgP","bgPD","dark","bgPL","light","bgS","bgSD","bgSL","bg","color","percent","darkColor","rgb2hsl","L","hsl2rgb","stringify","lightColor","alpha","length"],"mappings":";;AAAA;AAAwBA,OAAO,CAAE,WAAF,EAAe,UAASA,OAAT,EAAkBC,MAAlB,EAA0BC,OAA1B,EAAmC;AAAE,MAAIC,CAAC,GAAC,YAAU;AAAC,QAAIC,CAAC,GAAC;AAAC,YAAK,EAAN;AAAS,YAAK;AAAd,KAAN;AAAA,QAAwBC,CAAC,GAACL,OAAO,CAAC,GAAD,CAAP,CAAaM,IAAvC;;AAA4C,aAASH,CAAT,GAAY;AAAC,aAAOE,CAAC,CAACD,CAAD,EAAGG,SAAH,CAAR;AAAuB;;AAAAJ,IAAAA,CAAC,CAACK,GAAF,GAAMJ,CAAN;AAAQ,WAAOD,CAAP;AAAS,GAA5G,EAAN;;AAChF;AAEH;;;;;AAGAD,EAAAA,OAAO,CAACO,QAAR,GAAmBC,aAAnB;AACAR,EAAAA,OAAO,CAACS,KAAR,GAAgBC,UAAhB,CAPiF,CAUjF;;AAGA,MAAMC,KAAK,GAAGb,OAAO,CAAE,WAAF,CAArB;;AAEA,MACIc,iBAAiB,GAAG,CAAE,GAAF,EAAO,GAAP,EAAY,GAAZ,EAAiB,GAAjB,EAAsB,GAAtB,EAA2B,IAA3B,EAAiC,IAAjC,EAAuC,GAAvC,EAA4C,IAA5C,EAAkD,IAAlD,CADxB;AAAA,MAEIC,MAAM,GAAG;AACLC,IAAAA,GAAG,EAAE,EADA;AAELC,IAAAA,OAAO,EAAE;AAFJ,GAFb;;AASA,WAASP,aAAT,CAAwBQ,SAAxB,EAAmCC,KAAnC,EAA2C;AACvCA,IAAAA,KAAK,GAAGC,yBAAyB,CAAED,KAAF,CAAjC;AAEA,QAAIE,OAAO,GAAGC,aAAa,CAAEJ,SAAF,EAAaC,KAAb,CAA3B;AACAE,IAAAA,OAAO,IAAIE,cAAc,CAAEL,SAAF,EAAaC,KAAb,CAAzB;AACAE,IAAAA,OAAO,IAAIG,aAAa,CAAEN,SAAF,EAAaC,KAAb,CAAxB;AACAE,IAAAA,OAAO,IAAII,QAAQ,CAAEP,SAAF,EAAaC,KAAb,CAAnB;AAEA,QAAIO,YAAY,GAAGX,MAAM,CAACC,GAAP,CAAYE,SAAZ,CAAnB;;AACA,QAAK,CAACQ,YAAN,EAAqB;AACjBA,MAAAA,YAAY,GAAGC,QAAQ,CAACC,aAAT,CAAwB,OAAxB,CAAf;AACAD,MAAAA,QAAQ,CAACE,oBAAT,CAA+B,MAA/B,EAAyC,CAAzC,EAA6CC,WAA7C,CAA0DJ,YAA1D;AACAX,MAAAA,MAAM,CAACC,GAAP,CAAYE,SAAZ,IAA0BQ,YAA1B;AACH;;AAEDA,IAAAA,YAAY,CAACK,WAAb,GAA2BV,OAA3B;AAEA,WAAO,IAAP;AACH;;AAED,WAASI,QAAT,CAAmBP,SAAnB,EAA8BC,KAA9B,EAAsC;AAClC,QAAIE,OAAO,GAAG,EAAd;;AACA,SAAM,IAAIW,KAAK,GAAG,CAAlB,EAAqBA,KAAK,IAAI,EAA9B,EAAkCA,KAAK,EAAvC,EAA4C;AACxClB,MAAAA,iBAAiB,CAACmB,OAAlB,CAA2B,UAAWC,SAAX,EAAuB;AAC9C,YAAIC,OAAO,GAAG,YAAYD,SAA1B;AACA,YAAIE,OAAO,GAAG,YAAYF,SAA1B;;AACA,aAAM,IAAIG,QAAQ,GAAG,CAArB,EAAwBA,QAAQ,IAAIL,KAApC,EAA2CK,QAAQ,EAAnD,EAAwD;AACpD,cAAIC,QAAQ,GAAG,EAAf;AACA,cAAIC,SAAS,GAAG,EAAhB;AACA,cAAIC,QAAQ,GAAG,EAAf;;AACA,eAAM,IAAIC,KAAK,GAAG,CAAlB,EAAqBA,KAAK,IAAIT,KAA9B,EAAqCS,KAAK,EAA1C,EAA+C;AAC3CD,YAAAA,QAAQ,CAACE,IAAT,CAAeL,QAAQ,KAAKI,KAAb,GAAqBN,OAArB,GAA+B,GAA9C;AACAI,YAAAA,SAAS,CAACG,IAAV,CAAgBL,QAAQ,KAAKI,KAAb,GAAqBN,OAArB,GAA+B,GAA/C;AACAG,YAAAA,QAAQ,CAACI,IAAT,CAAeL,QAAQ,KAAKI,KAAb,GAAqBL,OAArB,GAA+B,GAA9C;;AACA,gBAAKK,KAAK,KAAKT,KAAf,EAAuB;AACnBQ,cAAAA,QAAQ,CAACE,IAAT,CAAeF,QAAQ,CAACG,GAAT,KAAiB,SAAhC;AACAL,cAAAA,QAAQ,CAACI,IAAT,CAAeJ,QAAQ,CAACK,GAAT,KAAiBP,OAAhC;AACH;AACJ;;AACDf,UAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,GAAhC,GACPsB,QAAQ,CAACI,IAAT,CAAe,KAAf,CADO,GAEP,YAFO,GAEQzB,KAAK,CAAE,OAAOe,SAAT,CAFb,GAEoC,MAF/C;AAGAb,UAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,GAAhC,GACPoB,QAAQ,CAACM,IAAT,CAAe,KAAf,CADO,GAEP,YAFO,GAEQzB,KAAK,CAAE,OAAOe,SAAT,CAFb,GAEoC,MAF/C;AAGAb,UAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,GAAhC,GACPqB,SAAS,CAACK,IAAV,CAAgB,KAAhB,CADO,GAEP,iBAFO,GAGP,WAHO,GAGOzB,KAAK,CAAE,OAAOe,SAAT,CAHZ,GAGmC,MAH9C;AAIAb,UAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,GAAhC,GACPqB,SAAS,CAACK,IAAV,CAAgB,KAAhB,CADO,GAEP,mBAFO,GAGP,aAHO,GAGSzB,KAAK,CAAE,OAAOe,SAAT,CAHd,GAGqC,MAHhD;AAIH;AACJ,OA/BD;AAgCH;;AACD,WAAOb,OAAP;AACH;;AAED,WAASC,aAAT,CAAwBJ,SAAxB,EAAmCC,KAAnC,EAA2C;AACvC,QAAIE,OAAO,GAAG,oBAAoBH,SAApB,GAAgC,KAA9C;AACAJ,IAAAA,iBAAiB,CAACmB,OAAlB,CAA2B,UAAWC,SAAX,EAAuB;AAC9Cb,MAAAA,OAAO,IAAI,eAAea,SAAf,GAA2B,IAA3B,GAAkCf,KAAK,CAAE,OAAOe,SAAT,CAAvC,GAA8D,KAAzE;AACH,KAFD;AAGAb,IAAAA,OAAO,IAAI,KAAX;AACA,WAAOA,OAAP;AACH;;AAGD,WAASE,cAAT,CAAyBL,SAAzB,EAAoCC,KAApC,EAA4C;AACxC,QAAIE,OAAO,GAAG,EAAd;AACAP,IAAAA,iBAAiB,CAACmB,OAAlB,CAA2B,UAAWC,SAAX,EAAuB;AAC9Cb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,SAAhC,GAA4CgB,SAA5C,GACP,uBADO,GACmBf,KAAK,CAAE,OAAOe,SAAT,CADxB,GAC+C,MAD1D;AAEAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,UAAhC,GAA6CgB,SAA7C,GACP,YADO,GACQf,KAAK,CAAE,OAAOe,SAAT,CADb,GACoC,MAD/C;AAEAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,UAAhC,GAA6CgB,SAA7C,GACP,uBADO,GACmBf,KAAK,CAAE,OAAOe,SAAT,CADxB,GAC+C,MAD1D;AAEAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,UAAhC,GAA6CgB,SAA7C,GAAyD,SAAzD,GACP,wCADO,GAEPf,KAAK,CAAE,OAAOe,SAAT,CAFE,GAEqB,mBAFhC;AAGAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,UAAhC,GAA6CgB,SAA7C,GAAyD,MAAzD,GACP,2CADO,GAEPf,KAAK,CAAE,OAAOe,SAAT,CAFE,GAEqB,mBAFhC;AAGAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,UAAhC,GAA6CgB,SAA7C,GAAyD,OAAzD,GACP,0CADO,GAEPf,KAAK,CAAE,OAAOe,SAAT,CAFE,GAEqB,mBAFhC;AAGAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,UAAhC,GAA6CgB,SAA7C,GAAyD,QAAzD,GACP,yCADO,GAEPf,KAAK,CAAE,OAAOe,SAAT,CAFE,GAEqB,mBAFhC;AAIA,UAAK,CAACW,KAAK,CAAEC,QAAQ,CAAEZ,SAAF,CAAV,CAAX,EAAuC;AACvCb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,gBAAhC,GAAmDgB,SAAnD,GACP,WADO,GAEPf,KAAK,CAAE,OAAOe,SAAT,CAFE,GAEqB,MAFhC;AAGAb,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,kBAAhC,GAAqDgB,SAArD,GACP,aADO,GAEPf,KAAK,CAAE,OAAOe,SAAT,CAFE,GAEqB,MAFhC;AAGH,KA3BD;AA4BA,WAAOb,OAAP;AACH;;AAED,WAASG,aAAT,CAAwBN,SAAxB,EAAmCC,KAAnC,EAA2C;AACvC,QAAI4B,SAAS,GAAGlC,KAAK,CAACkC,SAAN,CAAiB5B,KAAK,CAAC6B,GAAvB,CAAhB;AACA,QAAIC,cAAc,GAAGF,SAAS,GAAG,EAAZ,GACjBG,QAAQ,CAAE/B,KAAK,CAACgC,KAAR,EAAeC,IAAI,CAACC,IAAL,CAAW,KAAKN,SAAhB,CAAf,CADS,GACsCG,QAAQ,CAAE/B,KAAK,CAACmC,KAAR,EAAe,GAAf,CADnE;AAEA,QAAIjC,OAAO,GAAG,EAAd;AACA,KAAE,CAAF,EAAK,CAAL,EAAQ,CAAR,EAAW,CAAX,EAAc,CAAd,EAAiB,CAAjB,EAAoB,CAApB,EAAuB,CAAvB,EAA0B,EAA1B,EAA8B,EAA9B,EAAkC,EAAlC,EAAuCY,OAAvC,CAAgD,UAAWsB,SAAX,EAAuB;AACnElC,MAAAA,OAAO,IAAI,oBAAoBH,SAApB,GAAgC,WAAhC,GAA8CqC,SAA9C,GAA0D,MAA1D,GACP,kBADO,GACcA,SADd,GAC0B,KAD1B,GACoC,IAAIA,SADxC,GACsD,KADtD,GAC8DN,cAD9D,GAC+E,IAD/E,GAEP,KAFJ;AAGH,KAJD;AAKA,WAAO5B,OAAP;AACH;;AAED,WAAST,UAAT,CAAqB4C,IAArB,EAA2BC,MAA3B,EAAoC;AAChC,QAAK,OAAOA,MAAP,KAAkB,WAAvB,EAAqCA,MAAM,GAAG9B,QAAQ,CAAC+B,IAAlB;;AAErC,QAAK,CAAC3C,MAAM,CAACC,GAAP,CAAYwC,IAAZ,CAAN,EAA2B;AACvBG,MAAAA,OAAO,CAACC,KAAR,CAAe,sCAAf,EAAuDJ,IAAvD;AACA;AACH;;AACD,QAAIE,IAAI,GAAG/B,QAAQ,CAAC+B,IAApB;;AACA,QAAK,OAAO3C,MAAM,CAACE,OAAd,KAA0B,QAA/B,EAA0C;AACtC,WAAK4C,WAAL,CAAkBH,IAAlB,EAAwB,eAAe3C,MAAM,CAACE,OAA9C;AACH;;AACDF,IAAAA,MAAM,CAACE,OAAP,GAAiBuC,IAAjB;AACA,SAAKM,QAAL,CAAeJ,IAAf,EAAqB,eAAe3C,MAAM,CAACE,OAA3C;AACH;;AAED,WAASG,yBAAT,CAAoCD,KAApC,EAA4C;AACxC,QAAK,OAAOA,KAAP,KAAiB,WAAtB,EAAoCA,KAAK,GAAG,EAAR;AACpC,QAAK,OAAOA,KAAK,CAAC4C,GAAb,KAAqB,QAA1B,EAAqC5C,KAAK,CAAC4C,GAAN,GAAY,SAAZ;AACrC,QAAK,OAAO5C,KAAK,CAAC6C,GAAb,KAAqB,QAA1B,EAAqC7C,KAAK,CAAC6C,GAAN,GAAY,SAAZ;AACrC,QAAK,OAAO7C,KAAK,CAAC6B,GAAb,KAAqB,QAA1B,EAAqC7B,KAAK,CAAC6B,GAAN,GAAY,SAAZ;AACrC,QAAK,OAAO7B,KAAK,CAAC8C,GAAb,KAAqB,QAA1B,EAAqC9C,KAAK,CAAC8C,GAAN,GAAY,MAAZ;AAErC,QAAK,OAAO9C,KAAK,CAAC+C,GAAb,KAAqB,QAA1B,EAAqC/C,KAAK,CAAC+C,GAAN,GAAY,SAAZ;AACrC,QAAK,OAAO/C,KAAK,CAACgD,IAAb,KAAsB,QAA3B,EAAsChD,KAAK,CAACgD,IAAN,GAAaC,IAAI,CAAEjD,KAAK,CAAC+C,GAAR,CAAjB;AACtC,QAAK,OAAO/C,KAAK,CAACkD,IAAb,KAAsB,QAA3B,EAAsClD,KAAK,CAACkD,IAAN,GAAaC,KAAK,CAAEnD,KAAK,CAAC+C,GAAR,CAAlB;AACtC,QAAK,OAAO/C,KAAK,CAACoD,GAAb,KAAqB,QAA1B,EAAqCpD,KAAK,CAACoD,GAAN,GAAY,SAAZ;AACrC,QAAK,OAAOpD,KAAK,CAACqD,IAAb,KAAsB,QAA3B,EAAsCrD,KAAK,CAACqD,IAAN,GAAaJ,IAAI,CAAEjD,KAAK,CAACoD,GAAR,CAAjB;AACtC,QAAK,OAAOpD,KAAK,CAACsD,IAAb,KAAsB,QAA3B,EAAsCtD,KAAK,CAACsD,IAAN,GAAaH,KAAK,CAAEnD,KAAK,CAACoD,GAAR,CAAlB;AAEtC,QAAK,OAAOpD,KAAK,CAACgC,KAAb,KAAuB,WAA5B,EAA0ChC,KAAK,CAACgC,KAAN,GAAc,MAAd;AAC1C,QAAK,OAAOhC,KAAK,CAACmC,KAAb,KAAuB,WAA5B,EAA0CnC,KAAK,CAACmC,KAAN,GAAc,MAAd;AAG1CxC,IAAAA,iBAAiB,CAACmB,OAAlB,CAA2B,UAAWuB,IAAX,EAAkB;AACzC,UAAIkB,EAAE,GAAGvD,KAAK,CAAE,OAAOqC,IAAT,CAAd;AACA,UAAIT,SAAS,GAAGlC,KAAK,CAACkC,SAAN,CAAiB2B,EAAjB,CAAhB;AACAvD,MAAAA,KAAK,CAAE,OAAOqC,IAAT,CAAL,GAAuBT,SAAS,GAAG,EAAZ,GAAiB5B,KAAK,CAACgC,KAAvB,GAA+BhC,KAAK,CAACmC,KAA5D;AACH,KAJD;AAMA,WAAOnC,KAAP;AACH;;AAED,WAASiD,IAAT,CAAeO,KAAf,EAAuB;AACnB,QAAIC,OAAO,GAAG,GAAd;AACA,QAAIC,SAAS,GAAG,IAAIhE,KAAJ,CAAW8D,KAAX,CAAhB;AACAE,IAAAA,SAAS,CAACC,OAAV;AACAD,IAAAA,SAAS,CAACE,CAAV,IAAe,IAAIH,OAAnB;AACAC,IAAAA,SAAS,CAACG,OAAV;AACA,WAAOH,SAAS,CAACI,SAAV,EAAP;AACH;;AAED,WAASX,KAAT,CAAgBK,KAAhB,EAAwB;AACpB,QAAIC,OAAO,GAAG,EAAd;AACA,QAAIM,UAAU,GAAG,IAAIrE,KAAJ,CAAW8D,KAAX,CAAjB;AACAO,IAAAA,UAAU,CAACJ,OAAX;AACAI,IAAAA,UAAU,CAACH,CAAX,GAAeH,OAAO,GAAG,CAAE,IAAIA,OAAN,IAAkBM,UAAU,CAACH,CAAtD;AACAG,IAAAA,UAAU,CAACF,OAAX;AACA,WAAOE,UAAU,CAACD,SAAX,EAAP;AACH;AAGD;;;;;;AAIA,WAAS/B,QAAT,CAAmByB,KAAnB,EAA0BQ,KAA1B,EAAkC;AAC9B,QAAKR,KAAK,CAACS,MAAN,GAAe,CAApB,EAAwB,OAAOT,KAAK,GAAGQ,KAAf;AACxB,WAAOR,KAAK,GAAGQ,KAAR,GAAgBA,KAAvB;AACH;;AAGDlF,EAAAA,MAAM,CAACC,OAAP,CAAeC,CAAf,GAAmBA,CAAnB;AACC,CAnN8B,CAAP","sourcesContent":["/** @module dom.theme */require( 'dom.theme', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\n/**\r\n * Manage material design like CSS styles.\r\n */\r\nexports.register = registerTheme;\r\nexports.apply = applyTheme;\r\n\r\n\r\n//################################################################################\r\n\r\n\r\nconst Color = require( \"tfw.color\" );\r\n\r\nconst\r\n    THEME_COLOR_NAMES = [ \"0\", \"1\", \"2\", \"3\", \"P\", \"PD\", \"PL\", \"S\", \"SD\", \"SL\" ],\r\n    THEMES = {\r\n        css: {},\r\n        current: null\r\n    };\r\n\r\n\r\n\r\nfunction registerTheme( themeName, style ) {\r\n    style = completeWithDefaultValues( style );\r\n\r\n    var codeCSS = codeVariables( themeName, style );\r\n    codeCSS += codeBackground( themeName, style );\r\n    codeCSS += codeElevation( themeName, style );\r\n    codeCSS += codeText( themeName, style );\r\n\r\n    var styleElement = THEMES.css[ themeName ];\r\n    if ( !styleElement ) {\r\n        styleElement = document.createElement( \"style\" );\r\n        document.getElementsByTagName( 'head' )[ 0 ].appendChild( styleElement );\r\n        THEMES.css[ themeName ] = styleElement;\r\n    }\r\n\r\n    styleElement.textContent = codeCSS;\r\n\r\n    return this;\r\n}\r\n\r\nfunction codeText( themeName, style ) {\r\n    var codeCSS = '';\r\n    for ( var depth = 1; depth <= 10; depth++ ) {\r\n        THEME_COLOR_NAMES.forEach( function ( colorName ) {\r\n            var bgClass = \".thm-bg\" + colorName;\r\n            var fgClass = \".thm-fg\" + colorName;\r\n            for ( var position = 1; position <= depth; position++ ) {\r\n                var piecesFG = [];\r\n                var piecesSVG = [];\r\n                var piecesBG = [];\r\n                for ( var index = 1; index <= depth; index++ ) {\r\n                    piecesBG.push( position === index ? bgClass : '*' );\r\n                    piecesSVG.push( position === index ? bgClass : '*' );\r\n                    piecesFG.push( position === index ? fgClass : '*' );\r\n                    if ( index === depth ) {\r\n                        piecesBG.push( piecesBG.pop() + \".thm-fg\" );\r\n                        piecesFG.push( piecesFG.pop() + fgClass );\r\n                    }\r\n                }\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesBG.join( \" > \" ) +\r\n                    \" { color: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesFG.join( \" > \" ) +\r\n                    \" { color: \" + style[ 'bg' + colorName ] + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesSVG.join( \" > \" ) +\r\n                    \" .thm-svg-fill0\" +\r\n                    \" { fill: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesSVG.join( \" > \" ) +\r\n                    \" .thm-svg-stroke0\" +\r\n                    \" { stroke: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n            }\r\n        } );\r\n    }\r\n    return codeCSS;\r\n}\r\n\r\nfunction codeVariables( themeName, style ) {\r\n    var codeCSS = \"body.dom-theme-\" + themeName + '{\\n';\r\n    THEME_COLOR_NAMES.forEach( function ( colorName ) {\r\n        codeCSS += \"  --thm-bg\" + colorName + \": \" + style[ 'bg' + colorName ] + \";\\n\";\r\n    } );\r\n    codeCSS += \"}\\n\";\r\n    return codeCSS;\r\n}\r\n\r\n\r\nfunction codeBackground( themeName, style ) {\r\n    var codeCSS = '';\r\n    THEME_COLOR_NAMES.forEach( function ( colorName ) {\r\n        codeCSS += \"body.dom-theme-\" + themeName + \".thm-bg\" + colorName +\r\n            \" { background-color: \" + style[ 'bg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-fg\" + colorName +\r\n            \" { color: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName +\r\n            \" { background-color: \" + style[ 'bg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-bottom\" +\r\n            \" { background: linear-gradient(to top,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-top\" +\r\n            \" { background: linear-gradient(to bottom,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-left\" +\r\n            \" { background: linear-gradient(to right,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-right\" +\r\n            \" { background: linear-gradient(to left,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n\r\n        if ( !isNaN( parseInt( colorName ) ) ) return;\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-fill\" + colorName +\r\n            \" { fill: \" +\r\n            style[ 'bg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-stroke\" + colorName +\r\n            \" { stroke: \" +\r\n            style[ 'bg' + colorName ] + \" }\\n\";\r\n    } );\r\n    return codeCSS;\r\n}\r\n\r\nfunction codeElevation( themeName, style ) {\r\n    var luminance = Color.luminance( style.bg2 );\r\n    var elevationColor = luminance < .6 ?\r\n        addAlpha( style.white, Math.ceil( 10 * luminance ) ) : addAlpha( style.black, '6' );\r\n    var codeCSS = '';\r\n    [ 0, 1, 2, 3, 4, 6, 8, 9, 12, 16, 24 ].forEach( function ( elevation ) {\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-ele\" + elevation + \" {\\n\" +\r\n            \"  box-shadow: 0 \" + elevation + \"px \" + ( 2 * elevation ) + \"px \" + elevationColor + \"\\n\" +\r\n            \"}\\n\";\r\n    } );\r\n    return codeCSS;\r\n}\r\n\r\nfunction applyTheme( name, target ) {\r\n    if ( typeof target === 'undefined' ) target = document.body;\r\n\r\n    if ( !THEMES.css[ name ] ) {\r\n        console.error( \"This theme has not been registered: \", name );\r\n        return;\r\n    }\r\n    var body = document.body;\r\n    if ( typeof THEMES.current === 'string' ) {\r\n        this.removeClass( body, \"dom-theme-\" + THEMES.current );\r\n    }\r\n    THEMES.current = name;\r\n    this.addClass( body, \"dom-theme-\" + THEMES.current );\r\n}\r\n\r\nfunction completeWithDefaultValues( style ) {\r\n    if ( typeof style === 'undefined' ) style = {};\r\n    if ( typeof style.bg0 !== 'string' ) style.bg0 = \"#E0E0E0\";\r\n    if ( typeof style.bg1 !== 'string' ) style.bg1 = \"#F5F5F5\";\r\n    if ( typeof style.bg2 !== 'string' ) style.bg2 = \"#FAFAFA\";\r\n    if ( typeof style.bg3 !== 'string' ) style.bg3 = \"#FFF\";\r\n\r\n    if ( typeof style.bgP !== 'string' ) style.bgP = \"#3E50B4\";\r\n    if ( typeof style.bgPD !== 'string' ) style.bgPD = dark( style.bgP );\r\n    if ( typeof style.bgPL !== 'string' ) style.bgPL = light( style.bgP );\r\n    if ( typeof style.bgS !== 'string' ) style.bgS = \"#FF3F80\";\r\n    if ( typeof style.bgSD !== 'string' ) style.bgSD = dark( style.bgS );\r\n    if ( typeof style.bgSL !== 'string' ) style.bgSL = light( style.bgS );\r\n\r\n    if ( typeof style.white === 'undefined' ) style.white = '#fff';\r\n    if ( typeof style.black === 'undefined' ) style.black = '#000';\r\n\r\n\r\n    THEME_COLOR_NAMES.forEach( function ( name ) {\r\n        var bg = style[ 'bg' + name ];\r\n        var luminance = Color.luminance( bg );\r\n        style[ 'fg' + name ] = luminance < .6 ? style.white : style.black;\r\n    } );\r\n\r\n    return style;\r\n}\r\n\r\nfunction dark( color ) {\r\n    var percent = .25;\r\n    var darkColor = new Color( color );\r\n    darkColor.rgb2hsl();\r\n    darkColor.L *= 1 - percent;\r\n    darkColor.hsl2rgb();\r\n    return darkColor.stringify();\r\n}\r\n\r\nfunction light( color ) {\r\n    var percent = .4;\r\n    var lightColor = new Color( color );\r\n    lightColor.rgb2hsl();\r\n    lightColor.L = percent + ( 1 - percent ) * lightColor.L;\r\n    lightColor.hsl2rgb();\r\n    return lightColor.stringify();\r\n}\r\n\r\n\r\n/**\r\n * @param {string} color - RGB color in format #xxx or #xxxxxx.\r\n * @param {string} alpha - Single char between 0 and F.\r\n */\r\nfunction addAlpha( color, alpha ) {\r\n    if ( color.length < 5 ) return color + alpha;\r\n    return color + alpha + alpha;\r\n}\r\n\r\n\r\nmodule.exports._ = _;\n})"]}