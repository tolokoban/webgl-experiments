{"version":3,"sources":["dom.theme.js"],"names":["require","module","exports","codeText","themeName","style","codeCSS","depth","THEME_COLOR_NAMES","forEach","colorName","bgClass","fgClass","position","piecesFG","piecesSVG","piecesBG","index","push","pop","join","codeVariables","codeBackground","isNaN","parseInt","codeElevation","luminance","Color","bg2","elevationColor","addAlpha","white","Math","ceil","black","elevation","completeWithDefaultValues","bg0","bg1","bg3","bgP","bgPD","dark","bgPL","light","bgS","bgSD","bgSL","name","bg","color","darkColor","rgb2hsl","L","hsl2rgb","stringify","percent","lightColor","alpha","length","_","X","D","arguments","intl","all","register","styleElement","THEMES","css","document","createElement","getElementsByTagName","appendChild","textContent","apply","target","body","console","error","current","removeClass","addClass"],"mappings":"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","sourcesContent":["/** @module dom.theme */require( 'dom.theme', function(require, module, exports) { var _=function(){var D={\"en\":{},\"fr\":{}},X=require(\"$\").intl;function _(){return X(D,arguments);}_.all=D;return _}();\r\n   \"use strict\";\r\n\r\n/**\r\n * Manage material design like CSS styles.\r\n */\r\nexports.register = registerTheme;\r\nexports.apply = applyTheme;\r\n\r\n\r\n//################################################################################\r\n\r\n\r\nconst Color = require( \"tfw.color\" );\r\n\r\nconst\r\n    THEME_COLOR_NAMES = [ \"0\", \"1\", \"2\", \"3\", \"P\", \"PD\", \"PL\", \"S\", \"SD\", \"SL\" ],\r\n    THEMES = {\r\n        css: {},\r\n        current: null\r\n    };\r\n\r\n\r\n\r\nfunction registerTheme( themeName, style ) {\r\n    style = completeWithDefaultValues( style );\r\n\r\n    var codeCSS = codeVariables( themeName, style );\r\n    codeCSS += codeBackground( themeName, style );\r\n    codeCSS += codeElevation( themeName, style );\r\n    codeCSS += codeText( themeName, style );\r\n\r\n    var styleElement = THEMES.css[ themeName ];\r\n    if ( !styleElement ) {\r\n        styleElement = document.createElement( \"style\" );\r\n        document.getElementsByTagName( 'head' )[ 0 ].appendChild( styleElement );\r\n        THEMES.css[ themeName ] = styleElement;\r\n    }\r\n\r\n    styleElement.textContent = codeCSS;\r\n\r\n    return this;\r\n}\r\n\r\nfunction codeText( themeName, style ) {\r\n    var codeCSS = '';\r\n    for ( var depth = 1; depth <= 10; depth++ ) {\r\n        THEME_COLOR_NAMES.forEach( function ( colorName ) {\r\n            var bgClass = \".thm-bg\" + colorName;\r\n            var fgClass = \".thm-fg\" + colorName;\r\n            for ( var position = 1; position <= depth; position++ ) {\r\n                var piecesFG = [];\r\n                var piecesSVG = [];\r\n                var piecesBG = [];\r\n                for ( var index = 1; index <= depth; index++ ) {\r\n                    piecesBG.push( position === index ? bgClass : '*' );\r\n                    piecesSVG.push( position === index ? bgClass : '*' );\r\n                    piecesFG.push( position === index ? fgClass : '*' );\r\n                    if ( index === depth ) {\r\n                        piecesBG.push( piecesBG.pop() + \".thm-fg\" );\r\n                        piecesFG.push( piecesFG.pop() + fgClass );\r\n                    }\r\n                }\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesBG.join( \" > \" ) +\r\n                    \" { color: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesFG.join( \" > \" ) +\r\n                    \" { color: \" + style[ 'bg' + colorName ] + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesSVG.join( \" > \" ) +\r\n                    \" .thm-svg-fill0\" +\r\n                    \" { fill: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n                codeCSS += \"body.dom-theme-\" + themeName + \" \" +\r\n                    piecesSVG.join( \" > \" ) +\r\n                    \" .thm-svg-stroke0\" +\r\n                    \" { stroke: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n            }\r\n        } );\r\n    }\r\n    return codeCSS;\r\n}\r\n\r\nfunction codeVariables( themeName, style ) {\r\n    var codeCSS = \"body.dom-theme-\" + themeName + '{\\n';\r\n    THEME_COLOR_NAMES.forEach( function ( colorName ) {\r\n        codeCSS += \"  --thm-bg\" + colorName + \": \" + style[ 'bg' + colorName ] + \";\\n\";\r\n    } );\r\n    codeCSS += \"}\\n\";\r\n    return codeCSS;\r\n}\r\n\r\n\r\nfunction codeBackground( themeName, style ) {\r\n    var codeCSS = '';\r\n    THEME_COLOR_NAMES.forEach( function ( colorName ) {\r\n        codeCSS += \"body.dom-theme-\" + themeName + \".thm-bg\" + colorName +\r\n            \" { background-color: \" + style[ 'bg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-fg\" + colorName +\r\n            \" { color: \" + style[ 'fg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName +\r\n            \" { background-color: \" + style[ 'bg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-bottom\" +\r\n            \" { background: linear-gradient(to top,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-top\" +\r\n            \" { background: linear-gradient(to bottom,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-left\" +\r\n            \" { background: linear-gradient(to right,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-bg\" + colorName + \"-right\" +\r\n            \" { background: linear-gradient(to left,\" +\r\n            style[ 'bg' + colorName ] + \",transparent) }\\n\";\r\n\r\n        if ( !isNaN( parseInt( colorName ) ) ) return;\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-fill\" + colorName +\r\n            \" { fill: \" +\r\n            style[ 'bg' + colorName ] + \" }\\n\";\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-svg-stroke\" + colorName +\r\n            \" { stroke: \" +\r\n            style[ 'bg' + colorName ] + \" }\\n\";\r\n    } );\r\n    return codeCSS;\r\n}\r\n\r\nfunction codeElevation( themeName, style ) {\r\n    var luminance = Color.luminance( style.bg2 );\r\n    var elevationColor = luminance < .6 ?\r\n        addAlpha( style.white, Math.ceil( 10 * luminance ) ) : addAlpha( style.black, '6' );\r\n    var codeCSS = '';\r\n    [ 0, 1, 2, 3, 4, 6, 8, 9, 12, 16, 24 ].forEach( function ( elevation ) {\r\n        codeCSS += \"body.dom-theme-\" + themeName + \" .thm-ele\" + elevation + \" {\\n\" +\r\n            \"  box-shadow: 0 \" + elevation + \"px \" + ( 2 * elevation ) + \"px \" + elevationColor + \"\\n\" +\r\n            \"}\\n\";\r\n    } );\r\n    return codeCSS;\r\n}\r\n\r\nfunction applyTheme( name, target ) {\r\n    if ( typeof target === 'undefined' ) target = document.body;\r\n\r\n    if ( !THEMES.css[ name ] ) {\r\n        console.error( \"This theme has not been registered: \", name );\r\n        return;\r\n    }\r\n    var body = document.body;\r\n    if ( typeof THEMES.current === 'string' ) {\r\n        this.removeClass( body, \"dom-theme-\" + THEMES.current );\r\n    }\r\n    THEMES.current = name;\r\n    this.addClass( body, \"dom-theme-\" + THEMES.current );\r\n}\r\n\r\nfunction completeWithDefaultValues( style ) {\r\n    if ( typeof style === 'undefined' ) style = {};\r\n    if ( typeof style.bg0 !== 'string' ) style.bg0 = \"#E0E0E0\";\r\n    if ( typeof style.bg1 !== 'string' ) style.bg1 = \"#F5F5F5\";\r\n    if ( typeof style.bg2 !== 'string' ) style.bg2 = \"#FAFAFA\";\r\n    if ( typeof style.bg3 !== 'string' ) style.bg3 = \"#FFF\";\r\n\r\n    if ( typeof style.bgP !== 'string' ) style.bgP = \"#3E50B4\";\r\n    if ( typeof style.bgPD !== 'string' ) style.bgPD = dark( style.bgP );\r\n    if ( typeof style.bgPL !== 'string' ) style.bgPL = light( style.bgP );\r\n    if ( typeof style.bgS !== 'string' ) style.bgS = \"#FF3F80\";\r\n    if ( typeof style.bgSD !== 'string' ) style.bgSD = dark( style.bgS );\r\n    if ( typeof style.bgSL !== 'string' ) style.bgSL = light( style.bgS );\r\n\r\n    if ( typeof style.white === 'undefined' ) style.white = '#fff';\r\n    if ( typeof style.black === 'undefined' ) style.black = '#000';\r\n\r\n\r\n    THEME_COLOR_NAMES.forEach( function ( name ) {\r\n        var bg = style[ 'bg' + name ];\r\n        var luminance = Color.luminance( bg );\r\n        style[ 'fg' + name ] = luminance < .6 ? style.white : style.black;\r\n    } );\r\n\r\n    return style;\r\n}\r\n\r\nfunction dark( color ) {\r\n    var percent = .25;\r\n    var darkColor = new Color( color );\r\n    darkColor.rgb2hsl();\r\n    darkColor.L *= 1 - percent;\r\n    darkColor.hsl2rgb();\r\n    return darkColor.stringify();\r\n}\r\n\r\nfunction light( color ) {\r\n    var percent = .4;\r\n    var lightColor = new Color( color );\r\n    lightColor.rgb2hsl();\r\n    lightColor.L = percent + ( 1 - percent ) * lightColor.L;\r\n    lightColor.hsl2rgb();\r\n    return lightColor.stringify();\r\n}\r\n\r\n\r\n/**\r\n * @param {string} color - RGB color in format #xxx or #xxxxxx.\r\n * @param {string} alpha - Single char between 0 and F.\r\n */\r\nfunction addAlpha( color, alpha ) {\r\n    if ( color.length < 5 ) return color + alpha;\r\n    return color + alpha + alpha;\r\n}\r\n\r\n\r\nmodule.exports._ = _;\n})"]}