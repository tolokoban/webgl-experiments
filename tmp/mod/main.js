{"intl":"var _intl_={\"en\":{\"welcome\":\"Welcome in the world of\"},\"fr\":{\"welcome\":\"Bienvenue dans le monde de\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\r\n","src":"window['#main']=function(exports,module){ var _intl_={\"en\":{\"welcome\":\"Welcome in the world of\"},\"fr\":{\"welcome\":\"Bienvenue dans le monde de\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\r\n var Cube = require(\"taquin.cube\");\r\n\r\nvar W = Math.min( window.innerWidth, window.innerHeight );\r\nvar H = W;\r\nvar scene = new THREE.Scene();\r\nvar camera = new THREE.PerspectiveCamera( 75, W / H, 0.1, 1000 );\r\nvar renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize( W, H );\r\ndocument.body.appendChild( renderer.domElement );\r\n\r\n\r\nvar selectedCube = null;\r\nvar nextSelectedCube = null;\r\nvar actions = [];\r\n\r\nvar mouse = { x: 0, y: 0 };\r\nrenderer.domElement.addEventListener('mousemove', function(event) {\r\n    mouse.x = ( event.clientX / W ) * 2 - 1;\r\n    mouse.y = - ( event.clientY / H ) * 2 + 1;\r\n});\r\nrenderer.domElement.addEventListener('mousedown', function(event) {\r\n    actions.push(\"MOUSEDOWN\");\r\n});\r\nrenderer.domElement.addEventListener('touchstart', function(event) {\r\n    mouse.x = ( event.clientX / W ) * 2 - 1;\r\n    mouse.y = - ( event.clientY / H ) * 2 + 1;\r\n    actions.push(\"MOUSEDOWN\");\r\n});\r\n\r\n\r\nvar material, material2 = new THREE.MeshPhongMaterial({\r\n    color: 0xff0000,\r\n    specular: 0x333333,\r\n    shininess: 15,\r\n    map: null,\r\n    specularMap: null,\r\n    normalMap: null\r\n});\r\n\r\nvar light1 = new THREE.DirectionalLight( 0xdddddd, 0.8 );\r\nvar light2 = new THREE.DirectionalLight( 0x9999ff, 0.5 );\r\nvar group = new THREE.Group();\r\n\r\nscene.add( group );\r\nscene.add( light1 );\r\nscene.add( light2 );\r\n\r\nvar x, y, z, cube;\r\nfor (x=0 ; x<3 ; x++) {\r\n    for (y=0 ; y<3 ; y++) {\r\n        for (z=0 ; z<3 ; z++) {\r\n            cube = Cube(x, y, z);\r\n            group.add(cube);\r\n        }\r\n    }\r\n}\r\nmaterial = cube.material;\r\n\r\ncamera.position.z = 5;\r\nlight1.position.set(3,0,5);\r\nlight2.position.set(-1,2,4);\r\n\r\nfunction render(time) {\r\n    group.rotation.x = time / 3000;\r\n    group.rotation.y = time / 3111;\r\n\r\n/*\r\n    var raycaster = new THREE.Raycaster();\r\n    var vector = new THREE.Vector3( mouse.x, mouse.y, 1 ).unproject( camera );\r\n    raycaster.set( camera.position, vector.sub( camera.position ).normalize() );\r\n    var intersects = raycaster.intersectObjects( group.children );\r\n    \r\n    nextSelectedCube = intersects.length > 0 ? intersects[0].object : null;\r\n    if (selectedCube !== nextSelectedCube) {\r\n        if (selectedCube) selectedCube.material = material;\r\n        selectedCube = nextSelectedCube;\r\n        if (selectedCube) selectedCube.material = material2;\r\n    }\r\n    \r\n    while (actions.length > 0) {\r\n        actions.pop();\r\n        if (selectedCube) {\r\n            group.remove(selectedCube);\r\n        }\r\n    }\r\n*/\r\n    requestAnimationFrame( render );\r\n    renderer.render( scene, camera );\r\n}\r\nrequestAnimationFrame( render );\r\n }\r\n","zip":"window[\"#main\"]=function(e,n){function i(e){p.rotation.x=e/3e3,p.rotation.y=e/3111,requestAnimationFrame(i),l.render(a,d)}var t=(require(\"$\").intl,require(\"taquin.cube\")),o=Math.min(window.innerWidth,window.innerHeight),r=o,a=new THREE.Scene,d=new THREE.PerspectiveCamera(75,o/r,.1,1e3),l=new THREE.WebGLRenderer;l.setSize(o,r),document.body.appendChild(l.domElement);var s=[],u={x:0,y:0};l.domElement.addEventListener(\"mousemove\",function(e){u.x=e.clientX/o*2-1,u.y=2*-(e.clientY/r)+1}),l.domElement.addEventListener(\"mousedown\",function(e){s.push(\"MOUSEDOWN\")}),l.domElement.addEventListener(\"touchstart\",function(e){u.x=e.clientX/o*2-1,u.y=2*-(e.clientY/r)+1,s.push(\"MOUSEDOWN\")});var E,m=(new THREE.MeshPhongMaterial({color:16711680,specular:3355443,shininess:15,map:null,specularMap:null,normalMap:null}),new THREE.DirectionalLight(14540253,.8)),c=new THREE.DirectionalLight(10066431,.5),p=new THREE.Group;a.add(p),a.add(m),a.add(c);var w,h,v,f;for(w=0;3>w;w++)for(h=0;3>h;h++)for(v=0;3>v;v++)f=t(w,h,v),p.add(f);E=f.material,d.position.z=5,m.position.set(3,0,5),c.position.set(-1,2,4),requestAnimationFrame(i)};\n//# sourceMappingURL=main.js.map","map":{"version":3,"file":"main.js.map","sources":["main.js"],"sourcesContent":["window['#main']=function(exports,module){ var _intl_={\"en\":{\"welcome\":\"Welcome in the world of\"},\"fr\":{\"welcome\":\"Bienvenue dans le monde de\"}},_$=require(\"$\").intl;function _(){return _$(_intl_, arguments);}\r\n var Cube = require(\"taquin.cube\");\r\n\r\nvar W = Math.min( window.innerWidth, window.innerHeight );\r\nvar H = W;\r\nvar scene = new THREE.Scene();\r\nvar camera = new THREE.PerspectiveCamera( 75, W / H, 0.1, 1000 );\r\nvar renderer = new THREE.WebGLRenderer();\r\nrenderer.setSize( W, H );\r\ndocument.body.appendChild( renderer.domElement );\r\n\r\n\r\nvar selectedCube = null;\r\nvar nextSelectedCube = null;\r\nvar actions = [];\r\n\r\nvar mouse = { x: 0, y: 0 };\r\nrenderer.domElement.addEventListener('mousemove', function(event) {\r\n    mouse.x = ( event.clientX / W ) * 2 - 1;\r\n    mouse.y = - ( event.clientY / H ) * 2 + 1;\r\n});\r\nrenderer.domElement.addEventListener('mousedown', function(event) {\r\n    actions.push(\"MOUSEDOWN\");\r\n});\r\nrenderer.domElement.addEventListener('touchstart', function(event) {\r\n    mouse.x = ( event.clientX / W ) * 2 - 1;\r\n    mouse.y = - ( event.clientY / H ) * 2 + 1;\r\n    actions.push(\"MOUSEDOWN\");\r\n});\r\n\r\n\r\nvar material, material2 = new THREE.MeshPhongMaterial({\r\n    color: 0xff0000,\r\n    specular: 0x333333,\r\n    shininess: 15,\r\n    map: null,\r\n    specularMap: null,\r\n    normalMap: null\r\n});\r\n\r\nvar light1 = new THREE.DirectionalLight( 0xdddddd, 0.8 );\r\nvar light2 = new THREE.DirectionalLight( 0x9999ff, 0.5 );\r\nvar group = new THREE.Group();\r\n\r\nscene.add( group );\r\nscene.add( light1 );\r\nscene.add( light2 );\r\n\r\nvar x, y, z, cube;\r\nfor (x=0 ; x<3 ; x++) {\r\n    for (y=0 ; y<3 ; y++) {\r\n        for (z=0 ; z<3 ; z++) {\r\n            cube = Cube(x, y, z);\r\n            group.add(cube);\r\n        }\r\n    }\r\n}\r\nmaterial = cube.material;\r\n\r\ncamera.position.z = 5;\r\nlight1.position.set(3,0,5);\r\nlight2.position.set(-1,2,4);\r\n\r\nfunction render(time) {\r\n    group.rotation.x = time / 3000;\r\n    group.rotation.y = time / 3111;\r\n\r\n/*\r\n    var raycaster = new THREE.Raycaster();\r\n    var vector = new THREE.Vector3( mouse.x, mouse.y, 1 ).unproject( camera );\r\n    raycaster.set( camera.position, vector.sub( camera.position ).normalize() );\r\n    var intersects = raycaster.intersectObjects( group.children );\r\n    \r\n    nextSelectedCube = intersects.length > 0 ? intersects[0].object : null;\r\n    if (selectedCube !== nextSelectedCube) {\r\n        if (selectedCube) selectedCube.material = material;\r\n        selectedCube = nextSelectedCube;\r\n        if (selectedCube) selectedCube.material = material2;\r\n    }\r\n    \r\n    while (actions.length > 0) {\r\n        actions.pop();\r\n        if (selectedCube) {\r\n            group.remove(selectedCube);\r\n        }\r\n    }\r\n*/\r\n    requestAnimationFrame( render );\r\n    renderer.render( scene, camera );\r\n}\r\nrequestAnimationFrame( render );\r\n }\r\n"],"names":["window","exports","module","render","time","group","rotation","x","y","requestAnimationFrame","renderer","scene","camera","Cube","require","intl","W","Math","min","innerWidth","innerHeight","H","THREE","Scene","PerspectiveCamera","WebGLRenderer","setSize","document","body","appendChild","domElement","actions","mouse","addEventListener","event","clientX","clientY","push","material","light1","MeshPhongMaterial","color","specular","shininess","map","specularMap","normalMap","DirectionalLight","light2","Group","add","z","cube","position","set"],"mappings":"AAAAA,OAAO,SAAS,SAASC,EAAQC,GA+DjC,QAASC,GAAOC,GACZC,EAAMC,SAASC,EAAIH,EAAO,IAC1BC,EAAMC,SAASE,EAAIJ,EAAO,KAsB1BK,sBAAuBN,GACvBO,EAASP,OAAQQ,EAAOC,GAxFc,GACrCC,IAD8IC,QAAQ,KAAKC,KACpJD,QAAQ,gBAEhBE,EAAIC,KAAKC,IAAKlB,OAAOmB,WAAYnB,OAAOoB,aACxCC,EAAIL,EACJL,EAAQ,GAAIW,OAAMC,MAClBX,EAAS,GAAIU,OAAME,kBAAmB,GAAIR,EAAIK,EAAG,GAAK,KACtDX,EAAW,GAAIY,OAAMG,aACzBf,GAASgB,QAASV,EAAGK,GACrBM,SAASC,KAAKC,YAAanB,EAASoB,WAGpC,IAEIC,MAEAC,GAAUzB,EAAG,EAAGC,EAAG,EACvBE,GAASoB,WAAWG,iBAAiB,YAAa,SAASC,GACvDF,EAAMzB,EAAM2B,EAAMC,QAAUnB,EAAM,EAAI,EACtCgB,EAAMxB,EAA8B,IAAtB0B,EAAME,QAAUf,GAAU,IAE5CX,EAASoB,WAAWG,iBAAiB,YAAa,SAASC,GACvDH,EAAQM,KAAK,eAEjB3B,EAASoB,WAAWG,iBAAiB,aAAc,SAASC,GACxDF,EAAMzB,EAAM2B,EAAMC,QAAUnB,EAAM,EAAI,EACtCgB,EAAMxB,EAA8B,IAAtB0B,EAAME,QAAUf,GAAU,EACxCU,EAAQM,KAAK,cAIjB,IAAIC,GASAC,GATsB,GAAIjB,OAAMkB,mBAChCC,MAAO,SACPC,SAAU,QACVC,UAAW,GACXC,IAAK,KACLC,YAAa,KACbC,UAAW,OAGF,GAAIxB,OAAMyB,iBAAkB,SAAU,KAC/CC,EAAS,GAAI1B,OAAMyB,iBAAkB,SAAU,IAC/C1C,EAAQ,GAAIiB,OAAM2B,KAEtBtC,GAAMuC,IAAK7C,GACXM,EAAMuC,IAAKX,GACX5B,EAAMuC,IAAKF,EAEX,IAAIzC,GAAGC,EAAG2C,EAAGC,CACb,KAAK7C,EAAE,EAAM,EAAFA,EAAMA,IACb,IAAKC,EAAE,EAAM,EAAFA,EAAMA,IACb,IAAK2C,EAAE,EAAM,EAAFA,EAAMA,IACbC,EAAOvC,EAAKN,EAAGC,EAAG2C,GAClB9C,EAAM6C,IAAIE,EAItBd,GAAWc,EAAKd,SAEhB1B,EAAOyC,SAASF,EAAI,EACpBZ,EAAOc,SAASC,IAAI,EAAE,EAAE,GACxBN,EAAOK,SAASC,IAAI,GAAG,EAAE,GA6BzB7C,sBAAuBN"},"dependencies":["$","taquin.cube"]}