{"output":{"innerCSS":{"*, .dom, .dom * {\n    -webkit-box-sizing: border-box;\n    -moz-box-sizing: border-box;\n    box-sizing: border-box;\n    margin: .5em;\n}\n\nhtml, body {\n    height: 100%;\n    margin: 0;\n    padding: 0;\n    font-family: Josefin Sans;\n    font-size: 19px;\n    background: #cfd8dc;\n}\n\nsection, nav {\n    padding: 1rem;\n    margin: 1rem;\n    display: inline-block;\n    vertical-align: top;\n    max-width: 1000px;\n}\n\nstrong, b, em, i {\n    display: inline;\n    margin: 0;\n    padding: 0;\n}\n\nbody.theme-webgl .theme-label {\n    color: rgba(0,0,0,.8);\n    font-family: sans-serif;\n    white-space: nowrap;\n    text-overflow: ellipsis;\n    font-variant: small-caps;\n    line-height: 1rem;\n    font-size: .8rem;\n    padding: 0 .5rem;\n    margin: 0;\n    text-align: left;\n    vertical-align: middle;\n}\n\nbody.theme-webgl .theme-info {\n    color: #000;\n    background: #fff;\n    margin: .5rem;\n    padding: 1rem;\n    text-align: justify;\n    box-shadow: 0 0 1px rgba(0,0,0,.4);\n}\n\n/* Elevations: https://material.google.com/what-is-material/elevation-shadows.html#elevation-shadows-elevation-android- */\n\nbody.theme-webgl .theme-elevation-0 {\n    box-shadow: none;\n    z-index: 0;\n}\n\nbody.theme-webgl .theme-elevation-1 {\n    box-shadow: 0 .5px 1px rgba(0,0,0,.4);\n    transform: translateY(-.5px);\n    z-index: 1;\n}\n\nbody.theme-webgl .theme-elevation-2 {\n    box-shadow: 0 1px 2px rgba(0,0,0,.4);\n    transform: translateY(-1px);\n    z-index: 2;\n}\n\nbody.theme-webgl .theme-elevation-3 {\n    box-shadow: 0 1.5px 3px rgba(0,0,0,.4);\n    transform: translateY(-1.5px);\n    z-index: 3;\n}\n\nbody.theme-webgl .theme-elevation-4 {\n    box-shadow: 0 2px 4px rgba(0,0,0,.4);\n    transform: translateY(-2px);\n    z-index: 4;\n}\n\nbody.theme-webgl .theme-elevation-6 {\n    box-shadow: 0 3px 6px rgba(0,0,0,.4);\n    transform: translateY(-3px);\n    z-index: 6;\n}\n\nbody.theme-webgl .theme-elevation-8 {\n    box-shadow: 0 4px 8px rgba(0,0,0,.4);\n    transform: translateY(-4px);\n    z-index: 8;\n}\n\nbody.theme-webgl .theme-elevation-9 {\n    box-shadow: 0 4.5px 9px rgba(0,0,0,.4);\n    transform: translateY(-4.5px);\n    z-index: 9;\n}\n\nbody.theme-webgl .theme-elevation-12 {\n    box-shadow: 0 6px 12px rgba(0,0,0,.4);\n    transform: translateY(-6px);\n    z-index: 12;\n}\n\nbody.theme-webgl .theme-elevation-16 {\n    box-shadow: 0 8px 16px rgba(0,0,0,.4);\n    transform: translateY(-8px);\n    z-index: 16;\n}\n\nbody.theme-webgl .theme-elevation-18 {\n    box-shadow: 0 9px 18px rgba(0,0,0,.4);\n    transform: translateY(-9px);\n    z-index: 18;\n}\n\nbody.theme-webgl .theme-elevation-24 {\n    box-shadow: 0 12px 24px rgba(0,0,0,.4);\n    transform: translateY(-12px);\n    z-index: 24;\n}\n\n/* main */\nbody.theme-webgl .theme-color-bg-0{background-color: #EEFFFF}\nbody.theme-webgl .theme-color-0{color: #EEFFFF}\nbody.theme-webgl .theme-color-bg-1{background-color: #DDF5F8}\nbody.theme-webgl .theme-color-1{color: #DDF5F8}\nbody.theme-webgl .theme-color-bg-2{background-color: #CCEBF1}\nbody.theme-webgl .theme-color-2{color: #CCEBF1}\nbody.theme-webgl .theme-color-bg-3{background-color: #BBE0EB}\nbody.theme-webgl .theme-color-3{color: #BBE0EB}\nbody.theme-webgl .theme-color-bg-4{background-color: #AAD6E4}\nbody.theme-webgl .theme-color-4{color: #AAD6E4}\nbody.theme-webgl .theme-color-bg-5{background-color: #99ccdd}\nbody.theme-webgl .theme-color-5{color: #99ccdd}\nbody.theme-webgl .theme-color-bg-6{background-color: #7AB8CC}\nbody.theme-webgl .theme-color-6{color: #7AB8CC}\nbody.theme-webgl .theme-color-bg-7{background-color: #5CA3BB}\nbody.theme-webgl .theme-color-7{color: #5CA3BB}\nbody.theme-webgl .theme-color-bg-8{background-color: #3D8FAA}\nbody.theme-webgl .theme-color-8{color: #3D8FAA}\nbody.theme-webgl .theme-color-bg-9{background-color: #1F7A99}\nbody.theme-webgl .theme-color-9{color: #1F7A99}\nbody.theme-webgl .theme-color-bg-10{background-color: #006688}\nbody.theme-webgl .theme-color-10{color: #006688}\n/* accent */\nbody.theme-webgl .theme-color-bg-A0{background-color: #FFFFCC}\nbody.theme-webgl .theme-color-A0{color: #FFFFCC}\nbody.theme-webgl .theme-color-bg-A1{background-color: #FFE7A3}\nbody.theme-webgl .theme-color-A1{color: #FFE7A3}\nbody.theme-webgl .theme-color-bg-A2{background-color: #FFCF7A}\nbody.theme-webgl .theme-color-A2{color: #FFCF7A}\nbody.theme-webgl .theme-color-bg-A3{background-color: #FFB852}\nbody.theme-webgl .theme-color-A3{color: #FFB852}\nbody.theme-webgl .theme-color-bg-A4{background-color: #FFA029}\nbody.theme-webgl .theme-color-A4{color: #FFA029}\nbody.theme-webgl .theme-color-bg-A5{background-color: #ff8800}\nbody.theme-webgl .theme-color-A5{color: #ff8800}\nbody.theme-webgl .theme-color-bg-A6{background-color: #F07C00}\nbody.theme-webgl .theme-color-A6{color: #F07C00}\nbody.theme-webgl .theme-color-bg-A7{background-color: #E16F00}\nbody.theme-webgl .theme-color-A7{color: #E16F00}\nbody.theme-webgl .theme-color-bg-A8{background-color: #D16300}\nbody.theme-webgl .theme-color-A8{color: #D16300}\nbody.theme-webgl .theme-color-bg-A9{background-color: #C25600}\nbody.theme-webgl .theme-color-A9{color: #C25600}\nbody.theme-webgl .theme-color-bg-A10{background-color: #B34A00}\nbody.theme-webgl .theme-color-A10{color: #B34A00}\n/* back */\nbody.theme-webgl .theme-color-bg-B0{background-color: #FFFFFF}\nbody.theme-webgl .theme-color-B0{color: #FFFFFF}\nbody.theme-webgl .theme-color-bg-B1{background-color: #F5F7F8}\nbody.theme-webgl .theme-color-B1{color: #F5F7F8}\nbody.theme-webgl .theme-color-bg-B2{background-color: #ECEFF1}\nbody.theme-webgl .theme-color-B2{color: #ECEFF1}\nbody.theme-webgl .theme-color-bg-B3{background-color: #E2E8EA}\nbody.theme-webgl .theme-color-B3{color: #E2E8EA}\nbody.theme-webgl .theme-color-bg-B4{background-color: #D9E0E3}\nbody.theme-webgl .theme-color-B4{color: #D9E0E3}\nbody.theme-webgl .theme-color-bg-B5{background-color: #cfd8dc}\nbody.theme-webgl .theme-color-B5{color: #cfd8dc}\nbody.theme-webgl .theme-color-bg-B6{background-color: #BECACF}\nbody.theme-webgl .theme-color-B6{color: #BECACF}\nbody.theme-webgl .theme-color-bg-B7{background-color: #ACBBC2}\nbody.theme-webgl .theme-color-B7{color: #ACBBC2}\nbody.theme-webgl .theme-color-bg-B8{background-color: #9BADB6}\nbody.theme-webgl .theme-color-B8{color: #9BADB6}\nbody.theme-webgl .theme-color-bg-B9{background-color: #899EA9}\nbody.theme-webgl .theme-color-B9{color: #899EA9}\nbody.theme-webgl .theme-color-bg-B10{background-color: #78909C}\nbody.theme-webgl .theme-color-B10{color: #78909C}\n":1,"pre.highlight {\r\n    position: relative;\r\n    margin: 4px;\r\n    padding: 8px;\r\n    background: #000;\r\n    border: 2px solid #555;\r\n    box-shadow: 0 0 5px #fff;\r\n    color: #ccc;\r\n    border-radius: .5em;\r\n    overflow-x: auto;\r\n}\r\n\r\npre.highlight.js::after {\r\n    content: \"Javascript\";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 4px;\r\n    font-variant: small-fonts;\r\n    opacity: .3;\r\n    color: #fff;\r\n}\r\n\r\npre.highlight .keyword {\r\n    color: #07f;\r\n    font-weight: bold;\r\n}\r\n\r\npre.highlight .keyword2 {\r\n    color: #0ff;\r\n    font-weight: bold;\r\n}\r\n\r\npre.highlight .function {\r\n    color: #fff;\r\n    font-weight: bold;\r\n}\r\n\r\npre.highlight .symbol {\r\n    color: #f08;\r\n}\r\n\r\npre.highlight .operator {\r\n    color: #f80;\r\n}\r\n\r\npre.highlight .comment {\r\n    color: #777;\r\n}\r\n\r\npre.highlight .string {\r\n    color: #0f0;\r\n}\r\n\r\npre.highlight .regexp {\r\n    background: #ff8;\r\n    color: #000;\r\n}\r\n":1,"pre.highlight {\r\n    position: relative;\r\n    margin: 4px;\r\n    padding: 8px;\r\n    background: #000;\r\n    border: 2px solid #555;\r\n    box-shadow: 0 0 5px #fff;\r\n    color: #ccc;\r\n    border-radius: .5em;\r\n    overflow-x: auto;\r\n    font-size: 85%;\r\n}\r\n\r\npre.highlight.js::after {\r\n    content: \"Javascript\";\r\n    position: absolute;\r\n    top: 0;\r\n    right: 0;\r\n    padding: 4px;\r\n    font-variant: small-fonts;\r\n    opacity: .3;\r\n    color: #fff;\r\n}\r\n\r\npre.highlight .keyword {\r\n    color: #07f;\r\n    font-weight: bold;\r\n}\r\n\r\npre.highlight .keyword2 {\r\n    color: #0ff;\r\n    font-weight: bold;\r\n}\r\n\r\npre.highlight .function {\r\n    color: #fff;\r\n    font-weight: bold;\r\n}\r\n\r\npre.highlight .symbol {\r\n    color: #f08;\r\n}\r\n\r\npre.highlight .operator {\r\n    color: #f80;\r\n}\r\n\r\npre.highlight .comment {\r\n    color: #777;\r\n}\r\n\r\npre.highlight .string {\r\n    color: #0f0;\r\n}\r\n\r\npre.highlight .regexp {\r\n    background: #ff8;\r\n    color: #000;\r\n}\r\n":1},"outerCSS":{},"innerJS":{},"require":{"mod/x-widget":1,"mod/wdg.gl0":1},"modules":[],"initJS":{"var W = require('x-widget');":1,"        W('wdg.gl035', 'wdg.gl0', {\n            width: \"240\",\n            height: \"160\"})":1},"postInitJS":{},"include":{"mod/wdg.gl0.js":1,"mod/gl0.vertex.c":1,"mod/gl0.fragment.c":1,"nav.htm":1},"resource":{},"dynamicModules":{},"root":{"children":[{"type":1,"name":"html","children":[{"type":1,"name":"head","children":[{"type":1,"name":"link","attribs":{"href":"https://fonts.googleapis.com/css?family=Josefin+Sans","rel":"stylesheet","type":"text/css"}},{"type":1,"name":"title","attribs":{},"children":[{"type":2,"text":"webgl-experiments"}]},{"type":1,"name":"meta","attribs":{"charset":"utf-8"},"void":true},{"type":1,"name":"meta","attribs":{"name":"viewport","content":"width=device-width, initial-scale=1, maximum-scale=1"},"void":true}]},{"type":1,"name":"body","children":[{"type":1,"name":"section","attribs":{"class":"theme-color-bg-B0 theme-elevation-4"},"children":[{"children":[{"type":1,"name":"h1","attribs":{"id":"comprendre-webgl"},"children":[{"type":2,"text":"Comprendre WebGL"}],"pos":0},{"type":2,"text":"\n"},{"type":1,"name":"h2","attribs":{"id":"introduction"},"children":[{"type":2,"text":"Introduction"}],"pos":48},{"type":2,"text":"\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"WebGL"}],"pos":91},{"type":2,"text":" est une bibliothèque qui permet de faire de l&#39;"},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"Open GL"}],"pos":164},{"type":2,"text":" sur le web. Et l&#39;"},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"Open GL"}],"pos":210},{"type":2,"text":" est une bibliothèque qui permet d&#39;afficher des pixels à l&#39;écran en tirant profit de l&#39;"},{"type":1,"name":"em","attribs":{},"children":[{"type":2,"text":"architecture parallèle"}],"pos":333},{"type":2,"text":" des cartes graphiques."}],"pos":88},{"type":2,"text":"\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"Open GL"}],"pos":395},{"type":2,"text":" est donc à la fois "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"puissante"}],"pos":439},{"type":2,"text":" et "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"complexe"}],"pos":469},{"type":2,"text":"."}],"pos":392},{"type":2,"text":"\n"},{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Commençons par ce qui prendrait trois lignes avec un canvas 2d : le dessin d&#39;un triangle."}],"pos":500},{"type":2,"text":"\n"}]},{"type":1,"name":"div","attribs":{"id":"wdg.gl035","style":"display:none"},"children":[],"pos":428},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"On commence par récupérer le contexte "},{"type":1,"name":"em","attribs":{},"children":[{"type":2,"text":"webgl"}],"pos":41},{"type":2,"text":" d&#39;un canvas :"}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    var gl "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":582},{"type":2,"text":" canvas."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"getContext"}],"pos":621},{"type":2,"text":"("},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"webgl\""}],"pos":662},{"type":2,"text":")\n                "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"||"}],"pos":715},{"type":2,"text":" canvas."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"getContext"}],"pos":755},{"type":2,"text":"("},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"experimental-webgl\""}],"pos":796},{"type":2,"text":");"}],"pos":537},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Ensuite, il faut créer un "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"programme de shading"}],"pos":29},{"type":2,"text":".\nIl s&#39;agit de code, ressemblant fort à du C, qui sera compilé dans la carte graphique et utilisé simultanément par ses nombreux processeurs pour mettre à jour les pixels.\nNous reviendrons un peu plus tard sur cela."}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    var shaderProgram "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":1176},{"type":2,"text":" gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"createProgram"}],"pos":1211},{"type":2,"text":"();\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"attachShader"}],"pos":1269},{"type":2,"text":"(shaderProgram, "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"getVertexShader"}],"pos":1327},{"type":2,"text":"(gl, GLOBAL['vertex']) );\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"attachShader"}],"pos":1409},{"type":2,"text":"(shaderProgram, "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"getFragmentShader"}],"pos":1467},{"type":2,"text":"(gl, GLOBAL['fragment']) );\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"linkProgram"}],"pos":1553},{"type":2,"text":"(shaderProgram);\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"useProgram"}],"pos":1622},{"type":2,"text":"(shaderProgram);"}],"pos":1120},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Nous allons maintenant définir les coordonnées des sommets (vertices) de notre triangle rectangle. Chaque coordonnée est exprimée en trois dimensions."}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    var triangleVerticesBuffer "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":1902},{"type":2,"text":" gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"createBuffer"}],"pos":1937},{"type":2,"text":"();\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"bindBuffer"}],"pos":1994},{"type":2,"text":"(gl.ARRAY_BUFFER, triangleVerticesBuffer);\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"bufferData"}],"pos":2088},{"type":2,"text":"(\n            gl.ARRAY_BUFFER,\n           "},{"type":1,"name":"span","attribs":{"class":"keyword"},"children":[{"type":2,"text":" new"}],"pos":2170},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"Float32Array"}],"pos":2204},{"type":2,"text":"([\n                    "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"-"}],"pos":2269},{"type":2,"text":".8, "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":2304},{"type":2,"text":".8, .0,\n                    "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":2363},{"type":2,"text":".8, "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"-"}],"pos":2398},{"type":2,"text":".8, .0,\n                    "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"-"}],"pos":2457},{"type":2,"text":".8, "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"-"}],"pos":2492},{"type":2,"text":".8, .0\n            ]),\n            gl.STATIC_DRAW\n        );\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"bindBuffer"}],"pos":2595},{"type":2,"text":"(gl.ARRAY_BUFFER, triangleVerticesBuffer);"}],"pos":1837},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Il faut ensuite déclarer un "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"attribut"}],"pos":31},{"type":2,"text":" qui sera utilisé par les shaders.\nL&#39;attribut que nous créons sera nommé "},{"type":1,"name":"code","attribs":{},"children":[{"type":2,"text":"attVertexPosition"}],"pos":133},{"type":2,"text":"."}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    var vertexPositionAttribute "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":2885},{"type":2,"text":" gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"getAttribLocation"}],"pos":2920},{"type":2,"text":"(shaderProgram, "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"attVertexPosition\""}],"pos":2983},{"type":2,"text":");\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"enableVertexAttribArray"}],"pos":3044},{"type":2,"text":"(vertexPositionAttribute);\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"vertexAttribPointer"}],"pos":3135},{"type":2,"text":"(vertexPositionAttribute, 3, gl.FLOAT, false, 0, 0);"}],"pos":2819},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Pour finir, on lance le rendu. D&#39;abord on définit la couleur de fond (un bleu tout simple). Puis on efface l&#39;écran et on dessine un triangle."}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"clearColor"}],"pos":3427},{"type":2,"text":"(0.0, 0.0, 1.0, 1.0);\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"clear"}],"pos":3500},{"type":2,"text":"(gl.COLOR_BUFFER_BIT "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"|"}],"pos":3556},{"type":2,"text":" gl.DEPTH_BUFFER_BIT);\n        gl."},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"drawArrays"}],"pos":3621},{"type":2,"text":"(gl.TRIANGLE_STRIP, 0, 3);"}],"pos":3386},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Vous avez pratiquement tout le code pour faire la même chose. Il ne manque que les shaders qui ont été ici remplacés par "},{"type":1,"name":"code","attribs":{},"children":[{"type":2,"text":"GLOBAL[&#39;vertex&#39;]"}],"pos":124},{"type":2,"text":" et "},{"type":1,"name":"code","attribs":{},"children":[{"type":2,"text":"GLOBAL[&#39;fragment&#39;]"}],"pos":165},{"type":2,"text":". Les voici :"}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    var GLOBAL "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":3921},{"type":2,"text":" {\n      vertex:\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"attribute vec3 attVertexPosition;\""}],"pos":3977},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":4041},{"type":2,"text":"\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"void main() {\""}],"pos":4081},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":4125},{"type":2,"text":"\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"  gl_Position = vec4(\""}],"pos":4165},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":4217},{"type":2,"text":"\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"      attVertexPosition.x, attVertexPosition.y,\""}],"pos":4257},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":4335},{"type":2,"text":"\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"      0.0, 1.0);\""}],"pos":4375},{"type":2,"text":",\n      fragment:\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"void main() {\""}],"pos":4447},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":4491},{"type":2,"text":"\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"  gl_FragColor = vec4(1.0, 0.5, 0.0, 1.0);\""}],"pos":4531},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"+"}],"pos":4604},{"type":2,"text":"\n        "},{"type":1,"name":"span","attribs":{"class":"string"},"children":[{"type":2,"text":"\"}\""}],"pos":4644},{"type":2,"text":"\n    };"}],"pos":3872},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Pour plus de clarté, voici les codes originaux :"}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    attribute vec3 attVertexPosition;\n    "},{"type":1,"name":"span","attribs":{"class":"keyword"},"children":[{"type":2,"text":"\n    void"}],"pos":4815},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"main"}],"pos":4854},{"type":2,"text":"() {\n      gl_Position "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":4911},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"vec4"}],"pos":4943},{"type":2,"text":"(\n          attVertexPosition.x, attVertexPosition.y,\n          0.0, 1.0);\n    }"}],"pos":4739},{"children":[]},{"type":1,"name":"pre","attribs":{"class":"custom highlight js"},"children":[{"type":2,"text":"\n    void "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"main"}],"pos":5107},{"type":2,"text":"() {\n      gl_FragColor "},{"type":1,"name":"span","attribs":{"class":"operator"},"children":[{"type":2,"text":"="}],"pos":5165},{"type":2,"text":" "},{"type":1,"name":"span","attribs":{"class":"function"},"children":[{"type":2,"text":"vec4"}],"pos":5197},{"type":2,"text":"(1.0, 0.5, 0.0, 1.0);\n    }"}],"pos":5064},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"Basiquement, un shader est une fonction "},{"type":1,"name":"code","attribs":{},"children":[{"type":2,"text":"void main()"}],"pos":43},{"type":2,"text":" qui doit mettre à jour des variables."}],"pos":0},{"type":2,"text":"\n"},{"type":1,"name":"ul","attribs":{},"children":[{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":2,"text":"Le "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"vertex shader"}],"pos":122},{"type":2,"text":" est appelé en premier pour chaque point (vertex). Il doit définir la variable "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"gl_Position"}],"pos":231},{"type":2,"text":" qui est un vecteur de dimension 4. Les deux premières coordonnées sont l&#39;abscisse et l&#39;ordonnée du pixel sur l&#39;écran. Mais attention ! Le système de coordonnée de l&#39;écran est particulier. Le point central est (0,0), le point supérieur droit est (+1,+1) et le point inférieur gauche est (-1,-1). Et ceci, quelque soit la taille réalle du canvas."}],"pos":115},{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":2,"text":"Le "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"fragment shader"}],"pos":633},{"type":2,"text":" vient après et il est appelé pour chaque pixel de l&#39;écran. Il doit définir la couleur de ce pixel en mettant à jour la variable "},{"type":1,"name":"strong","attribs":{},"children":[{"type":2,"text":"gl_FragColor"}],"pos":798},{"type":2,"text":" qui est un vecteur de dimension 4 : rouge, vert, bleu et opacité."}],"pos":626},{"type":2,"text":"\n"}],"pos":110},{"type":2,"text":"\n"}]},{"type":1,"name":"hr","attribs":{},"children":[],"pos":6057,"autoclose":true},{"children":[{"type":1,"name":"ul","attribs":{},"children":[{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":2,"text":"Chapitre suivant : "}],"pos":5},{"type":2,"text":"\n"}],"pos":0},{"type":2,"text":"\n"}]},{"type":1,"name":"a","attribs":{"href":"chap1.html"},"children":[{"type":2,"text":"Changer le système de coordonnées 2D"}],"pos":6085},{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":"."}],"pos":0},{"type":2,"text":"\n"}]}]},{"type":1,"name":"nav","attribs":{"class":"theme-color-bg-B2 theme-elevation-2"},"children":[{"children":[{"type":1,"name":"p","attribs":{},"children":[{"type":2,"text":" Sommaire :"}],"pos":0},{"type":2,"text":"\n"},{"type":1,"name":"ul","attribs":{},"children":[{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":1,"name":"a","attribs":{"href":"index.html"},"children":[{"type":2,"text":"Comprendre WebGL"}],"pos":28}],"pos":24},{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":1,"name":"a","attribs":{"href":"chap1.html"},"children":[{"type":2,"text":"Changer le système de coordonnées 2D"}],"pos":79}],"pos":75},{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":1,"name":"a","attribs":{"href":"chap2.html"},"children":[{"type":2,"text":"Vivent les polygones"}],"pos":150}],"pos":146},{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":1,"name":"a","attribs":{"href":"chap3.html"},"children":[{"type":2,"text":"Textures procédurales"}],"pos":205}],"pos":201},{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":1,"name":"a","attribs":{"href":"chap4.html"},"children":[{"type":2,"text":"Animations"}],"pos":261}],"pos":257},{"type":2,"text":"\n"},{"type":1,"name":"li","attribs":{},"children":[{"type":1,"name":"a","attribs":{"href":""},"children":[],"pos":306}],"pos":302},{"type":2,"text":"\n"}],"pos":19},{"type":2,"text":"\n"}]},{"type":2,"text":"\n"}]}],"attribs":{"class":"theme-webgl theme-color-bg-B5"}}],"pos":0}]}}}