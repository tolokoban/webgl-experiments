require("wdg.gl8",function(r,e){function n(){return i(t,arguments)}var t={en:{}},i=require("$").intl,a=require("dom"),o=require("tfw.data-binding"),u=require("tfw.webgl"),f=require("explosive-tp"),l=function(r){var e=a.elem(this,"canvas");o.propInteger(this,"width")(function(r){e.setAttribute("width",r),e.style.width=r+"px"}),o.propInteger(this,"height")(function(r){e.setAttribute("height",r),e.style.height=r+"px"}),o.propBoolean(this,"zindex"),r=o.extend({width:640,height:480,zbuffer:!1},r,this);var n=new u(e),t=n.gl,i=new f(e),l=n.createTextureForFB(512,512),F=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,F),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,l,0),t.bindFramebuffer(t.FRAMEBUFFER,null);var v=t.createBuffer(),R=new Float32Array([-1,-1,0,-1,1,0,1,-1,0,1,1,0]);n.createProgram({vertex:s.vert,fragment:s.frag});n.start(function(r){t.bindFramebuffer(t.FRAMEBUFFER,F),t.clear(t.COLOR_BUFFER_BIT),i.render(r),t.bindFramebuffer(t.FRAMEBUFFER,null),t.clear(t.COLOR_BUFFER_BIT),t.bindBuffer(t.ARRAY_BUFFER,v),t.bufferData(t.ARRAY_BUFFER,R,t.STATIC_DRAW),t.drawArrays(t.TRIANGLE_STRIP,0,4)})};e.exports=l;var s={vert:"// Temps courant en millisecondes\r\nuniform float uniTime;\r\n\r\n// Position en valeurs comprises entre -1.0 et +1.0\r\nattribute vec2 attPosition;\r\n\r\n// Passer les coordonn√©es UV pour la texture.\r\nvarying vec2 varUV;\r\n\r\nvoid main() {\r\n  float x = attPosition.x;\r\n  float y = attPosition.y;\r\n  float z = 0.0;\r\n\r\n  gl_Position = vec4(x, y, z, 1.0 );\r\n\r\n  varUV = vec2( x, y );\r\n}\r\n",frag:"precision mediump float;\r\n\r\n//uniform sampler2D uniTexture;\r\n\r\nvarying vec2 varUV;\r\n\r\nvoid main() {\r\n  //gl_FragColor = texture2D( uniTexture, varUV );\r\n  float u = abs(varUV.u);\r\n  float v = abs(varUV.v);\r\n  gl_FragColor = vec4(u, v, u * v, 1.0);\r\n}\r\n"};e.exports._=n});
//# sourceMappingURL=wdg.gl8.js.map