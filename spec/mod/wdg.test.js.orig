<<<<<<< HEAD
require("wdg.test",function(t,e){function r(){return u(h,arguments)}function n(t){function e(t){r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.drawArrays(r.TRIANGLE_FAN,0,c+2),window.requestAnimationFrame(e)}var r=t.getContext("webgl")||t.getContext("experimental-webgl");console.info("[wdg.gl3] 'fragment-' + this.fragment=...","fragment-"+this.fragment);var n=r.createProgram();r.attachShader(n,o(r,GLOBAL.vertex)),r.attachShader(n,a(r,GLOBAL["fragment-"+this.fragment])),r.linkProgram(n),r.useProgram(n);var i=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,i);for(var h,u,g=t.width,f=t.height,s=[g/2,f/2,0],c=99,d=.45*Math.min(g,f),A=0;A<=c;A++)u=2*Math.PI*A/c,h=d*(.9+.1*Math.cos(7*u)),s.push(g/2+h*Math.cos(u)),s.push(f/2+h*Math.sin(u)),s.push(0);r.bufferData(r.ARRAY_BUFFER,new Float32Array(s),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,i);var m=r.getAttribLocation(n,"attVertexPosition");r.enableVertexAttribArray(m),r.vertexAttribPointer(m,3,r.FLOAT,!1,0,0);var l=r.getUniformLocation(n,"uniWidth"),w=r.getUniformLocation(n,"uniHeight");r.uniform1f(l,t.width),r.uniform1f(w,t.height),r.clearColor(0,0,1,1),window.requestAnimationFrame(e)}function i(t,e,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(r),console.error("An error occurred compiling the shader: "+e.getShaderInfoLog(n)),null)}function a(t,e){return i(t.FRAGMENT_SHADER,t,e)}function o(t,e){return i(t.VERTEX_SHADER,t,e)}var h={en:{}},u=require("$").intl,g=require("dom"),f=require("tfw.data-binding"),s=function(t){var e=g.elem(this,"canvas");f.propInteger(this,"width")(function(t){e.setAttribute("width",t),e.style.width=t+"px"}),f.propInteger(this,"height")(function(t){e.setAttribute("height",t),e.style.height=t+"px"}),f.propString(this,"fragment"),t=f.extend({width:640,height:480,fragment:"a"},t,this),window.setTimeout(n.bind(this,e),20)};e.exports=s,e.exports._=r});
=======
require("wdg.test",function(t,e){function r(){return l(a,arguments)}function n(t,e,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(r),console.error("An error occurred compiling the shader: "+e.getShaderInfoLog(n)),null)}function i(t,e){return n(t.FRAGMENT_SHADER,t,e)}function o(t,e){return n(t.VERTEX_SHADER,t,e)}var a={en:{}},l=require("$").intl,g=require("dom"),c=require("tfw.data-binding"),s=function(t){function e(t){n.clearColor(0,0,0,1),n.clear(n.COLOR_BUFFER_BIT|n.DEPTH_BUFFER_BIT),n.drawArrays(n.POINTS,0,5),window.requestAnimationFrame(e)}var r=g.elem(this,"canvas");c.propInteger(this,"width")(function(t){r.setAttribute("width",t),r.style.width=t+"px"}),c.propInteger(this,"height")(function(t){r.setAttribute("height",t),r.style.height=t+"px"}),t=c.extend({width:640,height:480},t,this);var n=r.getContext("webgl")||r.getContext("experimental-webgl"),a=n.createProgram();n.attachShader(a,o(n,u.vertex)),n.attachShader(a,i(n,u.fragment)),n.linkProgram(a),n.useProgram(a);var l=n.createBuffer();n.bindBuffer(n.ARRAY_BUFFER,l),n.bufferData(n.ARRAY_BUFFER,new Float32Array([-.8,.8,0,.8,-.8,0,.3,-.4,0,0,-0,0,-.8,-.8,0]),n.STATIC_DRAW);var s=n.getAttribLocation(a,"attVertexPosition");n.enableVertexAttribArray(s),n.vertexAttribPointer(s,3,n.FLOAT,!1,0,0),n.enable(n.BLEND),n.blendFunc(n.SRC_ALPHA,n.ONE_MINUS_SRC_ALPHA),n.disable(n.DEPTH_TEST),window.requestAnimationFrame(e)};e.exports=s;var u={vertex:"attribute vec3 attVertexPosition;\n\nvarying vec4 attPosition;\n\nvoid main() {\n  gl_Position = vec4(\n      attVertexPosition.x, attVertexPosition.y,\n      0.0, 1.0);\n  gl_PointSize = 250.0;\n  attPosition = gl_Position;\n}\n",fragment:"precision mediump float;\n\nvarying vec4 attPosition;\n\nvoid main() {\n  float x = gl_PointCoord.x - 0.5;\n  float y = gl_PointCoord.y - 0.5;\n  float r = x*x + y*y;\n\n  if (r > 0.25) {\n    gl_FragColor = vec4( 0.0, 0.0, 0.0, 0.0 );\n  } else {\n    gl_FragColor = vec4( 1.0, gl_PointCoord.x, 0.0, 1.0 );\n  }\n}\n"};e.exports._=r});
>>>>>>> c130950e8584413a2814be5116cd2cfc1e97c58f
//# sourceMappingURL=wdg.test.js.map