<<<<<<< HEAD
require("wdg.test",function(t,e){function r(){return l(g,arguments)}function n(t){function e(t){for(var n=0;n<s;n++)l=t/700+n*Math.PI*2/s,f[3*n+0]=.7*Math.cos(l),f[3*n+1]=.2*Math.sin(l),f[3*n+2]=.7*Math.sin(l);r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,f,r.STATIC_DRAW),r.clearColor(0,0,0,1),r.clear(r.COLOR_BUFFER_BIT|r.DEPTH_BUFFER_BIT),r.drawArrays(r.POINTS,0,s),window.requestAnimationFrame(e)}var r=t.getContext("webgl")||t.getContext("experimental-webgl");console.info("[wdg.gl3] 'fragment-' + this.fragment=...","fragment-"+this.fragment);var n=r.createProgram();r.attachShader(n,a(r,d.vertex)),r.attachShader(n,o(r,d.fragment)),r.linkProgram(n),r.useProgram(n);var i=r.createBuffer();r.bindBuffer(r.ARRAY_BUFFER,i),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-.8,.8,.5,-.6,.6,.4,-.4,.4,.7,-.2,.2,.6,-0,0,.8,.2,-.2,0,.4,-.4,.1,.6,-.6,.3,.8,-.8,.2]),r.STATIC_DRAW);var g=r.getAttribLocation(n,"attVertexPosition");r.enableVertexAttribArray(g),r.vertexAttribPointer(g,3,r.FLOAT,!1,0,0),r.enable(r.BLEND),r.blendFunc(r.SRC_ALPHA,r.ONE_MINUS_SRC_ALPHA),r.disable(r.DEPTH_TEST);var l,s=7,f=new Float32Array(3*s);window.requestAnimationFrame(e)}function i(t,e,r){var n=e.createShader(t);return e.shaderSource(n,r),e.compileShader(n),e.getShaderParameter(n,e.COMPILE_STATUS)?n:(console.log(r),console.error("An error occurred compiling the shader: "+e.getShaderInfoLog(n)),null)}function o(t,e){return i(t.FRAGMENT_SHADER,t,e)}function a(t,e){return i(t.VERTEX_SHADER,t,e)}var g={en:{}},l=require("$").intl,s=require("dom"),f=require("tfw.data-binding"),c=function(t){var e=s.elem(this,"canvas");f.propInteger(this,"width")(function(t){e.setAttribute("width",t),e.style.width=t+"px"}),f.propInteger(this,"height")(function(t){e.setAttribute("height",t),e.style.height=t+"px"}),f.propString(this,"fragment"),t=f.extend({width:640,height:480,fragment:"a"},t,this),window.setTimeout(n.bind(this,e),20)};e.exports=c;var d={vertex:"attribute vec3 attVertexPosition;\n\nvarying vec4 attPosition;\n\nvoid main() {\n  gl_Position = vec4( attVertexPosition.xyz, 1.0 );\n  gl_PointSize = 250.0\n    + (attVertexPosition.z - 1.0) * 120.0;\n  attPosition = gl_Position;\n}\n",fragment:"precision mediump float;\n\nvarying vec4 attPosition;\n\nvoid main() {\n  float x = gl_PointCoord.x - 0.5;\n  float y = gl_PointCoord.y - 0.5;\n  float r = x*x + y*y;\n\n  if (r > 0.25) {\n    gl_FragColor = vec4( 0.0, 0.0, 0.0, 0.0 );\n  } else if (r > 0.24) {\n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 );\n  } else {\n    gl_FragColor = vec4( gl_PointCoord.y, gl_PointCoord.x, 0.0, 1.0 );\n  }\n}\n"};e.exports._=r});
=======
require("wdg.test",function(r,t,e){function n(r){function t(r){for(var n=0;n<f;n++)s=r/700+n*Math.PI*2/f,c[3*n+0]=.7*Math.cos(s),c[3*n+1]=.2*Math.sin(s),c[3*n+2]=.7*Math.sin(s);e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,c,e.STATIC_DRAW),e.clearColor(0,0,0,1),e.clear(e.COLOR_BUFFER_BIT|e.DEPTH_BUFFER_BIT),e.drawArrays(e.POINTS,0,f),window.requestAnimationFrame(t)}var e=r.getContext("webgl")||r.getContext("experimental-webgl");console.info("[wdg.gl3] 'fragment-' + this.fragment=...","fragment-"+this.fragment);var n=e.createProgram();e.attachShader(n,a(e,l.vertex)),e.attachShader(n,i(e,l.fragment)),e.linkProgram(n),e.useProgram(n);var o=e.createBuffer();e.bindBuffer(e.ARRAY_BUFFER,o),e.bufferData(e.ARRAY_BUFFER,new Float32Array([-.8,.8,.5,-.6,.6,.4,-.4,.4,.7,-.2,.2,.6,-0,0,.8,.2,-.2,0,.4,-.4,.1,.6,-.6,.3,.8,-.8,.2]),e.STATIC_DRAW);var g=e.getAttribLocation(n,"attVertexPosition");e.enableVertexAttribArray(g),e.vertexAttribPointer(g,3,e.FLOAT,!1,0,0),e.enable(e.BLEND),e.blendFunc(e.SRC_ALPHA,e.ONE_MINUS_SRC_ALPHA),e.disable(e.DEPTH_TEST);var s,f=7,c=new Float32Array(3*f);window.requestAnimationFrame(t)}function o(r,t,e){var n=t.createShader(r);return t.shaderSource(n,e),t.compileShader(n),t.getShaderParameter(n,t.COMPILE_STATUS)?n:(console.log(e),console.error("An error occurred compiling the shader: "+t.getShaderInfoLog(n)),null)}function i(r,t){return o(r.FRAGMENT_SHADER,r,t)}function a(r,t){return o(r.VERTEX_SHADER,r,t)}var g=function(){function t(){return n(e,arguments)}var e={en:{}},n=r("$").intl;return t.all=e,t}(),l={vertex:"attribute vec3 attVertexPosition;\r\n\r\nvarying vec4 attPosition;\r\n\r\nvoid main() {\r\n  gl_Position = vec4( attVertexPosition.xyz, 1.0 );\r\n  gl_PointSize = 250.0\r\n    + (attVertexPosition.z - 1.0) * 120.0;\r\n  attPosition = gl_Position;\r\n}\r\n",fragment:"precision mediump float;\r\n\r\nvarying vec4 attPosition;\r\n\r\nvoid main() {\r\n  float x = gl_PointCoord.x - 0.5;\r\n  float y = gl_PointCoord.y - 0.5;\r\n  float r = x*x + y*y;\r\n\r\n  if (r > 0.25) {\r\n    gl_FragColor = vec4( 0.0, 0.0, 0.0, 0.0 );\r\n  } else if (r > 0.24) {\r\n    gl_FragColor = vec4( 1.0, 1.0, 1.0, 1.0 );\r\n  } else {\r\n    gl_FragColor = vec4( gl_PointCoord.y, gl_PointCoord.x, 0.0, 1.0 );\r\n  }\r\n}\r\n"},s=r("dom"),f=r("tfw.data-binding"),c=function(r){var t=s.elem(this,"canvas");f.propInteger(this,"width")(function(r){t.setAttribute("width",r),t.style.width=r+"px"}),f.propInteger(this,"height")(function(r){t.setAttribute("height",r),t.style.height=r+"px"}),f.propString(this,"fragment"),r=f.extend({width:640,height:480,fragment:"a"},r,this),window.setTimeout(n.bind(this,t),20)};t.exports=c,t.exports._=g});
>>>>>>> ed60770fef43ceb6207a072673d058559ad5436c
//# sourceMappingURL=wdg.test.js.map