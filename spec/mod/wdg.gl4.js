require("wdg.gl4",function(n,t,e){function i(n){function t(e){o.uniform1f(d,n.width),o.uniform1f(x,n.height),o.uniform1f(g,e),o.uniform1f(m,e),o.clearColor(0,0,0,0),o.clear(o.COLOR_BUFFER_BIT|o.DEPTH_BUFFER_BIT),o.drawArrays(o.TRIANGLE_STRIP,0,4),window.requestAnimationFrame(t)}var e=l.vertex,i=l["fragment-"+this.fragment],o=n.getContext("webgl")||n.getContext("experimental-webgl"),f=o.createProgram();o.attachShader(f,a(o,e)),o.attachShader(f,r(o,i)),o.linkProgram(f),o.useProgram(f);var h=o.createBuffer();o.bindBuffer(o.ARRAY_BUFFER,h);var s=n.width,u=n.height;o.bufferData(o.ARRAY_BUFFER,new Float32Array([0,0,0,s,0,0,0,u,0,s,u,0]),o.STATIC_DRAW),o.bindBuffer(o.ARRAY_BUFFER,h);var c=o.getAttribLocation(f,"attVertexPosition");o.enableVertexAttribArray(c),o.vertexAttribPointer(c,3,o.FLOAT,!1,0,0);var g=o.getUniformLocation(f,"uniTimeV"),m=o.getUniformLocation(f,"uniTimeF"),d=o.getUniformLocation(f,"uniWidth"),x=o.getUniformLocation(f,"uniHeight");window.requestAnimationFrame(t)}function o(n,t,e){var i=t.createShader(n);return t.shaderSource(i,e),t.compileShader(i),t.getShaderParameter(i,t.COMPILE_STATUS)?i:(console.log(e),console.error("An error occurred compiling the shader: "+t.getShaderInfoLog(i)),null)}function r(n,t){return o(n.FRAGMENT_SHADER,n,t)}function a(n,t){return o(n.VERTEX_SHADER,n,t)}var f=function(){function t(){return i(e,arguments)}var e={en:{}},i=n("$").intl;return t.all=e,t}(),l={vertex:"attribute vec3 attVertexPosition;\n\nuniform float uniWidth;\nuniform float uniHeight;\n\nuniform lowp float uniTimeV;\n\nvarying lowp vec3 varVertexPosition;\n\nvoid main() {\n  highp float time = uniTimeV;\n\n  varVertexPosition = attVertexPosition;\n  \n  float x = attVertexPosition.x;\n  float y = attVertexPosition.y;\n\n  x = (2.0 * x / uniWidth) - 1.0;\n  y = 1.0 - (2.0 * y / uniHeight);\n\n  float speed = 0.0;\n\n  if (x < 0.0) {\n    if (y < 0.0) {\n      speed = 1600.0;\n    } else {\n      speed = 1643.0;\n    }\n  } else {\n    if (y < 0.0) {\n      speed = 1703.0;\n    } else {\n      speed = 1742.0;\n    }\n  }\n\n  float radius = 0.5 + (cos(time / speed) + 1.0) / 4.0;\n  gl_Position = vec4( x * radius, y * radius, 0.0, 1.0 );\n}\n","fragment-a":"const highp float PI = 3.1415926539;\nconst lowp vec3 COLOR0 = vec3(0.7, 0.9, 1.0);\nconst lowp vec3 COLOR1 = vec3(0.0, 0.7, 0.9);\n\nvarying lowp vec3 varVertexPosition;\n\nuniform lowp float uniTimeF;\n\nvoid main() {\n  highp float time = uniTimeF / 700.0;\n  \n  lowp float x = varVertexPosition.x + time * 120.0;\n  lowp float y = varVertexPosition.y + sin(time) * 15.0;\n  \n  lowp float xx = x / 10.0;\n  lowp float yy = y / 10.0;\n  \n  lowp float h = cos(yy) * cos(xx) + sin(yy);\n  h = cos( PI * h + time);\n  \n  h = (1.0 + h) / 2.0;\n  gl_FragColor = vec4( h * COLOR0 + (1.0 - h) * COLOR1, 1.0);\n}\n"},h=n("dom"),s=n("tfw.data-binding"),u=function(n){var t=h.elem(this,"canvas");s.propInteger(this,"width")(function(n){t.setAttribute("width",n),t.style.width=n+"px"}),s.propInteger(this,"height")(function(n){t.setAttribute("height",n),t.style.height=n+"px"}),s.propString(this,"fragment"),n=s.extend({width:640,height:480,fragment:"a"},n,this),window.setTimeout(i.bind(this,t),20)};t.exports=u,t.exports._=f});
//# sourceMappingURL=wdg.gl4.js.map